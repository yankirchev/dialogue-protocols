(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(51)},40:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),s=a.n(i),o=a(5),c=a(6),l=a(12),m=a(10),u=a(11),d=a(9),h=a(66),f=a(64),v=a(61),g=a(62),b=a(54),y=a(55),x=a(56),p=(a(40),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Purpose"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",null,"Diners' Discourse is a web application developed by Yanko Kirchev in 2019 as part of his Honours Year Computer Science Project\u2014",r.a.createElement("em",null,"Implementing Dialogue Protocols"),"\u2014to earn the degree of B.Sc. (Hons) Computer Science with Year in Industry at the Department of Computer Science at the University of Liverpool."),r.a.createElement("p",{className:"not-first"},"The application implements dialogue protocols for multi-agent systems based on the characterisations of persuasion and deliberation dialogues established in (Atkinson et al., 2013), which draws out the essential differences between the two types."),r.a.createElement("p",{className:"not-first"},"Diners' Discourse uses the protocols to generate dialogues from the same set of predefined synthetic data (with some degree of customisation by the user), which are parallel to the dialogues set out in (Atkinson et al., 2013), and verifies that the protocols exhibit the expected results when put to practice."))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Implementation"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",null,"The application is developed using the Node.js and React.js frameworks. The protocols rely heavily on the Tau Prolog module\u2014a Prolog interpreter written entirely in JavaScript\u2014 which brings the needed functionality for knowledge representation to Diners' Discourse."),r.a.createElement("p",{className:"not-first"},"On the front-end's side, Carbon Design's React.js components are utilised to enable an efficient construction of the website while delivering a responsive UI."))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Glossary"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement(b.e,{className:"structured-list"},r.a.createElement(b.c,null,r.a.createElement(b.d,{head:!0},r.a.createElement(b.b,{head:!0},"Term"),r.a.createElement(b.b,{head:!0},"Definition"))),r.a.createElement(b.a,null,r.a.createElement(b.d,null,r.a.createElement(b.b,{noWrap:!0},"Agent"),r.a.createElement(b.b,null,"An autonomous computer entity which learns and uses knowledge to execute independent actions towards achieving goals (Russel and Norvig, 2003).")),r.a.createElement(b.d,null,r.a.createElement(b.b,null,"Commitment Store"),r.a.createElement(b.b,null,"A set of statements to which an agent has become committed in the course of a dialogue (Atkinson et al., 2013).")),r.a.createElement(b.d,null,r.a.createElement(b.b,null,"Deliberation dialogue"),r.a.createElement(b.b,null,"A dialogue in which deliberation arises from a dilemma about what option is collectively acceptable where each party tries to find the best available course of action for the group as a whole (Walton and Krabbe, 1998).")),r.a.createElement(b.d,null,r.a.createElement(b.b,null,"Persuasion dialogue"),r.a.createElement(b.b,null,"A dialogue in which persuasion arises from a conflict of opinions on what the best available choice of action is where one party tries to persuade the other(s) towards their preferred option (Walton and Krabbe, 1998).")),r.a.createElement(b.d,null,r.a.createElement(b.b,null,"Protocol"),r.a.createElement(b.b,null,"Rules by which a dialogue pans out. These can specify the allowed speech acts at any point, the effects of utterances on the participants\u2019 commitments, the outcome of the dialogue, the turn-taking function, and the termination criteria (Prakken, 2006).")),r.a.createElement(b.d,null,r.a.createElement(b.b,{noWrap:!0},"Speech acts"),r.a.createElement(b.b,null,'A set of moves which participating agents in a dialogue can make in regards to statements. They comprise "claim", "why", "concede", "retract", "since", and "question" (Prakken, 2006).')))))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"References"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement(y.a,null,r.a.createElement(x.a,{className:"list-item reference"},"Atkinson, K., Bench-Capon, T., & Walton, D. (2013). Distinctive features of persuasion and deliberation dialogues.",r.a.createElement("em",null," Argument and Computation"),", 4(2), 105-127."),r.a.createElement(x.a,{className:"list-item reference"},"Prakken, H. (2006). Formal Systems for Persuasion Dialogue.",r.a.createElement("em",null," The Knowledge Engineering Review"),", 21(2), 163\u2013188."),r.a.createElement(x.a,{className:"list-item reference"},"Russell S., & Norvig, P. (2003). ",r.a.createElement("em",null,"Artificial Intelligence: A Modern Approach")," (2nd ed.). Upper Saddle River, New Jersey: Prentice Hall."),r.a.createElement(x.a,{className:"list-item reference"},"Walton, D., & Krabbe, E. (1995). ",r.a.createElement("em",null,"Commitment in Dialogue: Basic Concepts of Interpersonal Reasoning"),". Albany, New York: State University of New York Press.")))))}}]),t}(n.Component)),w=a(25),E=a(58),N=a(59),S=a(60),k=a(52),A=a(65),R=a(68),T=a(57),C=(a(43),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={accordionItems:null,currentSpeechActIndex:1},e.decrementSpeechActIndex=e.decrementSpeechActIndex.bind(Object(d.a)(Object(d.a)(e))),e.incrementSpeechActIndex=e.incrementSpeechActIndex.bind(Object(d.a)(Object(d.a)(e))),e.maximiseSpeechActIndex=e.maximiseSpeechActIndex.bind(Object(d.a)(Object(d.a)(e))),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"decrementSpeechActIndex",value:function(){this.setState({currentSpeechActIndex:this.state.currentSpeechActIndex-1})}},{key:"incrementSpeechActIndex",value:function(){this.setState({currentSpeechActIndex:this.state.currentSpeechActIndex+1})}},{key:"maximiseSpeechActIndex",value:function(){this.setState({currentSpeechActIndex:this.props.dialogue.commitmentStoreHistory.length})}},{key:"componentDidMount",value:function(){var e=this;this.setState({accordionItems:this.props.dialogue.text.split("\n").map(function(t,a){return""!==t&&r.a.createElement(R.a,{key:a,title:r.a.createElement("div",null,r.a.createElement("strong",null,t.split(":")[0]),":",t.split(":")[1])},r.a.createElement(y.a,null,e.props.dialogue.agents.map(function(t,n){return r.a.createElement(x.a,{className:"list-item",key:n},t.name,"'s commitment store:",r.a.createElement(y.a,{nested:!0,className:"unordered-nested-list"},e.props.dialogue.commitmentStoreHistory[a][n].split("\n").map(function(e,t){return""!==e&&r.a.createElement(x.a,{className:"nested-list-item",key:t},e)})))}),"Deliberation"===e.props.dialogueType&&r.a.createElement(x.a,{className:"list-item"},"Agreed preference rule:",r.a.createElement(y.a,{nested:!0,className:"unordered-nested-list"},r.a.createElement(x.a,{className:"nested-list-item"},e.props.dialogue.agreedPreferenceRuleHistory[a])))))})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},this.props.dialogueType," Dialogue"),r.a.createElement(T.a,{className:"dialogue-accordion"},this.state.accordionItems&&this.state.accordionItems.slice(0,this.state.currentSpeechActIndex)),r.a.createElement("div",{className:"buttons-wrapper"},r.a.createElement(h.a,{small:!0,kind:"secondary",disabled:1===this.state.currentSpeechActIndex,onClick:this.decrementSpeechActIndex},"Previous"),r.a.createElement(h.a,{small:!0,kind:"primary",disabled:this.state.currentSpeechActIndex===this.props.dialogue.commitmentStoreHistory.length,onClick:this.incrementSpeechActIndex},"Next"),r.a.createElement(h.a,{small:!0,className:"tertiary",kind:"tertiary",disabled:this.state.currentSpeechActIndex===this.props.dialogue.commitmentStoreHistory.length,onClick:this.maximiseSpeechActIndex},"Reveal all")))}}]),t}(n.Component)),P=a(15),X=a(3),I=a.n(X),O=function(){function e(t,a,n){Object(o.a)(this,e),this.name=t,this.initialPreference=a,this.knowledgeBase=n,this.commitmentStore="",this.commitmentDependencies=""}return Object(c.a)(e,[{key:"doesPrefer",value:function(e){var t=[this.initialPreference],a=I.a.create();return a.consult(this.knowledgeBase+this.commitmentStore),a.query("acceptableRestaurant(X)."),a.answers(function(e){t.push(I.a.format_answer(e).split(" ")[2])}),t.includes(e)}}]),e}();function j(e){return e.replace(/[']/g,"").replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(e,t){return 0===+e?"":0===t?e.toLowerCase():e.toUpperCase()})}function D(e){return e.replace(/([a-z\d])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1 $2").toLowerCase()}function Z(e){var t="",a=!0,n=!1,r=void 0;try{for(var i,s=e.entries()[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var o=i.value,c=Object(P.a)(o,2),l=c[0],m=c[1];1===e.length?t+="".concat(z(m)):l===e.length-1?t+="".concat(z(m)):l!==e.length-2?t+="".concat(z(m),", "):e.length>=3&&l===e.length-2?t+="".concat(z(m),", and "):e.length<3&&l===e.length-2&&(t+="".concat(z(m)," and "))}}catch(u){n=!0,r=u}finally{try{a||null==s.return||s.return()}finally{if(n)throw r}}return t}function z(e){var t=e.match(/([A-Za-z0-9_])+/g)[1],a=e.match(/([A-Za-z0-9])+/g)[0],n=e.match(/([A-Za-z0-9_])+/g)[2],r=e.match(/([A-Za-z0-9_])+/g)[3],i="";return i="_"!==t?e.includes("\\+(")?"".concat(D(t)," lacks property ").concat(D(a)):"".concat(D(t)," has property ").concat(D(a)):"property ".concat(D(a)),n&&"_"!==n?(i+=" of value ".concat(D(n)),r&&"_"!==r&&(i+=" and cost ".concat(D(r)))):r&&"_"!==r&&(i+=" of cost ".concat(D(r))),i}var _=function(){function e(t){if(Object(o.a)(this,e),(this instanceof e?this.constructor:void 0)===e)throw new TypeError("Cannot construct Dialogue instances directly!");this.agents=t,this.text="".concat(t[0].name,": Where shall we eat?\n"),this.commitmentStoreHistory=[["","",""]]}return Object(c.a)(e,[{key:"saveCommitmentStores",value:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,i=this.agents[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var s=r.value;e.push(s.commitmentStore)}}catch(o){a=!0,n=o}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}this.commitmentStoreHistory.push(e)}},{key:"claim",value:function(e,t){var a=I.a.create();a.consult(e.knowledgeBase+e.commitmentStore),a.query(t),a.answer(function(a){if("true ;"!==I.a.format_answer(a))throw new Error("Pre-conditions of ".concat(e.name,' claiming "').concat(z(t),'" are not satisfied because ')+"the agent cannot demonstrate the claim through their knowledge base and commitment store!")});var n=!0,r=!1,i=void 0;try{for(var s,o=this.agents[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var c=s.value;if(c.commitmentStore.includes(t))throw new Error("Pre-conditions of ".concat(e.name,' claiming "').concat(z(t),'" are not satisfied because ')+"".concat(c.name,"'s commitment store contains the claim!"))}}catch(l){r=!0,i=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}e.commitmentStore+="".concat(t,"\n"),this.text+="".concat(e.name,": ").concat(z(t),".\n"),this.saveCommitmentStores()}},{key:"why",value:function(e,t){var a=I.a.create();a.consult(e.knowledgeBase+e.commitmentStore),a.query(t),a.answer(function(a){if("true ;"===I.a.format_answer(a))throw new Error("Pre-conditions of ".concat(e.name,' asking why "').concat(z(t),'" are not satisfied because ')+"the agent can demonstrate the claim through their knowledge base and commitment store!")});var n=!1,r=!0,i=!1,s=void 0;try{for(var o,c=this.agents[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value;l!==e&&l.commitmentStore.includes(t)&&(n=!0)}}catch(m){i=!0,s=m}finally{try{r||null==c.return||c.return()}finally{if(i)throw s}}if(!1===n)throw new Error("Pre-conditions of ".concat(e.name,' asking why "').concat(z(t),'" are not satisfied because ')+"no other agent's commitment store contains the claim!");this.text+="".concat(e.name,": Why is it that ").concat(z(t),"?\n"),this.saveCommitmentStores()}},{key:"concede",value:function(e,t){var a=!1,n=!0,r=!1,i=void 0;try{for(var s,o=this.agents[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var c=s.value;c!==e&&c.commitmentStore.includes(t)&&(a=!0)}}catch(l){r=!0,i=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}if(!1===a)throw new Error("Pre-conditions of ".concat(e.name,' conceding to "').concat(z(t),'" are not satisfied because ')+"no other agent's commitment store contains the claim!");if(t.includes("\\+(")&&e.commitmentStore.includes("".concat(t.substring(3,t.length-2),"."))||!t.includes("\\+(")&&e.commitmentStore.includes("\\+(".concat(t.substring(0,t.length-1),").")))throw new Error("Pre-conditions of ".concat(e.name,' conceding to "').concat(z(t),'" are not satisfied because ')+"the agent's commitment store contains the negation of the claim!");e.commitmentStore.includes(t)||(e.commitmentStore+="".concat(t,"\n")),this.text+="".concat(e.name,": I accept that ").concat(z(t),".\n"),this.saveCommitmentStores()}},{key:"retract",value:function(e,t){var a=I.a.create();if(a.consult(e.knowledgeBase+e.commitmentStore.replace(t,"")),a.query(t),a.answer(function(a){if("true ;"===I.a.format_answer(a))throw new Error("Pre-conditions of ".concat(e.name,' retracting "').concat(z(t),'" are not satisfied because ')+"the agent can demonstrate the claim through their knowledge base and remaining commitment store!")}),!e.commitmentStore.includes(t))throw new Error("Pre-conditions of ".concat(e.name,' retracting "').concat(z(t),'" are not satisfied because ')+"the agent's commitment store does not contain the claim!");e.commitmentStore=e.commitmentStore.replace("".concat(t,"\n"),""),this.text+="".concat(e.name,": I take back that ").concat(z(t),".\n"),this.saveCommitmentStores()}},{key:"since",value:function(e,t,a,n){if(!e.commitmentStore.includes(a))throw new Error("Pre-conditions of ".concat(e.name,' offering reasoning for "').concat(z(a),'" are not satisfied because ')+"the agent's commitment store does not contain the claim!");var r=!0,i=!1,s=void 0;try{for(var o,c=n[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value;if(!e.knowledgeBase.includes(l))throw new Error("Pre-conditions of ".concat(e.name,' offering reasoning for "').concat(z(a),'" are not satisfied because ')+"the agent's knowledge base does not contain all justifications!")}}catch(q){i=!0,s=q}finally{try{r||null==c.return||c.return()}finally{if(i)throw s}}var m="",u=!0,d=!1,h=void 0;try{for(var f,v=n[Symbol.iterator]();!(u=(f=v.next()).done);u=!0){var g=f.value;m+="".concat(g,"\n")}}catch(q){d=!0,h=q}finally{try{u||null==v.return||v.return()}finally{if(d)throw h}}var b=I.a.create();b.consult(m+t.commitmentStore+t.commitmentDependencies),b.query(a),b.answer(function(n){if("true ;"!==I.a.format_answer(n))throw new Error("Pre-conditions of ".concat(e.name,' offering reasoning for "').concat(z(a),'" are not satisfied because ')+"".concat(t.name," cannot demonstrate the claim through the justifications and their commitment store!"))});var y=!0,x=!1,p=void 0;try{for(var w,E=n[Symbol.iterator]();!(y=(w=E.next()).done);y=!0){var N=w.value;e.commitmentStore.includes(N)||(e.commitmentStore+="".concat(N,"\n"))}}catch(q){x=!0,p=q}finally{try{y||null==E.return||E.return()}finally{if(x)throw p}}var S=!0,k=!1,A=void 0;try{for(var R,T=n[Symbol.iterator]();!(S=(R=T.next()).done);S=!0){var C=R.value;t.commitmentStore.includes(C)||(t.commitmentStore+="".concat(C,"\n"))}}catch(q){k=!0,A=q}finally{try{S||null==T.return||T.return()}finally{if(k)throw A}}var P=n[0].split("-")[1].split(", ")[0].replace(/X/g,a.match(/([A-Za-z0-9])+/g)[1]),X=!0,O=!1,j=void 0;try{for(var D,_=function(){var e=D.value;if(e[0]!==e[0].toLowerCase()){var a=I.a.create();a.consult(m+t.commitmentStore+t.commitmentDependencies),"."!==P[P.length-1]&&"."!==P[P.length-2]&&(P+="."),a.query(P),a.answer(function(t){return P=P.replace(e,I.a.format_answer(t).split(" ")[2].replace(/,|\./g,""))})}},B=P.match(/([A-Za-z0-9])+/g)[Symbol.iterator]();!(X=(D=B.next()).done);X=!0)_()}catch(q){O=!0,j=q}finally{try{X||null==B.return||B.return()}finally{if(O)throw j}}this.text+="".concat(e.name,": ").concat(z(a)," since ").concat(Z(P.split("),")),".\n"),this.saveCommitmentStores()}},{key:"question",value:function(e,t){var a=!0,n=!1,r=void 0;try{for(var i,s=this.agents[Symbol.iterator]();!(a=(i=s.next()).done);a=!0){var o=i.value;if(o.commitmentStore.includes(t))throw new Error("Pre-conditions of ".concat(e.name,' questioning if "').concat(z(t),'" are not satisfied because ')+"".concat(o.name,"'s commitment store contains the claim!"))}}catch(l){n=!0,r=l}finally{try{a||null==s.return||s.return()}finally{if(n)throw r}}var c=I.a.create();c.consult(e.knowledgeBase+e.commitmentStore),c.query(t),c.answer(function(a){if("true ;"===I.a.format_answer(a))throw new Error("Pre-conditions of ".concat(e.name,' questioning if "').concat(z(t),'" are not satisfied because ')+"the agent can demonstrate the claim through their knowledge base and commitment store!")}),this.text+="".concat(e.name,": I wonder if ").concat(z(t),".\n"),this.saveCommitmentStores()}}]),e}(),B=function(e){function t(e,a){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).proponent=e[a],n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"isOver",value:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=this.agents[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){if(!n.value.commitmentStore.includes("acceptableRestaurant(".concat(this.proponent.initialPreference,").")))return!1}}catch(i){t=!0,a=i}finally{try{e||null==r.return||r.return()}finally{if(t)throw a}}return!0}},{key:"claim",value:function(e,t){var a=t.match(/([A-Za-z0-9])+/g)[1],n=t.match(/([A-Za-z0-9])+/g)[0],r=I.a.create();r.consult(e.knowledgeBase+e.commitmentStore),r.query(t),r.answer(function(a){if("true ;"!==I.a.format_answer(a))throw new Error("Pre-conditions of ".concat(e.name,' claiming "').concat(z(t),'" are not satisfied because ')+"the agent cannot demonstrate the claim through their knowledge base and commitment store!")});var i=!0,s=!1,o=void 0;try{for(var c,l=this.agents[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var m=c.value;if(m.commitmentStore.includes(t))throw new Error("Pre-conditions of ".concat(e.name,' claiming "').concat(z(t),'" are not satisfied because ')+"".concat(m.name,"'s commitment store contains the claim!"))}}catch(de){s=!0,o=de}finally{try{i||null==l.return||l.return()}finally{if(s)throw o}}if(e!==this.proponent){if(!e.doesPrefer(a)){var u=!1,d=!0,h=!1,f=void 0;try{for(var v,g=this.agents[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var b=v.value;b!==e&&b.doesPrefer(a)&&(u=!0)}}catch(de){h=!0,f=de}finally{try{d||null==g.return||g.return()}finally{if(h)throw f}}if(!u)throw new Error("Pre-conditions of ".concat(e.name,' claiming "').concat(z(t),'" are not satisfied because ')+"the restaurant is not preferable to any other agent!")}var y=[],x=!0,p=!1,w=void 0;try{for(var E,N=e.knowledgeBase.split("\n")[Symbol.iterator]();!(x=(E=N.next()).done);x=!0){var S=E.value;if(/^acceptableRestaurant\(X/.test(S)){var k=!0,A=!1,R=void 0;try{for(var T,C=S.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(k=(T=C.next()).done);k=!0){var P=T.value;y.includes(P)||y.push(P)}}catch(de){A=!0,R=de}finally{try{k||null==C.return||C.return()}finally{if(A)throw R}}}}}catch(de){p=!0,w=de}finally{try{x||null==N.return||N.return()}finally{if(p)throw w}}for(var X=0;X<y.length;X++){var O=!0,j=!1,D=void 0;try{for(var Z,_=e.knowledgeBase.split("\n")[Symbol.iterator]();!(O=(Z=_.next()).done);O=!0){var B=Z.value;if(new RegExp("^"+y[X]+"\\(X").test(B)){var q=!0,H=!1,J=void 0;try{for(var W,Y=B.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(q=(W=Y.next()).done);q=!0){var F=W.value;y.includes(F)||y.push(F)}}catch(de){H=!0,J=de}finally{try{q||null==Y.return||Y.return()}finally{if(H)throw J}}}}}catch(de){j=!0,D=de}finally{try{O||null==_.return||_.return()}finally{if(j)throw D}}}if(!y.includes(n))throw new Error("Pre-conditions of ".concat(e.name,' claiming "').concat(z(t),'" are not satisfied because ')+"the claim does not correspond to a feature in the body of the agent's preference rule!")}if(e.commitmentStore+="".concat(t,"\n"),e!==this.proponent){e.doesPrefer(a)&&(r.query("acceptableRestaurant(".concat(a,").")),r.answer(function(t){"true ;"!==I.a.format_answer(t)||e.commitmentStore.includes("acceptableRestaurant(".concat(a,")."))||(e.commitmentStore+="acceptableRestaurant(".concat(a,").\n"))}));var K=[],G=!0,V=!1,U=void 0;try{for(var L,$=(e.knowledgeBase+e.commitmentStore).split("\n")[Symbol.iterator]();!(G=(L=$.next()).done);G=!0){var M=L.value;new RegExp("^"+n+"\\(X(?=\\)|,[A-Z]|,"+t.match(/([A-Za-z0-9_])+/g)[2]+")").test(M)&&(e.commitmentStore.includes(M)||(e.commitmentStore+="".concat(M,"\n")),K=K.concat(M.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)))}}catch(de){V=!0,U=de}finally{try{G||null==$.return||$.return()}finally{if(V)throw U}}for(var Q=0;Q<K.length;Q++){var ee=!0,te=!1,ae=void 0;try{for(var ne,re=e.knowledgeBase.split("\n")[Symbol.iterator]();!(ee=(ne=re.next()).done);ee=!0){var ie=ne.value;if(new RegExp("^"+K[Q]+"\\(").test(ie)){if(ie.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)){var se=!0,oe=!1,ce=void 0;try{for(var le,me=ie.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(se=(le=me.next()).done);se=!0){var ue=le.value;K.includes(ue)||K.push(ue)}}catch(de){oe=!0,ce=de}finally{try{se||null==me.return||me.return()}finally{if(oe)throw ce}}}e.commitmentStore.includes(ie)||e.commitmentDependencies.includes(ie)||(e.commitmentDependencies+="".concat(ie,"\n"))}}}catch(de){te=!0,ae=de}finally{try{ee||null==re.return||re.return()}finally{if(te)throw ae}}}}e.doesPrefer(a)?this.text+="".concat(e.name,": ").concat(z(t),".\n"):this.text+="".concat(e.name,": But ").concat(z(t),".\n"),this.saveCommitmentStores()}},{key:"concede",value:function(e,t){var a=t.match(/([A-Za-z0-9])+/g)[0],n=!1,r=!0,i=!1,s=void 0;try{for(var o,c=this.agents[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value;l!==e&&l.commitmentStore.includes(t)&&(n=!0)}}catch(ne){i=!0,s=ne}finally{try{r||null==c.return||c.return()}finally{if(i)throw s}}if(!1===n)throw new Error("Pre-conditions of ".concat(e.name,' conceding to "').concat(z(t),'" are not satisfied because ')+"no other agent's commitment store contains the claim!");if(t.includes("\\+(")&&e.commitmentStore.includes("".concat(t.substring(3,t.length-2),"."))||!t.includes("\\+(")&&e.commitmentStore.includes("\\+(".concat(t.substring(0,t.length-1),").")))throw new Error("Pre-conditions of ".concat(e.name,' conceding to "').concat(z(t),'" are not satisfied because ')+"the agent's commitment store contains the negation of the claim!");if(e!==this.proponent){var m=["acceptableRestaurant"],u=!0,d=!1,h=void 0;try{for(var f,v=e.knowledgeBase.split("\n")[Symbol.iterator]();!(u=(f=v.next()).done);u=!0){var g=f.value;if(/^acceptableRestaurant\(X/.test(g)){var b=!0,y=!1,x=void 0;try{for(var p,w=g.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(b=(p=w.next()).done);b=!0){var E=p.value;m.includes(E)||m.push(E)}}catch(ne){y=!0,x=ne}finally{try{b||null==w.return||w.return()}finally{if(y)throw x}}}}}catch(ne){d=!0,h=ne}finally{try{u||null==v.return||v.return()}finally{if(d)throw h}}for(var N=0;N<m.length;N++){var S=!0,k=!1,A=void 0;try{for(var R,T=e.knowledgeBase.split("\n")[Symbol.iterator]();!(S=(R=T.next()).done);S=!0){var C=R.value;if(new RegExp("^"+m[N]+"\\(X").test(C)){var P=!0,X=!1,I=void 0;try{for(var O,j=C.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(P=(O=j.next()).done);P=!0){var D=O.value;m.includes(D)||m.push(D)}}catch(ne){X=!0,I=ne}finally{try{P||null==j.return||j.return()}finally{if(X)throw I}}}}}catch(ne){k=!0,A=ne}finally{try{S||null==T.return||T.return()}finally{if(k)throw A}}}if(!m.includes(a))throw new Error("Pre-conditions of ".concat(e.name,' conceding to "').concat(z(t),'" are not satisfied because ')+"the claim does not correspond to a feature in the body of the agent's preference rule!")}if(e.commitmentStore.includes(t)||(e.commitmentStore+="".concat(t,"\n")),e!==this.proponent){var Z=[],_=!0,B=!1,q=void 0;try{for(var H,J=(e.knowledgeBase+e.commitmentStore).split("\n")[Symbol.iterator]();!(_=(H=J.next()).done);_=!0){var W=H.value;new RegExp("^"+a+"\\(X(?=\\)|,[A-Z]|,"+t.match(/([A-Za-z0-9_])+/g)[2]+")").test(W)&&(e.commitmentStore.includes(W)||(e.commitmentStore+="".concat(W,"\n")),Z=Z.concat(W.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)))}}catch(ne){B=!0,q=ne}finally{try{_||null==J.return||J.return()}finally{if(B)throw q}}for(var Y=0;Y<Z.length;Y++){var F=!0,K=!1,G=void 0;try{for(var V,U=e.knowledgeBase.split("\n")[Symbol.iterator]();!(F=(V=U.next()).done);F=!0){var L=V.value;if(new RegExp("^"+Z[Y]+"\\(").test(L)){if(L.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)){var $=!0,M=!1,Q=void 0;try{for(var ee,te=L.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!($=(ee=te.next()).done);$=!0){var ae=ee.value;Z.includes(ae)||Z.push(ae)}}catch(ne){M=!0,Q=ne}finally{try{$||null==te.return||te.return()}finally{if(M)throw Q}}}e.commitmentStore.includes(L)||e.commitmentDependencies.includes(L)||(e.commitmentDependencies+="".concat(L,"\n"))}}}catch(ne){K=!0,G=ne}finally{try{F||null==U.return||U.return()}finally{if(K)throw G}}}}this.text+="".concat(e.name,": I accept that ").concat(z(t),".\n"),this.saveCommitmentStores()}},{key:"question",value:function(e,t){var a=t.match(/([A-Za-z0-9])+/g)[0],n=!0,r=!1,i=void 0;try{for(var s,o=this.agents[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var c=s.value;if(c.commitmentStore.includes(t))throw new Error("Pre-conditions of ".concat(e.name,' questioning if "').concat(z(t),'" are not satisfied because ')+"".concat(c.name,"'s commitment store contains the claim!"))}}catch(re){r=!0,i=re}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}var l=I.a.create();if(l.consult(e.knowledgeBase+e.commitmentStore),l.query(t),l.answer(function(a){if("true ;"===I.a.format_answer(a))throw new Error("Pre-conditions of ".concat(e.name,' questioning if "').concat(z(t),'" are not satisfied because ')+"the agent can demonstrate the claim through their knowledge base and commitment store!")}),e!==this.proponent){var m=[],u=!0,d=!1,h=void 0;try{for(var f,v=e.knowledgeBase.split("\n")[Symbol.iterator]();!(u=(f=v.next()).done);u=!0){var g=f.value;if(/^acceptableRestaurant\(X/.test(g)){var b=!0,y=!1,x=void 0;try{for(var p,w=g.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(b=(p=w.next()).done);b=!0){var E=p.value;m.includes(E)||m.push(E)}}catch(re){y=!0,x=re}finally{try{b||null==w.return||w.return()}finally{if(y)throw x}}}}}catch(re){d=!0,h=re}finally{try{u||null==v.return||v.return()}finally{if(d)throw h}}for(var N=0;N<m.length;N++){var S=!0,k=!1,A=void 0;try{for(var R,T=e.knowledgeBase.split("\n")[Symbol.iterator]();!(S=(R=T.next()).done);S=!0){var C=R.value;if(new RegExp("^"+m[N]+"\\(X").test(C)){var P=!0,X=!1,O=void 0;try{for(var j,D=C.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(P=(j=D.next()).done);P=!0){var Z=j.value;m.includes(Z)||m.push(Z)}}catch(re){X=!0,O=re}finally{try{P||null==D.return||D.return()}finally{if(X)throw O}}}}}catch(re){k=!0,A=re}finally{try{S||null==T.return||T.return()}finally{if(k)throw A}}}if(!m.includes(a))throw new Error("Pre-conditions of ".concat(e.name,' questioning if "').concat(z(t),'" are not satisfied because ')+"the claim does not correspond to a feature in the body of the agent's preference rule!")}if(e!==this.proponent){var _=[],B=!0,q=!1,H=void 0;try{for(var J,W=(e.knowledgeBase+e.commitmentStore).split("\n")[Symbol.iterator]();!(B=(J=W.next()).done);B=!0){var Y=J.value;new RegExp("^"+a+"\\(X(?=\\)|,[A-Z]|,"+t.match(/([A-Za-z0-9_])+/g)[2]+")").test(Y)&&(e.commitmentStore.includes(Y)||(e.commitmentStore+="".concat(Y,"\n")),_=_.concat(Y.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)))}}catch(re){q=!0,H=re}finally{try{B||null==W.return||W.return()}finally{if(q)throw H}}for(var F=0;F<_.length;F++){var K=!0,G=!1,V=void 0;try{for(var U,L=e.knowledgeBase.split("\n")[Symbol.iterator]();!(K=(U=L.next()).done);K=!0){var $=U.value;if(new RegExp("^"+_[F]+"\\(").test($)){if($.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)){var M=!0,Q=!1,ee=void 0;try{for(var te,ae=$.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(M=(te=ae.next()).done);M=!0){var ne=te.value;_.includes(ne)||_.push(ne)}}catch(re){Q=!0,ee=re}finally{try{M||null==ae.return||ae.return()}finally{if(Q)throw ee}}}e.commitmentStore.includes($)||e.commitmentDependencies.includes($)||(e.commitmentDependencies+="".concat($,"\n"))}}}catch(re){G=!0,V=re}finally{try{K||null==L.return||L.return()}finally{if(G)throw V}}}}this.text+="".concat(e.name,": I wonder if ").concat(z(t),".\n"),this.saveCommitmentStores()}}]),t}(_),q=a(34),H=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).agreedPreferenceRule="acceptableRestaurant(X):-",a.agreedPreferenceRuleHistory=[a.agreedPreferenceRule],a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"saveCommitmentStores",value:function(){Object(q.a)(Object(m.a)(t.prototype),"saveCommitmentStores",this).call(this),this.agreedPreferenceRuleHistory.push(this.agreedPreferenceRule)}},{key:"isOver",value:function(){var e="",t=!0,a=!1,n=void 0;try{for(var r,i=this.agents[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var s=r.value,o=!0,c=!1,l=void 0;try{for(var m,u=s.commitmentStore.split("\n")[Symbol.iterator]();!(o=(m=u.next()).done);o=!0){var d=m.value;/^acceptableRestaurant\(/.test(d)||(e+="".concat(d,"\n"))}}catch(p){c=!0,l=p}finally{try{o||null==u.return||u.return()}finally{if(c)throw l}}}}catch(p){a=!0,n=p}finally{try{t||null==i.return||i.return()}finally{if(a)throw n}}e+=this.agreedPreferenceRule;var h="",f=I.a.create();f.consult(e),f.query("acceptableRestaurant(X)."),f.answer(function(e){h=I.a.format_answer(e).split(" ")[2]});var v=!0,g=!1,b=void 0;try{for(var y,x=this.agents[Symbol.iterator]();!(v=(y=x.next()).done);v=!0){if(!y.value.commitmentStore.includes("acceptableRestaurant(".concat(h,")")))return!1}}catch(p){g=!0,b=p}finally{try{v||null==x.return||x.return()}finally{if(g)throw b}}return!0}},{key:"addTermToAgreedPreferenceRule",value:function(e){var t=e.match(/([A-Za-z0-9_])+/g)[1];this.agreedPreferenceRule.includes(e.substring(0,e.length-1).replace(t,"X"))||("-"===this.agreedPreferenceRule[this.agreedPreferenceRule.length-1]?this.agreedPreferenceRule+=e.replace(t,"X"):this.agreedPreferenceRule="".concat(this.agreedPreferenceRule.substring(0,this.agreedPreferenceRule.length-1),",").concat(e.replace(t,"X")))}},{key:"claim",value:function(e,t){var a=t.match(/([A-Za-z0-9])+/g)[1],n=t.match(/([A-Za-z0-9])+/g)[0],r=I.a.create();r.consult(e.knowledgeBase+e.commitmentStore),r.query(t),r.answer(function(a){if("true ;"!==I.a.format_answer(a))throw new Error("Pre-conditions of ".concat(e.name,' claiming "').concat(z(t),'" are not satisfied because ')+"the agent cannot demonstrate the claim through their knowledge base and commitment store!")});var i=!0,s=!1,o=void 0;try{for(var c,l=this.agents[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var m=c.value;if(m.commitmentStore.includes(t))throw new Error("Pre-conditions of ".concat(e.name,' claiming "').concat(z(t),'" are not satisfied because ')+"".concat(m.name,"'s commitment store contains the claim!"))}}catch(de){s=!0,o=de}finally{try{i||null==l.return||l.return()}finally{if(s)throw o}}if(!e.doesPrefer(a)){var u=!1,d=!0,h=!1,f=void 0;try{for(var v,g=this.agents[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var b=v.value;b!==e&&b.doesPrefer(a)&&(u=!0)}}catch(de){h=!0,f=de}finally{try{d||null==g.return||g.return()}finally{if(h)throw f}}if(!u)throw new Error("Pre-conditions of ".concat(e.name,' claiming "').concat(z(t),'" are not satisfied because ')+"the restaurant is not preferable to any other agent!")}var y=[],x=!0,p=!1,w=void 0;try{for(var E,N=e.knowledgeBase.split("\n")[Symbol.iterator]();!(x=(E=N.next()).done);x=!0){var S=E.value;if(/^acceptableRestaurant\(X/.test(S)){var k=!0,A=!1,R=void 0;try{for(var T,C=S.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(k=(T=C.next()).done);k=!0){var P=T.value;y.includes(P)||y.push(P)}}catch(de){A=!0,R=de}finally{try{k||null==C.return||C.return()}finally{if(A)throw R}}}}}catch(de){p=!0,w=de}finally{try{x||null==N.return||N.return()}finally{if(p)throw w}}for(var X=0;X<y.length;X++){var O=!0,j=!1,D=void 0;try{for(var Z,_=e.knowledgeBase.split("\n")[Symbol.iterator]();!(O=(Z=_.next()).done);O=!0){var B=Z.value;if(new RegExp("^"+y[X]+"\\(X").test(B)){var q=!0,H=!1,J=void 0;try{for(var W,Y=B.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(q=(W=Y.next()).done);q=!0){var F=W.value;y.includes(F)||y.push(F)}}catch(de){H=!0,J=de}finally{try{q||null==Y.return||Y.return()}finally{if(H)throw J}}}}}catch(de){j=!0,D=de}finally{try{O||null==_.return||_.return()}finally{if(j)throw D}}}if(!y.includes(n))throw new Error("Pre-conditions of ".concat(e.name,' claiming "').concat(z(t),'" are not satisfied because ')+"the claim does not correspond to a feature in the body of the agent's preference rule!");e.commitmentStore+="".concat(t,"\n"),e.doesPrefer(a)&&(r.query("acceptableRestaurant(".concat(a,").")),r.answer(function(t){"true ;"!==I.a.format_answer(t)||e.commitmentStore.includes("acceptableRestaurant(".concat(a,")."))||(e.commitmentStore+="acceptableRestaurant(".concat(a,").\n"))}));var K=[],G=!0,V=!1,U=void 0;try{for(var L,$=(e.knowledgeBase+e.commitmentStore).split("\n")[Symbol.iterator]();!(G=(L=$.next()).done);G=!0){var M=L.value;new RegExp("^"+n+"\\(X(?=\\)|,[A-Z]|,"+t.match(/([A-Za-z0-9_])+/g)[2]+")").test(M)&&(e.commitmentStore.includes(M)||(e.commitmentStore+="".concat(M,"\n")),K=K.concat(M.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)))}}catch(de){V=!0,U=de}finally{try{G||null==$.return||$.return()}finally{if(V)throw U}}for(var Q=0;Q<K.length;Q++){var ee=!0,te=!1,ae=void 0;try{for(var ne,re=e.knowledgeBase.split("\n")[Symbol.iterator]();!(ee=(ne=re.next()).done);ee=!0){var ie=ne.value;if(new RegExp("^"+K[Q]+"\\(").test(ie)){if(ie.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)){var se=!0,oe=!1,ce=void 0;try{for(var le,me=ie.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(se=(le=me.next()).done);se=!0){var ue=le.value;K.includes(ue)||K.push(ue)}}catch(de){oe=!0,ce=de}finally{try{se||null==me.return||me.return()}finally{if(oe)throw ce}}}e.commitmentStore.includes(ie)||e.commitmentDependencies.includes(ie)||(e.commitmentDependencies+="".concat(ie,"\n"))}}}catch(de){te=!0,ae=de}finally{try{ee||null==re.return||re.return()}finally{if(te)throw ae}}}e.doesPrefer(a)?this.text+="".concat(e.name,": ").concat(z(t),".\n"):this.text+="".concat(e.name,": But ").concat(z(t),".\n"),this.saveCommitmentStores()}},{key:"since",value:function(e,t,a,n){var r=this,i=a.match(/([A-Za-z0-9])+/g)[1],s=I.a.create(),o="",c=!0,l=!1,m=void 0;try{for(var u,d=n[Symbol.iterator]();!(c=(u=d.next()).done);c=!0){var h=u.value;o+="".concat(h,"\n")}}catch(ye){l=!0,m=ye}finally{try{c||null==d.return||d.return()}finally{if(l)throw m}}if(/^acceptableRestaurant\(/.test(a)){s.consult(e.knowledgeBase+e.commitmentStore+o),s.query(a),s.answer(function(t){if("true ;"!==I.a.format_answer(t))throw new Error("Pre-conditions of ".concat(e.name,' offering reasoning for "').concat(z(a),'" are not satisfied because ')+"the agent cannot demonstrate the claim through their knowledge base, commitment store, and the justifications!")});var f=!1,v=!0,g=!1,b=void 0;try{for(var y,x=this.agents[Symbol.iterator]();!(v=(y=x.next()).done);v=!0){var p=y.value,w=!0,E=!0,N=!1,S=void 0;try{for(var k,A=n[Symbol.iterator]();!(E=(k=A.next()).done);E=!0){var R=k.value;p===e||p.commitmentStore.includes(R)||(w=!1)}}catch(ye){N=!0,S=ye}finally{try{E||null==A.return||A.return()}finally{if(N)throw S}}p!==e&&!0===w&&(f=!0)}}catch(ye){g=!0,b=ye}finally{try{v||null==x.return||x.return()}finally{if(g)throw b}}if(!1===f)throw new Error("Pre-conditions of ".concat(e.name,' offering reasoning for "').concat(z(a),'" are not satisfied because ')+"no other agent's commitment store contains the justifications!");var T=!0,C=!1,P=void 0;try{for(var X,O=n[Symbol.iterator]();!(T=(X=O.next()).done);T=!0){var j=X.value;this.addTermToAgreedPreferenceRule(j)}}catch(ye){C=!0,P=ye}finally{try{T||null==O.return||O.return()}finally{if(C)throw P}}var _=!0,B=!1,q=void 0;try{for(var H,J=n[Symbol.iterator]();!(_=(H=J.next()).done);_=!0){var W=H.value;e.commitmentStore.includes(W)||(e.commitmentStore+="".concat(W,"\n"))}}catch(ye){B=!0,q=ye}finally{try{_||null==J.return||J.return()}finally{if(B)throw q}}var Y=!0,F=!1,K=void 0;try{for(var G,V=n[Symbol.iterator]();!(Y=(G=V.next()).done);Y=!0){var U=G.value,L=[],$=!0,M=!1,Q=void 0;try{for(var ee,te=(e.knowledgeBase+e.commitmentStore).split("\n")[Symbol.iterator]();!($=(ee=te.next()).done);$=!0){var ae=ee.value;new RegExp("^"+U.match(/([A-Za-z0-9_])+/g)[0]+"\\(X(?=\\)|,[A-Z]|,"+U.match(/([A-Za-z0-9_])+/g)[2]+")").test(ae)&&(e.commitmentStore.includes(ae)||(e.commitmentStore+="".concat(ae,"\n")),L=L.concat(ae.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)))}}catch(ye){M=!0,Q=ye}finally{try{$||null==te.return||te.return()}finally{if(M)throw Q}}for(var ne=0;ne<L.length;ne++){var re=!0,ie=!1,se=void 0;try{for(var oe,ce=e.knowledgeBase.split("\n")[Symbol.iterator]();!(re=(oe=ce.next()).done);re=!0){var le=oe.value;if(new RegExp("^"+L[ne]+"\\(").test(le)){if(le.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)){var me=!0,ue=!1,de=void 0;try{for(var he,fe=le.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(me=(he=fe.next()).done);me=!0){var ve=he.value;L.includes(ve)||L.push(ve)}}catch(ye){ue=!0,de=ye}finally{try{me||null==fe.return||fe.return()}finally{if(ue)throw de}}}e.commitmentStore.includes(le)||e.commitmentDependencies.includes(le)||(e.commitmentDependencies+="".concat(le,"\n"))}}}catch(ye){ie=!0,se=ye}finally{try{re||null==ce.return||ce.return()}finally{if(ie)throw se}}}}}catch(ye){F=!0,K=ye}finally{try{Y||null==V.return||V.return()}finally{if(F)throw K}}this.text+="".concat(e.name,": Since ").concat(Z(n),", that makes ").concat(D(i)," an acceptable restaurant. ");for(var ge=[],be=0;be<n.length;be++)ge.push(n[be].replace(n[be].match(/([A-Za-z0-9])+/g)[1],"_"));this.text+="We want to go to a restaurant with ".concat(Z(ge),".\n")}else!function(){if(!e.commitmentStore.includes(a))throw new Error("Pre-conditions of ".concat(e.name,' offering reasoning for "').concat(z(a),'" are not satisfied because ')+"the agent's commitment store does not contain the claim!");var c=!0,l=!1,m=void 0;try{for(var u,d=n[Symbol.iterator]();!(c=(u=d.next()).done);c=!0){var h=u.value;if(!e.knowledgeBase.includes(h))throw new Error("Pre-conditions of ".concat(e.name,' offering reasoning for "').concat(z(a),'" are not satisfied because ')+"the agent's knowledge base does not contain all justifications!")}}catch(ye){l=!0,m=ye}finally{try{c||null==d.return||d.return()}finally{if(l)throw m}}s.consult(o+t.commitmentStore+t.commitmentDependencies),s.query(a),s.answer(function(n){if("true ;"!==I.a.format_answer(n))throw new Error("Pre-conditions of ".concat(e.name,' offering reasoning for "').concat(z(a),'" are not satisfied because ')+"".concat(t.name," cannot demonstrate the claim through the justifications and their commitment store!"))});var f=!0,v=!1,g=void 0;try{for(var b,y=n[Symbol.iterator]();!(f=(b=y.next()).done);f=!0){var x=b.value;e.commitmentStore.includes(x)||(e.commitmentStore+="".concat(x,"\n"))}}catch(ye){v=!0,g=ye}finally{try{f||null==y.return||y.return()}finally{if(v)throw g}}var p=!0,w=!1,E=void 0;try{for(var N,S=n[Symbol.iterator]();!(p=(N=S.next()).done);p=!0){var k=N.value;t.commitmentStore.includes(k)||(t.commitmentStore+="".concat(k,"\n"))}}catch(ye){w=!0,E=ye}finally{try{p||null==S.return||S.return()}finally{if(w)throw E}}var A=n[0].split("-")[1].split(", ")[0].replace(/X/g,i),R=!0,T=!1,C=void 0;try{for(var P,X=function(){var e=P.value;if(e[0]!==e[0].toLowerCase()){var a=I.a.create();a.consult(o+t.commitmentStore+t.commitmentDependencies),"."!==A[A.length-1]&&"."!==A[A.length-2]&&(A+="."),a.query(A),a.answer(function(t){return A=A.replace(e,I.a.format_answer(t).split(" ")[2].replace(/,|\./g,""))})}},O=A.match(/([A-Za-z0-9])+/g)[Symbol.iterator]();!(R=(P=O.next()).done);R=!0)X()}catch(ye){T=!0,C=ye}finally{try{R||null==O.return||O.return()}finally{if(T)throw C}}r.text+="".concat(e.name,": ").concat(z(a)," since ").concat(Z(A.split("),")),".\n")}();this.saveCommitmentStores()}},{key:"concede",value:function(e,t){var a=t.match(/([A-Za-z0-9_])+/g)[1],n=t.match(/([A-Za-z0-9])+/g)[0],r=!1,i=!0,s=!1,o=void 0;try{for(var c,l=this.agents[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var m=c.value;m!==e&&m.commitmentStore.includes(t)&&(r=!0)}}catch(X){s=!0,o=X}finally{try{i||null==l.return||l.return()}finally{if(s)throw o}}if(!1===r)throw new Error("Pre-conditions of ".concat(e.name,' conceding to "').concat(z(t),'" are not satisfied because ')+"no other agent's commitment store contains the claim!");if(t.includes("\\+(")&&e.commitmentStore.includes("".concat(t.substring(3,t.length-2),"."))||!t.includes("\\+(")&&e.commitmentStore.includes("\\+(".concat(t.substring(0,t.length-1),").")))throw new Error("Pre-conditions of ".concat(e.name,' conceding to "').concat(z(t),'" are not satisfied because ')+"the agent's commitment store contains the negation of the claim!");this.addTermToAgreedPreferenceRule(t),e.commitmentStore.includes(t)||(e.commitmentStore+="".concat(t,"\n"));var u=[],d=!0,h=!1,f=void 0;try{for(var v,g=(e.knowledgeBase+e.commitmentStore).split("\n")[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var b=v.value;new RegExp("^"+n+"\\(X(?=\\)|,[A-Z]|,"+t.match(/([A-Za-z0-9_])+/g)[2]+")").test(b)&&(e.commitmentStore.includes(b)||(e.commitmentStore+="".concat(b,"\n")),u=u.concat(b.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)))}}catch(X){h=!0,f=X}finally{try{d||null==g.return||g.return()}finally{if(h)throw f}}for(var y=0;y<u.length;y++){var x=!0,p=!1,w=void 0;try{for(var E,N=e.knowledgeBase.split("\n")[Symbol.iterator]();!(x=(E=N.next()).done);x=!0){var S=E.value;if(new RegExp("^"+u[y]+"\\(").test(S)){if(S.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)){var k=!0,A=!1,R=void 0;try{for(var T,C=S.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(k=(T=C.next()).done);k=!0){var P=T.value;u.includes(P)||u.push(P)}}catch(X){A=!0,R=X}finally{try{k||null==C.return||C.return()}finally{if(A)throw R}}}e.commitmentStore.includes(S)||e.commitmentDependencies.includes(S)||(e.commitmentDependencies+="".concat(S,"\n"))}}}catch(X){p=!0,w=X}finally{try{x||null==N.return||N.return()}finally{if(p)throw w}}}this.text+="acceptableRestaurant"!==n?"".concat(e.name,": I accept that ").concat(z(t),". We want to to a restaurant with ").concat(z(t.replace(a,"_")),".\n"):"".concat(e.name,": I accept that ").concat(z(t),".\n"),this.saveCommitmentStores()}}]),t}(_),J="distance(restaurantOne,5,0).\ndistance(restaurantTwo,10,10).\ndistance(restaurantThree,1,0).\nmealTime(restaurantOne,90).\nmealTime(restaurantTwo,60).\nmealTime(restaurantThree,15).\nquality(X,good):-recommended(X,Y),trustworthy(Y).\nquality(X,poor):-recommended(X,students).\nprice(restaurantOne,25).\nprice(restaurantTwo,15).\nprice(restaurantThree,7).\natmosphere(restaurantOne).\natmosphere(restaurantTwo).\nbeverage(restaurantOne).\nbeverage(restaurantTwo).\ncuisine(restaurantOne,cuisineOne).\ncuisine(restaurantTwo,cuisineTwo).\ncuisine(restaurantThree,cuisineThree).\ncuisine(X,mediterranean):-cuisine(X,cuisineOne).\nhealthy(X):-cuisine(X,mediterranean).\nhealthy(X):-vegetables(X).\nvegetables(X):-cuisine(X,cuisineTwo).\ntrustworthy(colleague).\ntrustworthy(husband).\nrecommended(restaurantOne,husband).\nrecommended(restaurantTwo,colleague).\nrecommended(restaurantThree,students).\ntotalTime(X,T):-distance(X,Td,_),mealTime(X,Tm), T is Td+Tm.\ntotalCost(X,C):-distance(X,_,Cd),price(X,Cm), C is Cd+Cm.\nacceptableRestaurant(X):-quality(X,good),healthy(X).\nacceptableRestaurant(X):-cuisine(X,cuisineTwo).\nacceptableRestaurant(X):-quality(X,good), (quality(Y,good),cheaper(Y,X)->false;true).\nacceptableRestaurant(X):-quality(X,good),atmosphere(X),beverage(X),distance(X,_,0), (quality(Y,good),atmosphere(Y),beverage(Y),quicker(Y,X)->false;true).\nacceptableRestaurant(X):-healthy(X),atmosphere(X),beverage(X),distance(X,_,0).\nacceptableRestaurant(X):-quality(X,good),healthy(X),atmosphere(X),beverage(X).\nacceptableRestaurant(X):-quality(X,good),atmosphere(X).\ncheaper(X,Y):-totalCost(X,Cx),totalCost(Y,Cy), Cx < Cy.\nquicker(X,Y):-totalTime(X,Tx),totalTime(Y,Ty), Tx < Ty.",W=function(){function e(t,a,n,r){Object(o.a)(this,e),this.agentNames=t,this.restaurantNames=a,this.restaurantCuisines=n,this.beverage=r,this.generalKnowledgeBase=J.replace(/restaurantOne/g,j(a[0])).replace(/restaurantTwo/g,j(a[1])).replace(/restaurantThree/g,j(a[2])).replace(/cuisineOne/g,j(n[0])).replace(/cuisineTwo/g,j(n[1])).replace(/cuisineThree/g,j(n[2])).replace(/beverage/g,j(r)),this.persuasionDialogue=this.simulatePersuasionDialogue(),this.deliberationDialogue=this.simulateDeliberationDialogue()}return Object(c.a)(e,[{key:"simulatePersuasionDialogue",value:function(){var e="",t="",a="",n=!0,r=!1,i=void 0;try{for(var s,o=this.generalKnowledgeBase.split("\n").entries()[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var c=s.value,l=Object(P.a)(c,2),m=l[0],u=l[1];[15,23,24,6,18,19,29].includes(m)&&(e+="".concat(u,"\n")),[8,9,16,22,25,6,7,20,21,28,36,30].includes(m)&&(t+="".concat(u,"\n")),[1,26,6,28,36,31].includes(m)&&(a+="".concat(u,"\n"))}}catch(h){r=!0,i=h}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}var d=new B([new O(this.agentNames[0],j(this.restaurantNames[0]),e),new O(this.agentNames[1],j(this.restaurantNames[1]),t),new O(this.agentNames[2],j(this.restaurantNames[2]),a)],1);if(d.claim(d.agents[1],"acceptableRestaurant(".concat(j(this.restaurantNames[1]),").")),d.claim(d.agents[1],"cuisine(".concat(j(this.restaurantNames[1]),",").concat(j(this.restaurantCuisines[1]),").")),d.claim(d.agents[2],"distance(".concat(j(this.restaurantNames[1]),",10,_).")),d.claim(d.agents[1],"quality(".concat(j(this.restaurantNames[1]),",good).")),d.claim(d.agents[2],"recommended(".concat(j(this.restaurantNames[2]),",students).")),d.question(d.agents[2],"quality(".concat(j(this.restaurantNames[2]),",good).")),d.concede(d.agents[1],"recommended(".concat(j(this.restaurantNames[2]),",students).")),d.claim(d.agents[1],"quality(".concat(j(this.restaurantNames[2]),",poor).")),d.claim(d.agents[0],"quality(".concat(j(this.restaurantNames[0]),",good).")),d.claim(d.agents[0],"healthy(".concat(j(this.restaurantNames[0]),").")),d.claim(d.agents[1],"healthy(".concat(j(this.restaurantNames[1]),").")),d.claim(d.agents[1],"price(".concat(j(this.restaurantNames[1]),",15).")),d.claim(d.agents[1],"price(".concat(j(this.restaurantNames[0]),",25).")),d.claim(d.agents[2],"distance(".concat(j(this.restaurantNames[1]),",_,10).")),d.concede(d.agents[1],"distance(".concat(j(this.restaurantNames[1]),",_,10).")),d.claim(d.agents[1],"\\+(cheaper(".concat(j(this.restaurantNames[0]),",").concat(j(this.restaurantNames[1]),")).")),d.concede(d.agents[2],"acceptableRestaurant(".concat(j(this.restaurantNames[1]),").")),d.concede(d.agents[0],"acceptableRestaurant(".concat(j(this.restaurantNames[1]),").")),d.text=d.text.replace(new RegExp(D(j(this.restaurantNames[0])),"gi"),this.restaurantNames[0]).replace(new RegExp(D(j(this.restaurantNames[1])),"gi"),this.restaurantNames[1]).replace(new RegExp(D(j(this.restaurantNames[2])),"gi"),this.restaurantNames[2]).replace(new RegExp(this.restaurantCuisines[0],"gi"),this.restaurantCuisines[0]).replace(new RegExp(this.restaurantCuisines[1],"gi"),this.restaurantCuisines[1]).replace(new RegExp(this.restaurantCuisines[2],"gi"),this.restaurantCuisines[2]),d.isOver())return d;throw new Error("Persuasion dialogue has not reached an end state!")}},{key:"simulateDeliberationDialogue",value:function(){var e="",t="",a="",n=!0,r=!1,i=void 0;try{for(var s,o=this.generalKnowledgeBase.split("\n").entries()[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var c=s.value,l=Object(P.a)(c,2),m=l[0],u=l[1];[0,11,13,15,23,24,6,18,19,29,33].includes(m)&&(e+="".concat(u,"\n")),[12,13,14,15,16,22,25,6,18,19,20,21,30,34].includes(m)&&(t+="".concat(u,"\n")),[1,2,8,10,23,26,6,28,36,31,35].includes(m)&&(a+="".concat(u,"\n"))}}catch(h){r=!0,i=h}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}var d=new H([new O(this.agentNames[0],j(this.restaurantNames[0]),e),new O(this.agentNames[1],j(this.restaurantNames[1]),t),new O(this.agentNames[2],j(this.restaurantNames[2]),a)]);if(d.claim(d.agents[1],"cuisine(".concat(j(this.restaurantNames[1]),",").concat(j(this.restaurantCuisines[1]),").")),d.claim(d.agents[2],"distance(".concat(j(this.restaurantNames[1]),",10,_).")),d.claim(d.agents[2],"distance(".concat(j(this.restaurantNames[2]),",1,0).")),d.claim(d.agents[0],"distance(".concat(j(this.restaurantNames[0]),",_,0).")),d.claim(d.agents[0],"quality(".concat(j(this.restaurantNames[0]),",good).")),d.claim(d.agents[2],"price(".concat(j(this.restaurantNames[0]),",25).")),d.claim(d.agents[2],"price(".concat(j(this.restaurantNames[2]),",7).")),d.claim(d.agents[1],"\\+(".concat(j(this.beverage),"(").concat(j(this.restaurantNames[2]),")).")),d.claim(d.agents[1],"".concat(j(this.beverage),"(").concat(j(this.restaurantNames[1]),").")),d.claim(d.agents[0],"\\+(atmosphere(".concat(j(this.restaurantNames[2]),")).")),d.claim(d.agents[0],"atmosphere(".concat(j(this.restaurantNames[0]),").")),d.claim(d.agents[1],"atmosphere(".concat(j(this.restaurantNames[1]),").")),d.claim(d.agents[1],"quality(".concat(j(this.restaurantNames[1]),",good).")),d.claim(d.agents[2],"distance(".concat(j(this.restaurantNames[1]),",_,10).")),d.claim(d.agents[1],"healthy(".concat(j(this.restaurantNames[1]),").")),d.claim(d.agents[0],"healthy(".concat(j(this.restaurantNames[0]),").")),d.since(d.agents[1],null,"acceptableRestaurant(".concat(j(this.restaurantNames[0]),")."),["quality(".concat(j(this.restaurantNames[0]),",good)."),"atmosphere(".concat(j(this.restaurantNames[0]),").")]),d.since(d.agents[2],null,"acceptableRestaurant(".concat(j(this.restaurantNames[1]),")."),["quality(".concat(j(this.restaurantNames[1]),",good)."),"atmosphere(".concat(j(this.restaurantNames[1]),").")]),d.concede(d.agents[0],"".concat(j(this.beverage),"(").concat(j(this.restaurantNames[1]),").")),d.claim(d.agents[0],"".concat(j(this.beverage),"(").concat(j(this.restaurantNames[0]),").")),d.since(d.agents[1],null,"acceptableRestaurant(".concat(j(this.restaurantNames[0]),")."),["distance(".concat(j(this.restaurantNames[0]),",_,0).")]),d.concede(d.agents[2],"acceptableRestaurant(".concat(j(this.restaurantNames[0]),").")),d.concede(d.agents[1],"acceptableRestaurant(".concat(j(this.restaurantNames[0]),").")),d.text=d.text.replace(new RegExp(D(j(this.restaurantNames[0])),"gi"),this.restaurantNames[0]).replace(new RegExp(D(j(this.restaurantNames[1])),"gi"),this.restaurantNames[1]).replace(new RegExp(D(j(this.restaurantNames[2])),"gi"),this.restaurantNames[2]).replace(new RegExp(this.restaurantCuisines[0],"gi"),this.restaurantCuisines[0]).replace(new RegExp(this.restaurantCuisines[1],"gi"),this.restaurantCuisines[1]).replace(new RegExp(this.restaurantCuisines[2],"gi"),this.restaurantCuisines[2]),d.isOver())return d;throw new Error("Deliberation dialogue has not reached an end state!")}}]),e}(),Y=(a(45),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={firstAgentsName:"",secondAgentsName:"",thirdAgentsName:"",isFirstAgentsNameInvalid:!1,isSecondAgentsNameInvalid:!1,isThirdAgentsNameInvalid:!1,firstRestaurantsName:"",secondRestaurantsName:"",thirdRestaurantsName:"",isFirstRestaurantsNameInvalid:!1,isSecondRestaurantsNameInvalid:!1,isThirdRestaurantsNameInvalid:!1,firstRestaurantsCuisine:"Italian",secondRestaurantsCuisine:"Thai",thirdRestaurantsCuisine:"American",beverage:"Wine",isErrorNotificationVisible:!1,simulation:null},e.onChange=e.onChange.bind(Object(d.a)(Object(d.a)(e))),e.checkInputValues=e.checkInputValues.bind(Object(d.a)(Object(d.a)(e))),e.generateDialogues=e.generateDialogues.bind(Object(d.a)(Object(d.a)(e))),e.resetState=e.resetState.bind(Object(d.a)(Object(d.a)(e))),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"onChange",value:function(e){this.setState(Object(w.a)({},e.target.id,e.target.value))}},{key:"checkInputValues",value:function(){return""===this.state.firstAgentsName?this.setState({isFirstAgentsNameInvalid:!0}):this.setState({isFirstAgentsNameInvalid:!1}),""===this.state.secondAgentsName?this.setState({isSecondAgentsNameInvalid:!0}):this.setState({isSecondAgentsNameInvalid:!1}),""===this.state.thirdAgentsName?this.setState({isThirdAgentsNameInvalid:!0}):this.setState({isThirdAgentsNameInvalid:!1}),""===this.state.firstRestaurantsName?this.setState({isFirstRestaurantsNameInvalid:!0}):this.setState({isFirstRestaurantsNameInvalid:!1}),""===this.state.secondRestaurantsName?this.setState({isSecondRestaurantsNameInvalid:!0}):this.setState({isSecondRestaurantsNameInvalid:!1}),""===this.state.thirdRestaurantsName?this.setState({isThirdRestaurantsNameInvalid:!0}):this.setState({isThirdRestaurantsNameInvalid:!1}),""!==this.state.firstAgentsName&&""!==this.state.secondAgentsName&&""!==this.state.thirdAgentsName&&""!==this.state.firstRestaurantsName&&""!==this.state.secondRestaurantsName&&""!==this.state.thirdRestaurantsName||(this.setState({isErrorNotificationVisible:!0}),!1)}},{key:"generateDialogues",value:function(){this.checkInputValues()&&this.setState({simulation:new W([this.state.firstAgentsName,this.state.secondAgentsName,this.state.thirdAgentsName],[this.state.firstRestaurantsName,this.state.secondRestaurantsName,this.state.thirdRestaurantsName],[this.state.firstRestaurantsCuisine,this.state.secondRestaurantsCuisine,this.state.thirdRestaurantsCuisine],this.state.beverage)})}},{key:"resetState",value:function(){this.setState({firstAgentsName:"",secondAgentsName:"",thirdAgentsName:"",isFirstAgentsNameInvalid:!1,isSecondAgentsNameInvalid:!1,isThirdAgentsNameInvalid:!1,firstRestaurantsName:"",secondRestaurantsName:"",thirdRestaurantsName:"",isFirstRestaurantsNameInvalid:!1,isSecondRestaurantsNameInvalid:!1,isThirdRestaurantsNameInvalid:!1,firstRestaurantsCuisine:"Italian",secondRestaurantsCuisine:"Thai",thirdRestaurantsCuisine:"American",beverage:"Wine",isErrorNotificationVisible:!1,simulation:null})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,!this.state.simulation&&r.a.createElement("div",null,r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Customise"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",null,"Use the form below to generate your own custom persuasion and deliberation dialogues. None of the information you provide will be stored."))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Agents' names"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",{className:"description"},"Choose names for the agents that will be participating in the dialogue."))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"text-input"},r.a.createElement(E.a,{id:"firstAgentsName",labelText:"First agent's name",invalid:this.state.isFirstAgentsNameInvalid,invalidText:"Please provide a valid name",onChange:this.onChange})))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"text-input"},r.a.createElement(E.a,{id:"secondAgentsName",labelText:"Second agent's name",invalid:this.state.isSecondAgentsNameInvalid,invalidText:"Please provide a valid name",onChange:this.onChange})))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"text-input"},r.a.createElement(E.a,{id:"thirdAgentsName",labelText:"Third agent's name",invalid:this.state.isThirdAgentsNameInvalid,invalidText:"Please provide a valid name",onChange:this.onChange})))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Restaurants' names"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",{className:"description"},"Choose names for the restaurants around which the dialogue will revolve."))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"text-input"},r.a.createElement(E.a,{id:"firstRestaurantsName",labelText:"First restaurant's name",invalid:this.state.isFirstRestaurantsNameInvalid,invalidText:"Please provide a valid name",onChange:this.onChange})))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"text-input"},r.a.createElement(E.a,{id:"secondRestaurantsName",labelText:"Second restaurant's name",invalid:this.state.isSecondRestaurantsNameInvalid,invalidText:"Please provide a valid name",onChange:this.onChange})))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"text-input"},r.a.createElement(E.a,{id:"thirdRestaurantsName",labelText:"Third restaurant's name",invalid:this.state.isThirdRestaurantsNameInvalid,invalidText:"Please provide a valid name",onChange:this.onChange})))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Restaurants' cuisines"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",{className:"description"},"Pick the cuisines for each restaurant."))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement(N.a,{legendText:"First restaurant's cuisine"},r.a.createElement(S.a,{name:"first-restaurants-cuisine-radio-button-group",valueSelected:"Italian",onChange:function(t){return e.setState({firstRestaurantsCuisine:t})}},r.a.createElement(k.a,{value:"Italian",labelText:"Italian"}),r.a.createElement(k.a,{value:"Greek",labelText:"Greek"}),r.a.createElement(k.a,{value:"Spanish",labelText:"Spanish"}))))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement(N.a,{legendText:"Second restaurant's cuisine"},r.a.createElement(S.a,{name:"second-restaurants-cuisine-radio-button-group",valueSelected:"Thai",onChange:function(t){return e.setState({secondRestaurantsCuisine:t})}},r.a.createElement(k.a,{value:"Thai",labelText:"Thai"}),r.a.createElement(k.a,{value:"Indian",labelText:"Indian"}),r.a.createElement(k.a,{value:"Japanese",labelText:"Japanese"}))))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement(N.a,{legendText:"Third restaurant's cuisine"},r.a.createElement(S.a,{name:"third-restaurants-cuisine-radio-button-group",valueSelected:"American",onChange:function(t){return e.setState({thirdRestaurantsCuisine:t})}},r.a.createElement(k.a,{value:"American",labelText:"American"}),r.a.createElement(k.a,{value:"Bulgarian",labelText:"Bulgarian"}),r.a.createElement(k.a,{value:"Turkish",labelText:"Turkish"}))))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Beverage"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",{className:"description"},"Pick the beverage which will be preferred by the agents."))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement(N.a,{legendText:"Beverage"},r.a.createElement(S.a,{name:"beverage-radio-button-group",valueSelected:"Wine",onChange:function(t){return e.setState({beverage:t})}},r.a.createElement(k.a,{value:"Wine",labelText:"Wine"}),r.a.createElement(k.a,{value:"Champagne",labelText:"Champagne"}),r.a.createElement(k.a,{value:"Cocktails",labelText:"Cocktails"}))))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Generate"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",{className:"description"},"Click the button below to generate your customised dialogues.",this.state.isErrorNotificationVisible&&r.a.createElement(A.a,{hideCloseButton:!0,kind:"error",title:"Invalid names",subtitle:"Some of the names for the agents or restaurants are invalid."})))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement(h.a,{onClick:this.generateDialogues},"Generate")))),this.state.simulation&&r.a.createElement("div",null,r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Remarks"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",null,"Check out your custom dialogues below. You can observe the differences between the two types speech act by speech act, but you can also reveal their full lengths at any point."),r.a.createElement("p",{className:"not-first"},"While inspecting the persuasion dialogue, note how ",this.state.simulation.agentNames[1],"\xa0asserts ",this.state.simulation.restaurantNames[1]," as an acceptable choice at the very start. The agent then tries to prove that it is acceptable for the others as they make objections indicating points on which they wish to be convinced."),r.a.createElement("p",{className:"not-first"},"In the deliberation dialogue, on the other hand,\xa0",this.state.simulation.agentNames[1]," is not committed to his preferred option. Together with the others, the agent rather introduces properties which will later either be rejected or accepted as part of the collective rule of what constitutes an acceptable restaurant."))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-5 bx--offset-xl-2 bx--col-xl-4"},r.a.createElement(C,{dialogue:this.state.simulation.persuasionDialogue,dialogueType:"Persuasion"})),r.a.createElement("div",{className:"bx--col-md-5 bx--col-xl-4"},r.a.createElement(C,{dialogue:this.state.simulation.deliberationDialogue,dialogueType:"Deliberation"}))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Reset"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",{className:"description"},"Click the button below to reset the dialogues and start over."))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement(h.a,{kind:"danger",onClick:this.resetState},"Reset")))))}}]),t}(n.Component)),F=a(63),K=(a(46),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(T.a,null,r.a.createElement(R.a,{title:r.a.createElement("div",null,r.a.createElement("strong",null,"Jane"),": I wonder if Thai Palace has property healthy.",r.a.createElement(F.a,{triggerText:"\xa0"},r.a.createElement("p",null,'Jane poses a question seeking information about Thai Palace and indicating that "quality" is a criterion she finds desirable.')))},r.a.createElement(y.a,null,r.a.createElement(x.a,{className:"list-item"},"Jane's commitment store:",r.a.createElement(y.a,{nested:!0,className:"unordered-nested-list"},r.a.createElement(x.a,{className:"nested-list-item"},"healthy(X):-cuisine(X,mediterranean).",r.a.createElement(F.a,{triggerText:"\xa0"},r.a.createElement("p",null,"Jane considers a healthy restaurant to be one that offers mediterranean cuisine."))))),r.a.createElement(x.a,{className:"list-item"},"Harry's commitment store:",r.a.createElement(y.a,{nested:!0,className:"unordered-nested-list"})))),r.a.createElement(R.a,{title:r.a.createElement("div",null,r.a.createElement("strong",null,"Harry"),": Thai Palace has property healthy.",r.a.createElement(F.a,{triggerText:"\xa0"},r.a.createElement("p",null,"Harry asserts the claim as true in order to persuade Jane towards Thai Palace.")))},r.a.createElement(y.a,null,r.a.createElement(x.a,{className:"list-item"},"Jane's commitment store:",r.a.createElement(y.a,{nested:!0,className:"unordered-nested-list"},r.a.createElement(x.a,{className:"nested-list-item"},"healthy(X):-cuisine(X,mediterranean)."))),r.a.createElement(x.a,{className:"list-item"},"Harry's commitment store:",r.a.createElement(y.a,{nested:!0,className:"unordered-nested-list"},r.a.createElement(x.a,{className:"nested-list-item"},"healthy(thaiPalace)."))))),r.a.createElement(R.a,{title:r.a.createElement("div",null,r.a.createElement("strong",null,"Jane"),": Why is it that Thai Palace has property healthy?",r.a.createElement(F.a,{triggerText:"\xa0"},r.a.createElement("p",null,"Jane seeks reasoning for Harry's claim as she cannot derive it on her own.")))},r.a.createElement(y.a,null,r.a.createElement(x.a,{className:"list-item"},"Jane's commitment store:",r.a.createElement(y.a,{nested:!0,className:"unordered-nested-list"},r.a.createElement(x.a,{className:"nested-list-item"},"healthy(X):-cuisine(X,mediterranean)."))),r.a.createElement(x.a,{className:"list-item"},"Harry's commitment store:",r.a.createElement(y.a,{nested:!0,className:"unordered-nested-list"},r.a.createElement(x.a,{className:"nested-list-item"},"healthy(thaiPalace)."))))),r.a.createElement(R.a,{title:r.a.createElement("div",null,r.a.createElement("strong",null,"Harry"),": Thai Palace has property healthy since Thai Palace has property vegetables.",r.a.createElement(F.a,{triggerText:"\xa0"},r.a.createElement("p",null,"Harry offers reasoning for his claim and contributes a new rule for what constitutes a healthy restaurant.")))},r.a.createElement(y.a,null,r.a.createElement(x.a,{className:"list-item"},"Jane's commitment store:",r.a.createElement(y.a,{nested:!0,className:"unordered-nested-list"},r.a.createElement(x.a,{className:"nested-list-item"},"healthy(X):-cuisine(X,mediterranean)."),r.a.createElement(x.a,{className:"nested-list-item"},"healthy(X):-vegetables(X)."),r.a.createElement(x.a,{className:"nested-list-item"},"vegetables(X):-cuisine(X,thai)."),r.a.createElement(x.a,{className:"nested-list-item"},"cuisine(thaiPalace,thai)."))),r.a.createElement(x.a,{className:"list-item"},"Harry's commitment store:",r.a.createElement(y.a,{nested:!0,className:"unordered-nested-list"},r.a.createElement(x.a,{className:"nested-list-item"},"healthy(thaiPalace)."),r.a.createElement(x.a,{className:"nested-list-item"},"healthy(X):-vegetables(X)."),r.a.createElement(x.a,{className:"nested-list-item"},"vegetables(X):-cuisine(X,thai)."),r.a.createElement(x.a,{className:"nested-list-item"},"cuisine(thaiPalace,thai)."))))),r.a.createElement(R.a,{title:r.a.createElement("div",null,r.a.createElement("strong",null,"Jane"),": I accept that Thai Palace has property healthy.",r.a.createElement(F.a,{triggerText:"\xa0"},r.a.createElement("p",null,"Jane concedes to the claim as she now has the knowledge to derive it.")))},r.a.createElement(y.a,null,r.a.createElement(x.a,{className:"list-item"},"Jane's commitment store:",r.a.createElement(y.a,{nested:!0,className:"unordered-nested-list"},r.a.createElement(x.a,{className:"nested-list-item"},"healthy(X):-cuisine(X,mediterranean)."),r.a.createElement(x.a,{className:"nested-list-item"},"healthy(X):-vegetables(X)."),r.a.createElement(x.a,{className:"nested-list-item"},"vegetables(X):-cuisine(X,thai)."),r.a.createElement(x.a,{className:"nested-list-item"},"cuisine(thaiPalace,thai)."),r.a.createElement(x.a,{className:"nested-list-item"},"healthy(thaiPalace)."))),r.a.createElement(x.a,{className:"list-item"},"Harry's commitment store:",r.a.createElement(y.a,{nested:!0,className:"unordered-nested-list"},r.a.createElement(x.a,{className:"nested-list-item"},"healthy(thaiPalace)."),r.a.createElement(x.a,{className:"nested-list-item"},"healthy(X):-vegetables(X)."),r.a.createElement(x.a,{className:"nested-list-item"},"vegetables(X):-cuisine(X,thai)."),r.a.createElement(x.a,{className:"nested-list-item"},"cuisine(thaiPalace,thai)."))))))}}]),t}(n.Component)),G=(a(48),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"About"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",null,"Diners' Discourse lets you customise and generate persuasion and deliberation dialogues which are set in a familiar restaurant selection scenario. The application allows you to observe the differences between the two types side-by-side and to peek into the commitment stores of the participating agents at any point."),r.a.createElement("p",{className:"not-first"},'To learn more about the creation of Diners\' Discourse and gain more insight into the used terminology, go to "Background".'),r.a.createElement("p",{className:"not-first"},'To start generating your own dialogues, go to "Generate".'))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Demo Dialogue"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",{className:"description"},"Check out a snippet of a persuasion dialogue below. Note how the commitment stores of the agents evolve as they carry out various speech acts by expanding the accordion components. Hover over the tooltips for further explanations."))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement(K,null))))}}]),t}(n.Component)),V=(a(49),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={switchIndex:0},e.onChange=e.onChange.bind(Object(d.a)(Object(d.a)(e))),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"onChange",value:function(e){this.setState({switchIndex:e.index})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"announcement"},r.a.createElement("p",{className:"announcement"},"Check out the source code of this website."),r.a.createElement(h.a,{small:!0,className:"announcement",kind:"tertiary",onClick:function(){return window.open("https://github.com/yankirchev/diners-discourse","_blank").focus()}},"Go to GitHub")),r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"bx--grid"},r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("h1",{className:"header"},"Diners' Discourse"))))),r.a.createElement("div",{className:"bx--grid"},r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement(f.a,{className:"content-switcher",onChange:this.onChange},r.a.createElement(v.a,{name:"home",text:"Home"}),r.a.createElement(v.a,{name:"background",text:"Background"}),r.a.createElement(v.a,{name:"generate",text:"Generate"})))),r.a.createElement("div",{hidden:0!==this.state.switchIndex},r.a.createElement(G,null)),r.a.createElement("div",{hidden:1!==this.state.switchIndex},r.a.createElement(p,null)),r.a.createElement("div",{hidden:2!==this.state.switchIndex},r.a.createElement(Y,null))),r.a.createElement("footer",{className:"bx--footer bx--footer--bottom-fixed footer"},r.a.createElement("div",{className:"bx--footer-info"},r.a.createElement("div",{className:"bx--footer-info__item"},r.a.createElement("p",{className:"bx--footer-label"},"Copyright \xa9 Yanko Kirchev 2019"),r.a.createElement(g.a,{href:"mailto:sgykirch@liverpool.ac.uk"},"Contact the author")),r.a.createElement("div",{className:"bx--footer-info__item"},r.a.createElement("p",{className:"bx--footer-label"},"Powered by Carbon Components (React)"),r.a.createElement(g.a,{href:"https://www.carbondesignsystem.com"},"Carbon Design System")),r.a.createElement("div",{className:"bx--footer-info__item"},r.a.createElement("p",{className:"bx--footer-label"},"Powered by Tau Prolog"),r.a.createElement(g.a,{href:"http://tau-prolog.org"},"Tau Prolog")))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(50);s.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.a14feb2e.chunk.js.map