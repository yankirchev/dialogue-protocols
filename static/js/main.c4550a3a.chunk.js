(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,a){e.exports=a(51)},40:function(e,t,a){},43:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),i=a.n(s),o=a(5),c=a(6),l=a(12),m=a(10),u=a(11),d=a(9),h=a(67),f=a(65),v=a(62),g=a(63),b=a(54),y=a(55),x=a(56),p=(a(40),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Purpose"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",null,"Diners' Discourse is a web application developed by Yanko Kirchev in 2019 as part of his Honours Year Computer Science Project\u2014",r.a.createElement("em",null,"Implementing Dialogue Protocols"),"\u2014to earn the degree of B.Sc. (Hons) Computer Science with Year in Industry at the Department of Computer Science at the University of Liverpool."),r.a.createElement("p",{className:"not-first"},"The application implements dialogue protocols for multi-agent systems based on the characterisations of persuasion and deliberation dialogues established by Atkinson, Bench-Capon, and Walton [2], which draw out the distinctive features of the two types."),r.a.createElement("p",{className:"not-first"},"Diners' Discourse uses the protocols to generate custom persuasion and deliberation dialogues, which are parallel to the ones laid out in [2], and verifies that the protocols exhibit the expected behaviour when they are put to practice."))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Implementation"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",null,"The application is developed using the Node.js and React.js frameworks. The protocols rely heavily on the Tau Prolog module\u2014a Prolog interpreter written entirely in JavaScript\u2014 which brings the required support for knowledge representation to Diners' Discourse."),r.a.createElement("p",{className:"not-first"},"On the front-end's side, Carbon Design's React.js components are utilised, which allowed for the efficient construction of an intuitive and responsive web interface."))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Glossary"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement(b.e,{className:"structured-list"},r.a.createElement(b.c,null,r.a.createElement(b.d,{head:!0},r.a.createElement(b.b,{head:!0},"Term"),r.a.createElement(b.b,{head:!0},"Definition"))),r.a.createElement(b.a,null,r.a.createElement(b.d,null,r.a.createElement(b.b,{noWrap:!0},"Agent"),r.a.createElement(b.b,null,"An autonomous computer entity that learns and uses knowledge to execute independent actions towards achieving goals [1].")),r.a.createElement(b.d,null,r.a.createElement(b.b,null,"Commitment Store"),r.a.createElement(b.b,null,"A set of statements to which an agent becomes committed in the course of a dialogue [2].")),r.a.createElement(b.d,null,r.a.createElement(b.b,null,"Deliberation dialogue"),r.a.createElement(b.b,null,"A dialogue in which deliberation arises from a dilemma about what option is collectively acceptable where each party tries to find the best available course of action for the group as a whole [3].")),r.a.createElement(b.d,null,r.a.createElement(b.b,null,"Persuasion dialogue"),r.a.createElement(b.b,null,"A dialogue in which persuasion arises from a conflict of opinions on what the best available choice of action is where one party tries to persuade the other(s) towards their preferred option [3].")),r.a.createElement(b.d,null,r.a.createElement(b.b,{noWrap:!0},"Post-conditions"),r.a.createElement(b.b,null,"A set of conditions that state the updates on the agents\u2019 commitment stores that occur immediately after the execution of a speech act [2].")),r.a.createElement(b.d,null,r.a.createElement(b.b,{noWrap:!0},"Pre-conditions"),r.a.createElement(b.b,null,"A set of conditions that determine the prerequisites that need to be satisfied in terms of available knowledge and prior commitments in order for a speech act to be used legally [2].")),r.a.createElement(b.d,null,r.a.createElement(b.b,null,"Protocol"),r.a.createElement(b.b,null,"Rules by which a dialogue pans out. These can specify the allowed speech acts at any point, the effects of utterances on the participants\u2019 commitments, the outcome of the dialogue, the turn-taking function, and the termination criteria [4].")),r.a.createElement(b.d,null,r.a.createElement(b.b,{noWrap:!0},"Speech acts"),r.a.createElement(b.b,null,'A set of moves that agents participating in a dialogue can make in regard to statements. They comprise "claim", "counterclaim", "why", "concede", "retract", "since", "concede-since" and \u201cquestion".')))))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"References"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement(y.a,null,r.a.createElement(x.a,{className:"list-item reference"},"S. Russell and P. Norvig,\xa0",r.a.createElement("em",null,"Artificial Intelligence: A Modern Approach"),", 2nd ed. Upper Saddle River, NJ: Pearson Prentice Hall, 2006."),r.a.createElement(x.a,{className:"list-item reference"},"K. Atkinson, T. Bench-Capon, and D. Walton, \u201cDistinctive features of persuasion and deliberation dialogues\u201d,",r.a.createElement("em",null,"Argument and Computation"),", vol. 4, no. 2, pp. 105-127, June 2013."),r.a.createElement(x.a,{className:"list-item reference"},"D. Walton and E. C. W. Krabbe,",r.a.createElement("em",null,"Commitment in Dialogue: Basic Concepts of Interpersonal Reasoning. "),"Albany, NY: State University of New York Press, 1995."),r.a.createElement(x.a,{className:"list-item reference"},"H. Prakken, \u201cFormal systems for persuasion dialogue\u201d,",r.a.createElement("em",null,"The Knowledge Engineering Review"),", vol. 21, no. 2, pp. 163\u2013188, Aug. 2006")))))}}]),t}(n.Component)),w=a(25),E=a(59),N=a(60),S=a(61),k=a(52),R=a(66),A=a(69),C=a(57),T=a(58),P=(a(43),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={accordionItems:null,currentSpeechActIndex:1},e.decrementSpeechActIndex=e.decrementSpeechActIndex.bind(Object(d.a)(Object(d.a)(e))),e.incrementSpeechActIndex=e.incrementSpeechActIndex.bind(Object(d.a)(Object(d.a)(e))),e.maximiseSpeechActIndex=e.maximiseSpeechActIndex.bind(Object(d.a)(Object(d.a)(e))),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"decrementSpeechActIndex",value:function(){this.setState({currentSpeechActIndex:this.state.currentSpeechActIndex-1})}},{key:"incrementSpeechActIndex",value:function(){this.setState({currentSpeechActIndex:this.state.currentSpeechActIndex+1})}},{key:"maximiseSpeechActIndex",value:function(){this.setState({currentSpeechActIndex:this.props.dialogue.commitmentStoreHistory.length})}},{key:"componentDidMount",value:function(){var e=this;this.setState({accordionItems:this.props.dialogue.text.split("\n").map(function(t,a){return""!==t&&r.a.createElement(A.a,{key:a,title:r.a.createElement("div",null,r.a.createElement("strong",null,t.split(":")[0]),":",t.split(":")[1])},r.a.createElement(C.a,null,e.props.dialogue.agents.map(function(t,n){return r.a.createElement(x.a,{className:"list-item",key:n},t.name,"'s commitment store:",r.a.createElement(C.a,{nested:!0,className:"unordered-nested-list"},e.props.dialogue.commitmentStoreHistory[a][n].split("\n").map(function(e,t){return""!==e&&r.a.createElement(x.a,{className:"nested-list-item",key:t},e)})))}),"Deliberation"===e.props.dialogueType&&r.a.createElement(x.a,{className:"list-item"},"Agreed preference rule:",r.a.createElement(C.a,{nested:!0,className:"unordered-nested-list"},r.a.createElement(x.a,{className:"nested-list-item"},e.props.dialogue.agreedPreferenceRuleHistory[a])))))})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},this.props.dialogueType," Dialogue"),r.a.createElement(T.a,{className:"dialogue-accordion"},this.state.accordionItems&&this.state.accordionItems.slice(0,this.state.currentSpeechActIndex)),r.a.createElement("div",{className:"buttons-wrapper"},r.a.createElement(h.a,{small:!0,kind:"secondary",disabled:1===this.state.currentSpeechActIndex,onClick:this.decrementSpeechActIndex},"Previous"),r.a.createElement(h.a,{small:!0,kind:"primary",disabled:this.state.currentSpeechActIndex===this.props.dialogue.commitmentStoreHistory.length,onClick:this.incrementSpeechActIndex},"Next"),r.a.createElement(h.a,{small:!0,className:"tertiary",kind:"tertiary",disabled:this.state.currentSpeechActIndex===this.props.dialogue.commitmentStoreHistory.length,onClick:this.maximiseSpeechActIndex},"Reveal all")))}}]),t}(n.Component)),X=a(15),I=a(3),O=a.n(I),j=function(){function e(t,a,n){Object(o.a)(this,e),this.name=t,this.initialPreference=a,this.knowledgeBase=n,this.commitmentStore=""}return Object(c.a)(e,[{key:"doesPrefer",value:function(e){var t=[this.initialPreference],a=O.a.create();return a.consult(this.knowledgeBase+this.commitmentStore),a.query("acceptableRestaurant(X)."),a.answers(function(e){t.push(O.a.format_answer(e).split(" ")[2])}),t.includes(e)}}]),e}();function _(e){return e.replace(/[']/g,"").replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(e,t){return 0===+e?"":0===t?e.toLowerCase():e.toUpperCase()})}function Z(e){return e.replace(/([a-z\d])([A-Z])/g,"$1 $2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1 $2").toLowerCase()}function B(e){var t="",a=!0,n=!1,r=void 0;try{for(var s,i=e.entries()[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){var o=s.value,c=Object(X.a)(o,2),l=c[0],m=c[1];1===e.length?t+="".concat(q(m)):l===e.length-1?t+="".concat(q(m)):l!==e.length-2?t+="".concat(q(m),", "):e.length>=3&&l===e.length-2?t+="".concat(q(m),", and "):e.length<3&&l===e.length-2&&(t+="".concat(q(m)," and "))}}catch(u){n=!0,r=u}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}return t}function q(e){var t=e.match(/([A-Za-z0-9_])+/g)[1],a=e.match(/([A-Za-z0-9])+/g)[0],n=e.match(/([A-Za-z0-9_])+/g)[2],r=e.match(/([A-Za-z0-9_])+/g)[3],s="";return s="_"!==t?e.includes("\\+(")?"".concat(Z(t)," lacks property ").concat(Z(a)):"".concat(Z(t)," has property ").concat(Z(a)):"property ".concat(Z(a)),n&&"_"!==n?(s+=" of value ".concat(Z(n)),r&&"_"!==r&&(s+=" and cost ".concat(Z(r)))):r&&"_"!==r&&(s+=" of cost ".concat(Z(r))),s}var z=function(){function e(t){if(Object(o.a)(this,e),(this instanceof e?this.constructor:void 0)===e)throw new TypeError("Cannot construct Dialogue instances directly!");this.agents=t,this.text="".concat(t[0].name,": Where shall we eat?\n"),this.commitmentStoreHistory=[["","",""]]}return Object(c.a)(e,[{key:"saveCommitmentStores",value:function(){var e=[],t=!0,a=!1,n=void 0;try{for(var r,s=this.agents[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var i=r.value;e.push(i.commitmentStore)}}catch(o){a=!0,n=o}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}this.commitmentStoreHistory.push(e)}},{key:"isOver",value:function(){throw new TypeError("Need to implement function isOver!")}},{key:"claim",value:function(e,t){var a=O.a.create();a.consult(e.knowledgeBase+e.commitmentStore),a.query(t),a.answer(function(a){if("true ;"!==O.a.format_answer(a))throw new Error("Pre-conditions of ".concat(e.name,' claiming "').concat(q(t),'" are not satisfied because ')+"the agent cannot demonstrate the claim through their knowledge base and commitment store!")});var n=!0,r=!1,s=void 0;try{for(var i,o=this.agents[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value;if(c.commitmentStore.includes(t))throw new Error("Pre-conditions of ".concat(e.name,' claiming "').concat(q(t),'" are not satisfied because ')+"".concat(c.name,"'s commitment store contains the claim!"))}}catch(l){r=!0,s=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}e.commitmentStore+="".concat(t,"\n"),this.text+="".concat(e.name,": ").concat(q(t),".\n"),this.saveCommitmentStores()}},{key:"counterclaim",value:function(e,t){var a=O.a.create();a.consult(e.knowledgeBase+e.commitmentStore),a.query(t),a.answer(function(a){if("true ;"!==O.a.format_answer(a))throw new Error("Pre-conditions of ".concat(e.name,' counterclaiming "').concat(q(t),'" are not satisfied because ')+"the agent cannot demonstrate the claim through their knowledge base and commitment store!")});var n=!0,r=!1,s=void 0;try{for(var i,o=this.agents[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value;if(c.commitmentStore.includes(t))throw new Error("Pre-conditions of ".concat(e.name,' counterclaiming "').concat(q(t),'" are not satisfied because ')+"".concat(c.name,"'s commitment store contains the claim!"))}}catch(l){r=!0,s=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}e.commitmentStore+="".concat(t,"\n"),this.text+="".concat(e.name,": But ").concat(q(t),".\n"),this.saveCommitmentStores()}},{key:"why",value:function(e,t){var a=O.a.create();a.consult(e.knowledgeBase+e.commitmentStore),a.query(t),a.answer(function(a){if("true ;"===O.a.format_answer(a))throw new Error("Pre-conditions of ".concat(e.name,' asking why "').concat(q(t),'" are not satisfied because ')+"the agent can demonstrate the claim through their knowledge base and commitment store!")});var n=!1,r=!0,s=!1,i=void 0;try{for(var o,c=this.agents[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value;l!==e&&l.commitmentStore.includes(t)&&(n=!0)}}catch(m){s=!0,i=m}finally{try{r||null==c.return||c.return()}finally{if(s)throw i}}if(!1===n)throw new Error("Pre-conditions of ".concat(e.name,' asking why "').concat(q(t),'" are not satisfied because ')+"no other agent's commitment store contains the claim!");this.text+="".concat(e.name,": Why is it that ").concat(q(t),"?\n"),this.saveCommitmentStores()}},{key:"concede",value:function(e,t){var a=!1,n=!0,r=!1,s=void 0;try{for(var i,o=this.agents[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value;c!==e&&c.commitmentStore.includes(t)&&(a=!0)}}catch(l){r=!0,s=l}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}if(!1===a)throw new Error("Pre-conditions of ".concat(e.name,' conceding to "').concat(q(t),'" are not satisfied because ')+"no other agent's commitment store contains the claim!");if(t.includes("\\+(")&&e.commitmentStore.includes("".concat(t.substring(3,t.length-2),"."))||!t.includes("\\+(")&&e.commitmentStore.includes("\\+(".concat(t.substring(0,t.length-1),").")))throw new Error("Pre-conditions of ".concat(e.name,' conceding to "').concat(q(t),'" are not satisfied because ')+"the agent's commitment store contains the negation of the claim!");e.commitmentStore.includes(t)||(e.commitmentStore+="".concat(t,"\n")),this.text+="".concat(e.name,": I accept that ").concat(q(t),".\n"),this.saveCommitmentStores()}},{key:"retract",value:function(e,t){var a=O.a.create();if(a.consult(e.knowledgeBase+e.commitmentStore.replace(t,"")),a.query(t),a.answer(function(a){if("true ;"===O.a.format_answer(a))throw new Error("Pre-conditions of ".concat(e.name,' retracting "').concat(q(t),'" are not satisfied because ')+"the agent can demonstrate the claim through their knowledge base and remaining commitment store!")}),!e.commitmentStore.includes(t))throw new Error("Pre-conditions of ".concat(e.name,' retracting "').concat(q(t),'" are not satisfied because ')+"the agent's commitment store does not contain the claim!");e.commitmentStore=e.commitmentStore.replace("".concat(t,"\n"),""),this.text+="".concat(e.name,": I take back that ").concat(q(t),".\n"),this.saveCommitmentStores()}},{key:"since",value:function(e,t,a,n){if(!e.commitmentStore.includes(a))throw new Error("Pre-conditions of ".concat(e.name,' offering reasoning for "').concat(q(a),'" are not satisfied because ')+"the agent's commitment store does not contain the claim!");var r=!0,s=!1,i=void 0;try{for(var o,c=n[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value;if(!e.knowledgeBase.includes(l))throw new Error("Pre-conditions of ".concat(e.name,' offering reasoning for "').concat(q(a),'" are not satisfied because ')+"the agent's knowledge base does not contain all justifications!")}}catch(D){s=!0,i=D}finally{try{r||null==c.return||c.return()}finally{if(s)throw i}}var m="",u=!0,d=!1,h=void 0;try{for(var f,v=n[Symbol.iterator]();!(u=(f=v.next()).done);u=!0){var g=f.value;m+="".concat(g,"\n")}}catch(D){d=!0,h=D}finally{try{u||null==v.return||v.return()}finally{if(d)throw h}}var b=O.a.create();b.consult(m+t.commitmentStore),b.query(a),b.answer(function(n){if("true ;"!==O.a.format_answer(n))throw new Error("Pre-conditions of ".concat(e.name,' offering reasoning for "').concat(q(a),'" are not satisfied because ')+"".concat(t.name," cannot demonstrate the claim through the justifications and their commitment store!"))});var y=!0,x=!1,p=void 0;try{for(var w,E=n[Symbol.iterator]();!(y=(w=E.next()).done);y=!0){var N=w.value;e.commitmentStore.includes(N)||(e.commitmentStore+="".concat(N,"\n"))}}catch(D){x=!0,p=D}finally{try{y||null==E.return||E.return()}finally{if(x)throw p}}var S=!0,k=!1,R=void 0;try{for(var A,C=n[Symbol.iterator]();!(S=(A=C.next()).done);S=!0){var T=A.value;t.commitmentStore.includes(T)||(t.commitmentStore+="".concat(T,"\n"))}}catch(D){k=!0,R=D}finally{try{S||null==C.return||C.return()}finally{if(k)throw R}}var P=n[0].split("-")[1].split(", ")[0].replace(/X/g,a.match(/([A-Za-z0-9])+/g)[1]),X=!0,I=!1,j=void 0;try{for(var _,Z=function(){var e=_.value;if(e[0]!==e[0].toLowerCase()){var a=O.a.create();a.consult(m+t.commitmentStore),"."!==P[P.length-1]&&"."!==P[P.length-2]&&(P+="."),a.query(P),a.answer(function(t){return P=P.replace(e,O.a.format_answer(t).split(" ")[2].replace(/,|\./g,""))})}},z=P.match(/([A-Za-z0-9])+/g)[Symbol.iterator]();!(X=(_=z.next()).done);X=!0)Z()}catch(D){I=!0,j=D}finally{try{X||null==z.return||z.return()}finally{if(I)throw j}}this.text+="".concat(e.name,": ").concat(q(a)," since ").concat(B(P.split("),")),".\n"),this.saveCommitmentStores()}},{key:"question",value:function(e,t){var a=!0,n=!1,r=void 0;try{for(var s,i=this.agents[Symbol.iterator]();!(a=(s=i.next()).done);a=!0){var o=s.value;if(o.commitmentStore.includes(t))throw new Error("Pre-conditions of ".concat(e.name,' questioning if "').concat(q(t),'" are not satisfied because ')+"".concat(o.name,"'s commitment store contains the claim!"))}}catch(l){n=!0,r=l}finally{try{a||null==i.return||i.return()}finally{if(n)throw r}}var c=O.a.create();c.consult(e.knowledgeBase+e.commitmentStore),c.query(t),c.answer(function(a){if("true ;"===O.a.format_answer(a))throw new Error("Pre-conditions of ".concat(e.name,' questioning if "').concat(q(t),'" are not satisfied because ')+"the agent can demonstrate the claim through their knowledge base and commitment store!")}),this.text+="".concat(e.name,": I wonder if ").concat(q(t),".\n"),this.saveCommitmentStores()}}]),e}(),D=function(e){function t(e,a){var n;return Object(o.a)(this,t),(n=Object(l.a)(this,Object(m.a)(t).call(this,e))).proponent=e[a],n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"isOver",value:function(){var e=!0,t=!1,a=void 0;try{for(var n,r=this.agents[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){if(!n.value.commitmentStore.includes("acceptableRestaurant(".concat(this.proponent.initialPreference,").")))return!1}}catch(s){t=!0,a=s}finally{try{e||null==r.return||r.return()}finally{if(t)throw a}}return!0}},{key:"claim",value:function(e,t){var a=t.match(/([A-Za-z0-9])+/g)[1],n=t.match(/([A-Za-z0-9])+/g)[0],r=O.a.create();r.consult(e.knowledgeBase+e.commitmentStore),r.query(t),r.answer(function(a){if("true ;"!==O.a.format_answer(a))throw new Error("Pre-conditions of ".concat(e.name,' claiming "').concat(q(t),'" are not satisfied because ')+"the agent cannot demonstrate the claim through their knowledge base and commitment store!")});var s=!0,i=!1,o=void 0;try{for(var c,l=this.agents[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var m=c.value;if(m.commitmentStore.includes(t))throw new Error("Pre-conditions of ".concat(e.name,' claiming "').concat(q(t),'" are not satisfied because ')+"".concat(m.name,"'s commitment store contains the claim!"))}}catch(F){i=!0,o=F}finally{try{s||null==l.return||l.return()}finally{if(i)throw o}}if(e!==this.proponent){if(!e.doesPrefer(a))throw new Error("Pre-conditions of ".concat(e.name,' claiming "').concat(q(t),'" are not satisfied because ')+"the restaurant is not preferable to the agent!");var u=[],d=!0,h=!1,f=void 0;try{for(var v,g=e.knowledgeBase.split("\n")[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var b=v.value;if(/^acceptableRestaurant\(X/.test(b)){var y=!0,x=!1,p=void 0;try{for(var w,E=b.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(y=(w=E.next()).done);y=!0){var N=w.value;u.includes(N)||u.push(N)}}catch(F){x=!0,p=F}finally{try{y||null==E.return||E.return()}finally{if(x)throw p}}}}}catch(F){h=!0,f=F}finally{try{d||null==g.return||g.return()}finally{if(h)throw f}}for(var S=0;S<u.length;S++){var k=!0,R=!1,A=void 0;try{for(var C,T=e.knowledgeBase.split("\n")[Symbol.iterator]();!(k=(C=T.next()).done);k=!0){var P=C.value;if(new RegExp("^"+u[S]+"\\(X").test(P)){var X=!0,I=!1,j=void 0;try{for(var _,Z=P.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(X=(_=Z.next()).done);X=!0){var B=_.value;u.includes(B)||u.push(B)}}catch(F){I=!0,j=F}finally{try{X||null==Z.return||Z.return()}finally{if(I)throw j}}}}}catch(F){R=!0,A=F}finally{try{k||null==T.return||T.return()}finally{if(R)throw A}}}if(!u.includes(n))throw new Error("Pre-conditions of ".concat(e.name,' claiming "').concat(q(t),'" are not satisfied because ')+"the claim does not correspond to a feature in the body of the agent's preference rule!")}if(e.commitmentStore+="".concat(t,"\n"),e!==this.proponent){r.query("acceptableRestaurant(".concat(a,").")),r.answer(function(t){"true ;"!==O.a.format_answer(t)||e.commitmentStore.includes("acceptableRestaurant(".concat(a,")."))||(e.commitmentStore+="acceptableRestaurant(".concat(a,").\n"))});var z=!0,D=!1,H=void 0;try{for(var W,J=(e.knowledgeBase+e.commitmentStore).split("\n")[Symbol.iterator]();!(z=(W=J.next()).done);z=!0){var Y=W.value;new RegExp("^"+n+"\\(X(?=\\)|,[A-Z]|,"+t.match(/([A-Za-z0-9_])+/g)[2]+")").test(Y)&&(e.commitmentStore.includes(Y)||(e.commitmentStore+="".concat(Y,"\n")))}}catch(F){D=!0,H=F}finally{try{z||null==J.return||J.return()}finally{if(D)throw H}}}this.text+="".concat(e.name,": ").concat(q(t),".\n"),this.saveCommitmentStores()}},{key:"counterclaim",value:function(e,t){var a=t.match(/([A-Za-z0-9])+/g)[0],n=O.a.create();n.consult(e.knowledgeBase+e.commitmentStore),n.query(t),n.answer(function(a){if("true ;"!==O.a.format_answer(a))throw new Error("Pre-conditions of ".concat(e.name,' counterclaiming "').concat(q(t),'" are not satisfied because ')+"the agent cannot demonstrate the claim through their knowledge base and commitment store!")});var r=!0,s=!1,i=void 0;try{for(var o,c=this.agents[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value;if(l.commitmentStore.includes(t))throw new Error("Pre-conditions of ".concat(e.name,' counterclaiming "').concat(q(t),'" are not satisfied because ')+"".concat(l.name,"'s commitment store contains the claim!"))}}catch(Y){s=!0,i=Y}finally{try{r||null==c.return||c.return()}finally{if(s)throw i}}if(e!==this.proponent){if(e.doesPrefer(t.match(/([A-Za-z0-9])+/g)[1]))throw new Error("Pre-conditions of ".concat(e.name,' counterclaiming "').concat(q(t),'" are not satisfied because ')+"the restaurant is preferable to the agent!");var m=[],u=!0,d=!1,h=void 0;try{for(var f,v=e.knowledgeBase.split("\n")[Symbol.iterator]();!(u=(f=v.next()).done);u=!0){var g=f.value;if(/^acceptableRestaurant\(X/.test(g)){var b=!0,y=!1,x=void 0;try{for(var p,w=g.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(b=(p=w.next()).done);b=!0){var E=p.value;m.includes(E)||m.push(E)}}catch(Y){y=!0,x=Y}finally{try{b||null==w.return||w.return()}finally{if(y)throw x}}}}}catch(Y){d=!0,h=Y}finally{try{u||null==v.return||v.return()}finally{if(d)throw h}}for(var N=0;N<m.length;N++){var S=!0,k=!1,R=void 0;try{for(var A,C=e.knowledgeBase.split("\n")[Symbol.iterator]();!(S=(A=C.next()).done);S=!0){var T=A.value;if(new RegExp("^"+m[N]+"\\(X").test(T)){var P=!0,X=!1,I=void 0;try{for(var j,_=T.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(P=(j=_.next()).done);P=!0){var Z=j.value;m.includes(Z)||m.push(Z)}}catch(Y){X=!0,I=Y}finally{try{P||null==_.return||_.return()}finally{if(X)throw I}}}}}catch(Y){k=!0,R=Y}finally{try{S||null==C.return||C.return()}finally{if(k)throw R}}}if(!m.includes(a))throw new Error("Pre-conditions of ".concat(e.name,' counterclaiming "').concat(q(t),'" are not satisfied because ')+"the claim does not correspond to a feature in the body of the agent's preference rule!")}if(e.commitmentStore+="".concat(t,"\n"),e!==this.proponent){var B=!0,z=!1,D=void 0;try{for(var H,W=(e.knowledgeBase+e.commitmentStore).split("\n")[Symbol.iterator]();!(B=(H=W.next()).done);B=!0){var J=H.value;new RegExp("^"+a+"\\(X(?=\\)|,[A-Z]|,"+t.match(/([A-Za-z0-9_])+/g)[2]+")").test(J)&&(e.commitmentStore.includes(J)||(e.commitmentStore+="".concat(J,"\n")))}}catch(Y){z=!0,D=Y}finally{try{B||null==W.return||W.return()}finally{if(z)throw D}}}this.text+="".concat(e.name,": But ").concat(q(t),".\n"),this.saveCommitmentStores()}},{key:"concede",value:function(e,t){var a=t.match(/([A-Za-z0-9])+/g)[0],n=!1,r=!0,s=!1,i=void 0;try{for(var o,c=this.agents[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value;l!==e&&l.commitmentStore.includes(t)&&(n=!0)}}catch(J){s=!0,i=J}finally{try{r||null==c.return||c.return()}finally{if(s)throw i}}if(!1===n)throw new Error("Pre-conditions of ".concat(e.name,' conceding to "').concat(q(t),'" are not satisfied because ')+"no other agent's commitment store contains the claim!");if(t.includes("\\+(")&&e.commitmentStore.includes("".concat(t.substring(3,t.length-2),"."))||!t.includes("\\+(")&&e.commitmentStore.includes("\\+(".concat(t.substring(0,t.length-1),").")))throw new Error("Pre-conditions of ".concat(e.name,' conceding to "').concat(q(t),'" are not satisfied because ')+"the agent's commitment store contains the negation of the claim!");if(e!==this.proponent){var m=["acceptableRestaurant"],u=!0,d=!1,h=void 0;try{for(var f,v=e.knowledgeBase.split("\n")[Symbol.iterator]();!(u=(f=v.next()).done);u=!0){var g=f.value;if(/^acceptableRestaurant\(X/.test(g)){var b=!0,y=!1,x=void 0;try{for(var p,w=g.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(b=(p=w.next()).done);b=!0){var E=p.value;m.includes(E)||m.push(E)}}catch(J){y=!0,x=J}finally{try{b||null==w.return||w.return()}finally{if(y)throw x}}}}}catch(J){d=!0,h=J}finally{try{u||null==v.return||v.return()}finally{if(d)throw h}}for(var N=0;N<m.length;N++){var S=!0,k=!1,R=void 0;try{for(var A,C=e.knowledgeBase.split("\n")[Symbol.iterator]();!(S=(A=C.next()).done);S=!0){var T=A.value;if(new RegExp("^"+m[N]+"\\(X").test(T)){var P=!0,X=!1,I=void 0;try{for(var O,j=T.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(P=(O=j.next()).done);P=!0){var _=O.value;m.includes(_)||m.push(_)}}catch(J){X=!0,I=J}finally{try{P||null==j.return||j.return()}finally{if(X)throw I}}}}}catch(J){k=!0,R=J}finally{try{S||null==C.return||C.return()}finally{if(k)throw R}}}if(!m.includes(a))throw new Error("Pre-conditions of ".concat(e.name,' conceding to "').concat(q(t),'" are not satisfied because ')+"the claim does not correspond to a feature in the body of the agent's preference rule!")}if(e.commitmentStore.includes(t)||(e.commitmentStore+="".concat(t,"\n")),e!==this.proponent){var Z=!0,B=!1,z=void 0;try{for(var D,H=(e.knowledgeBase+e.commitmentStore).split("\n")[Symbol.iterator]();!(Z=(D=H.next()).done);Z=!0){var W=D.value;new RegExp("^"+a+"\\(X(?=\\)|,[A-Z]|,"+t.match(/([A-Za-z0-9_])+/g)[2]+")").test(W)&&(e.commitmentStore.includes(W)||(e.commitmentStore+="".concat(W,"\n")))}}catch(J){B=!0,z=J}finally{try{Z||null==H.return||H.return()}finally{if(B)throw z}}}this.text+="".concat(e.name,": I accept that ").concat(q(t),".\n"),this.saveCommitmentStores()}},{key:"question",value:function(e,t){var a=t.match(/([A-Za-z0-9])+/g)[0],n=!0,r=!1,s=void 0;try{for(var i,o=this.agents[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value;if(c.commitmentStore.includes(t))throw new Error("Pre-conditions of ".concat(e.name,' questioning if "').concat(q(t),'" are not satisfied because ')+"".concat(c.name,"'s commitment store contains the claim!"))}}catch(Y){r=!0,s=Y}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}var l=O.a.create();if(l.consult(e.knowledgeBase+e.commitmentStore),l.query(t),l.answer(function(a){if("true ;"===O.a.format_answer(a))throw new Error("Pre-conditions of ".concat(e.name,' questioning if "').concat(q(t),'" are not satisfied because ')+"the agent can demonstrate the claim through their knowledge base and commitment store!")}),e!==this.proponent){var m=[],u=!0,d=!1,h=void 0;try{for(var f,v=e.knowledgeBase.split("\n")[Symbol.iterator]();!(u=(f=v.next()).done);u=!0){var g=f.value;if(/^acceptableRestaurant\(X/.test(g)){var b=!0,y=!1,x=void 0;try{for(var p,w=g.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(b=(p=w.next()).done);b=!0){var E=p.value;m.includes(E)||m.push(E)}}catch(Y){y=!0,x=Y}finally{try{b||null==w.return||w.return()}finally{if(y)throw x}}}}}catch(Y){d=!0,h=Y}finally{try{u||null==v.return||v.return()}finally{if(d)throw h}}for(var N=0;N<m.length;N++){var S=!0,k=!1,R=void 0;try{for(var A,C=e.knowledgeBase.split("\n")[Symbol.iterator]();!(S=(A=C.next()).done);S=!0){var T=A.value;if(new RegExp("^"+m[N]+"\\(X").test(T)){var P=!0,X=!1,I=void 0;try{for(var j,_=T.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(P=(j=_.next()).done);P=!0){var Z=j.value;m.includes(Z)||m.push(Z)}}catch(Y){X=!0,I=Y}finally{try{P||null==_.return||_.return()}finally{if(X)throw I}}}}}catch(Y){k=!0,R=Y}finally{try{S||null==C.return||C.return()}finally{if(k)throw R}}}if(!m.includes(a))throw new Error("Pre-conditions of ".concat(e.name,' questioning if "').concat(q(t),'" are not satisfied because ')+"the claim does not correspond to a feature in the body of the agent's preference rule!")}if(e!==this.proponent){var B=!0,z=!1,D=void 0;try{for(var H,W=(e.knowledgeBase+e.commitmentStore).split("\n")[Symbol.iterator]();!(B=(H=W.next()).done);B=!0){var J=H.value;new RegExp("^"+a+"\\(X(?=\\)|,[A-Z]|,"+t.match(/([A-Za-z0-9_])+/g)[2]+")").test(J)&&(e.commitmentStore.includes(J)||(e.commitmentStore+="".concat(J,"\n")))}}catch(Y){z=!0,D=Y}finally{try{B||null==W.return||W.return()}finally{if(z)throw D}}}this.text+="".concat(e.name,": I wonder if ").concat(q(t),".\n"),this.saveCommitmentStores()}}]),t}(z),H=a(34),W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(m.a)(t).call(this,e))).agreedPreferenceRule="acceptableRestaurant(X):-",a.agreedPreferenceRuleHistory=[a.agreedPreferenceRule],a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"saveCommitmentStores",value:function(){Object(H.a)(Object(m.a)(t.prototype),"saveCommitmentStores",this).call(this),this.agreedPreferenceRuleHistory.push(this.agreedPreferenceRule)}},{key:"isOver",value:function(){var e="",t=!0,a=!1,n=void 0;try{for(var r,s=this.agents[Symbol.iterator]();!(t=(r=s.next()).done);t=!0){var i=r.value,o=!0,c=!1,l=void 0;try{for(var m,u=i.commitmentStore.split("\n")[Symbol.iterator]();!(o=(m=u.next()).done);o=!0){var d=m.value;/^acceptableRestaurant\(/.test(d)||(e+="".concat(d,"\n"))}}catch(p){c=!0,l=p}finally{try{o||null==u.return||u.return()}finally{if(c)throw l}}}}catch(p){a=!0,n=p}finally{try{t||null==s.return||s.return()}finally{if(a)throw n}}e+=this.agreedPreferenceRule;var h="",f=O.a.create();f.consult(e),f.query("acceptableRestaurant(X)."),f.answer(function(e){h=O.a.format_answer(e).split(" ")[2]});var v=!0,g=!1,b=void 0;try{for(var y,x=this.agents[Symbol.iterator]();!(v=(y=x.next()).done);v=!0){if(!y.value.commitmentStore.includes("acceptableRestaurant(".concat(h,")")))return!1}}catch(p){g=!0,b=p}finally{try{v||null==x.return||x.return()}finally{if(g)throw b}}return!0}},{key:"addTermToAgreedPreferenceRule",value:function(e){var t=e.match(/([A-Za-z0-9_])+/g)[1];this.agreedPreferenceRule.includes(e.substring(0,e.length-1).replace(t,"X"))||("-"===this.agreedPreferenceRule[this.agreedPreferenceRule.length-1]?this.agreedPreferenceRule+=e.replace(t,"X"):this.agreedPreferenceRule="".concat(this.agreedPreferenceRule.substring(0,this.agreedPreferenceRule.length-1),",").concat(e.replace(t,"X")))}},{key:"claim",value:function(e,t){var a=t.match(/([A-Za-z0-9])+/g)[1],n=t.match(/([A-Za-z0-9])+/g)[0],r=O.a.create();r.consult(e.knowledgeBase+e.commitmentStore),r.query(t),r.answer(function(a){if("true ;"!==O.a.format_answer(a))throw new Error("Pre-conditions of ".concat(e.name,' claiming "').concat(q(t),'" are not satisfied because ')+"the agent cannot demonstrate the claim through their knowledge base and commitment store!")});var s=!0,i=!1,o=void 0;try{for(var c,l=this.agents[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var m=c.value;if(m.commitmentStore.includes(t))throw new Error("Pre-conditions of ".concat(e.name,' claiming "').concat(q(t),'" are not satisfied because ')+"".concat(m.name,"'s commitment store contains the claim!"))}}catch(F){i=!0,o=F}finally{try{s||null==l.return||l.return()}finally{if(i)throw o}}if(!e.doesPrefer(a))throw new Error("Pre-conditions of ".concat(e.name,' claiming "').concat(q(t),'" are not satisfied because ')+"the restaurant is not preferable to the agent!");var u=[],d=!0,h=!1,f=void 0;try{for(var v,g=e.knowledgeBase.split("\n")[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var b=v.value;if(/^acceptableRestaurant\(X/.test(b)){var y=!0,x=!1,p=void 0;try{for(var w,E=b.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(y=(w=E.next()).done);y=!0){var N=w.value;u.includes(N)||u.push(N)}}catch(F){x=!0,p=F}finally{try{y||null==E.return||E.return()}finally{if(x)throw p}}}}}catch(F){h=!0,f=F}finally{try{d||null==g.return||g.return()}finally{if(h)throw f}}for(var S=0;S<u.length;S++){var k=!0,R=!1,A=void 0;try{for(var C,T=e.knowledgeBase.split("\n")[Symbol.iterator]();!(k=(C=T.next()).done);k=!0){var P=C.value;if(new RegExp("^"+u[S]+"\\(X").test(P)){var X=!0,I=!1,j=void 0;try{for(var _,Z=P.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(X=(_=Z.next()).done);X=!0){var B=_.value;u.includes(B)||u.push(B)}}catch(F){I=!0,j=F}finally{try{X||null==Z.return||Z.return()}finally{if(I)throw j}}}}}catch(F){R=!0,A=F}finally{try{k||null==T.return||T.return()}finally{if(R)throw A}}}if(!u.includes(n))throw new Error("Pre-conditions of ".concat(e.name,' claiming "').concat(q(t),'" are not satisfied because ')+"the claim does not correspond to a feature in the body of the agent's preference rule!");e.commitmentStore+="".concat(t,"\n"),r.query("acceptableRestaurant(".concat(a,").")),r.answer(function(t){"true ;"!==O.a.format_answer(t)||e.commitmentStore.includes("acceptableRestaurant(".concat(a,")."))||(e.commitmentStore+="acceptableRestaurant(".concat(a,").\n"))});var z=!0,D=!1,H=void 0;try{for(var W,J=(e.knowledgeBase+e.commitmentStore).split("\n")[Symbol.iterator]();!(z=(W=J.next()).done);z=!0){var Y=W.value;new RegExp("^"+n+"\\(X(?=\\)|,[A-Z]|,"+t.match(/([A-Za-z0-9_])+/g)[2]+")").test(Y)&&(e.commitmentStore.includes(Y)||(e.commitmentStore+="".concat(Y,"\n")))}}catch(F){D=!0,H=F}finally{try{z||null==J.return||J.return()}finally{if(D)throw H}}this.text+="".concat(e.name,": ").concat(q(t),".\n"),this.saveCommitmentStores()}},{key:"counterclaim",value:function(e,t){var a=t.match(/([A-Za-z0-9])+/g)[0],n=O.a.create();n.consult(e.knowledgeBase+e.commitmentStore),n.query(t),n.answer(function(a){if("true ;"!==O.a.format_answer(a))throw new Error("Pre-conditions of ".concat(e.name,' counterclaiming "').concat(q(t),'" are not satisfied because ')+"the agent cannot demonstrate the claim through their knowledge base and commitment store!")});var r=!0,s=!1,i=void 0;try{for(var o,c=this.agents[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value;if(l.commitmentStore.includes(t))throw new Error("Pre-conditions of ".concat(e.name,' counterclaiming "').concat(q(t),'" are not satisfied because ')+"".concat(l.name,"'s commitment store contains the claim!"))}}catch(Y){s=!0,i=Y}finally{try{r||null==c.return||c.return()}finally{if(s)throw i}}if(e.doesPrefer(t.match(/([A-Za-z0-9])+/g)[1]))throw new Error("Pre-conditions of ".concat(e.name,' counterclaiming "').concat(q(t),'" are not satisfied because ')+"the restaurant is preferable to the agent!");var m=[],u=!0,d=!1,h=void 0;try{for(var f,v=e.knowledgeBase.split("\n")[Symbol.iterator]();!(u=(f=v.next()).done);u=!0){var g=f.value;if(/^acceptableRestaurant\(X/.test(g)){var b=!0,y=!1,x=void 0;try{for(var p,w=g.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(b=(p=w.next()).done);b=!0){var E=p.value;m.includes(E)||m.push(E)}}catch(Y){y=!0,x=Y}finally{try{b||null==w.return||w.return()}finally{if(y)throw x}}}}}catch(Y){d=!0,h=Y}finally{try{u||null==v.return||v.return()}finally{if(d)throw h}}for(var N=0;N<m.length;N++){var S=!0,k=!1,R=void 0;try{for(var A,C=e.knowledgeBase.split("\n")[Symbol.iterator]();!(S=(A=C.next()).done);S=!0){var T=A.value;if(new RegExp("^"+m[N]+"\\(X").test(T)){var P=!0,X=!1,I=void 0;try{for(var j,_=T.match(/(?<=,|-|, \()([A-Za-z0-9])+(?=\()/g)[Symbol.iterator]();!(P=(j=_.next()).done);P=!0){var Z=j.value;m.includes(Z)||m.push(Z)}}catch(Y){X=!0,I=Y}finally{try{P||null==_.return||_.return()}finally{if(X)throw I}}}}}catch(Y){k=!0,R=Y}finally{try{S||null==C.return||C.return()}finally{if(k)throw R}}}if(!m.includes(a))throw new Error("Pre-conditions of ".concat(e.name,' counterclaiming "').concat(q(t),'" are not satisfied because ')+"the claim does not correspond to a feature in the body of the agent's preference rule!");e.commitmentStore+="".concat(t,"\n");var B=!0,z=!1,D=void 0;try{for(var H,W=(e.knowledgeBase+e.commitmentStore).split("\n")[Symbol.iterator]();!(B=(H=W.next()).done);B=!0){var J=H.value;new RegExp("^"+a+"\\(X(?=\\)|,[A-Z]|,"+t.match(/([A-Za-z0-9_])+/g)[2]+")").test(J)&&(e.commitmentStore.includes(J)||(e.commitmentStore+="".concat(J,"\n")))}}catch(Y){z=!0,D=Y}finally{try{B||null==W.return||W.return()}finally{if(z)throw D}}this.text+="".concat(e.name,": But ").concat(q(t),".\n"),this.saveCommitmentStores()}},{key:"concede",value:function(e,t){var a=t.match(/([A-Za-z0-9_])+/g)[1],n=t.match(/([A-Za-z0-9])+/g)[0],r=!1,s=!0,i=!1,o=void 0;try{for(var c,l=this.agents[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var m=c.value;m!==e&&m.commitmentStore.includes(t)&&(r=!0)}}catch(b){i=!0,o=b}finally{try{s||null==l.return||l.return()}finally{if(i)throw o}}if(!1===r)throw new Error("Pre-conditions of ".concat(e.name,' conceding to "').concat(q(t),'" are not satisfied because ')+"no other agent's commitment store contains the claim!");if(t.includes("\\+(")&&e.commitmentStore.includes("".concat(t.substring(3,t.length-2),"."))||!t.includes("\\+(")&&e.commitmentStore.includes("\\+(".concat(t.substring(0,t.length-1),").")))throw new Error("Pre-conditions of ".concat(e.name,' conceding to "').concat(q(t),'" are not satisfied because ')+"the agent's commitment store contains the negation of the claim!");this.addTermToAgreedPreferenceRule(t),e.commitmentStore.includes(t)||(e.commitmentStore+="".concat(t,"\n"));var u=!0,d=!1,h=void 0;try{for(var f,v=(e.knowledgeBase+e.commitmentStore).split("\n")[Symbol.iterator]();!(u=(f=v.next()).done);u=!0){var g=f.value;new RegExp("^"+n+"\\(X(?=\\)|,[A-Z]|,"+t.match(/([A-Za-z0-9_])+/g)[2]+")").test(g)&&(e.commitmentStore.includes(g)||(e.commitmentStore+="".concat(g,"\n")))}}catch(b){d=!0,h=b}finally{try{u||null==v.return||v.return()}finally{if(d)throw h}}this.text+="acceptableRestaurant"!==n?"".concat(e.name,": I accept that ").concat(q(t),". We want to to a restaurant with ").concat(q(t.replace(a,"_")),".\n"):"".concat(e.name,": I accept that ").concat(q(t),".\n"),this.saveCommitmentStores()}},{key:"concedeSince",value:function(e,t,a){var n="",r=!0,s=!1,i=void 0;try{for(var o,c=a[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value;n+="".concat(l,"\n")}}catch(te){s=!0,i=te}finally{try{r||null==c.return||c.return()}finally{if(s)throw i}}var m=O.a.create();m.consult(e.knowledgeBase+e.commitmentStore+n),m.query(t),m.answer(function(a){if("true ;"!==O.a.format_answer(a))throw new Error("Pre-conditions of ".concat(e.name,' conceding to and offering reasoning for "').concat(q(t),'" are not satisfied because ')+"the agent cannot demonstrate the claim through their knowledge base, commitment store, and the justifications!")});var u=!1,d=!0,h=!1,f=void 0;try{for(var v,g=this.agents[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var b=v.value,y=!0,x=!0,p=!1,w=void 0;try{for(var E,N=a[Symbol.iterator]();!(x=(E=N.next()).done);x=!0){var S=E.value;b===e||b.commitmentStore.includes(S)||(y=!1)}}catch(te){p=!0,w=te}finally{try{x||null==N.return||N.return()}finally{if(p)throw w}}b!==e&&!0===y&&(u=!0)}}catch(te){h=!0,f=te}finally{try{d||null==g.return||g.return()}finally{if(h)throw f}}if(!1===u)throw new Error("Pre-conditions of ".concat(e.name,' conceding to and offering reasoning for "').concat(q(t),'" are not satisfied because ')+"no other agent's commitment store contains the justifications!");var k=!0,R=!1,A=void 0;try{for(var C,T=a[Symbol.iterator]();!(k=(C=T.next()).done);k=!0){var P=C.value;this.addTermToAgreedPreferenceRule(P)}}catch(te){R=!0,A=te}finally{try{k||null==T.return||T.return()}finally{if(R)throw A}}var X=!0,I=!1,j=void 0;try{for(var _,z=a[Symbol.iterator]();!(X=(_=z.next()).done);X=!0){var D=_.value;e.commitmentStore.includes(D)||(e.commitmentStore+="".concat(D,"\n"))}}catch(te){I=!0,j=te}finally{try{X||null==z.return||z.return()}finally{if(I)throw j}}var H=!0,W=!1,J=void 0;try{for(var Y,F=a[Symbol.iterator]();!(H=(Y=F.next()).done);H=!0){var G=Y.value,K=!0,V=!1,U=void 0;try{for(var $,L=(e.knowledgeBase+e.commitmentStore).split("\n")[Symbol.iterator]();!(K=($=L.next()).done);K=!0){var M=$.value;new RegExp("^"+G.match(/([A-Za-z0-9_])+/g)[0]+"\\(X(?=\\)|,[A-Z]|,"+G.match(/([A-Za-z0-9_])+/g)[2]+")").test(M)&&(e.commitmentStore.includes(M)||(e.commitmentStore+="".concat(M,"\n")))}}catch(te){V=!0,U=te}finally{try{K||null==L.return||L.return()}finally{if(V)throw U}}}}catch(te){W=!0,J=te}finally{try{H||null==F.return||F.return()}finally{if(W)throw J}}this.text+="".concat(e.name,": Since ").concat(B(a),", that makes ").concat(Z(t.match(/([A-Za-z0-9])+/g)[1])," an acceptable restaurant. ");for(var Q=[],ee=0;ee<a.length;ee++)Q.push(a[ee].replace(a[ee].match(/([A-Za-z0-9])+/g)[1],"_"));this.text+="We want to go to a restaurant with ".concat(B(Q),".\n"),this.saveCommitmentStores()}}]),t}(z),J="distance(restaurantOne,5,0).\ndistance(restaurantTwo,10,10).\ndistance(restaurantThree,1,0).\nmealTime(restaurantOne,90).\nmealTime(restaurantTwo,60).\nmealTime(restaurantThree,15).\nquality(X,good):-recommended(X,Y),trustworthy(Y).\nquality(X,poor):-recommended(X,students).\nprice(restaurantOne,25).\nprice(restaurantTwo,15).\nprice(restaurantThree,7).\natmosphere(restaurantOne).\natmosphere(restaurantTwo).\nbeverage(restaurantOne).\nbeverage(restaurantTwo).\ncuisine(restaurantOne,cuisineOne).\ncuisine(restaurantTwo,cuisineTwo).\ncuisine(restaurantThree,cuisineThree).\ncuisine(X,mediterranean):-cuisine(X,cuisineOne).\nhealthy(X):-cuisine(X,mediterranean).\nhealthy(X):-vegetables(X).\nvegetables(X):-cuisine(X,cuisineTwo).\ntrustworthy(colleague).\ntrustworthy(husband).\nrecommended(restaurantOne,husband).\nrecommended(restaurantTwo,colleague).\nrecommended(restaurantThree,students).\ntotalTime(X,T):-distance(X,Td,_),mealTime(X,Tm), T is Td+Tm.\ntotalCost(X,C):-distance(X,_,Cd),price(X,Cm), C is Cd+Cm.\nacceptableRestaurant(X):-quality(X,good),healthy(X).\nacceptableRestaurant(X):-cuisine(X,cuisineTwo).\nacceptableRestaurant(X):-quality(X,good), (quality(Y,good),cheaper(Y,X)->false;true).\nacceptableRestaurant(X):-quality(X,good),atmosphere(X),beverage(X),distance(X,_,0), (quality(Y,good),atmosphere(Y),beverage(Y),quicker(Y,X)->false;true).\nacceptableRestaurant(X):-healthy(X),atmosphere(X),beverage(X),distance(X,_,0).\nacceptableRestaurant(X):-quality(X,good),healthy(X),atmosphere(X),beverage(X).\nacceptableRestaurant(X):-quality(X,good),atmosphere(X).\ncheaper(X,Y):-totalCost(X,Cx),totalCost(Y,Cy), Cx < Cy.\nquicker(X,Y):-totalTime(X,Tx),totalTime(Y,Ty), Tx < Ty.",Y=function(){function e(t,a,n,r){Object(o.a)(this,e),this.agentNames=t,this.restaurantNames=a,this.restaurantCuisines=n,this.beverage=r,this.generalKnowledgeBase=J.replace(/restaurantOne/g,_(a[0])).replace(/restaurantTwo/g,_(a[1])).replace(/restaurantThree/g,_(a[2])).replace(/cuisineOne/g,_(n[0])).replace(/cuisineTwo/g,_(n[1])).replace(/cuisineThree/g,_(n[2])).replace(/beverage/g,_(r)),this.persuasionDialogue=this.simulatePersuasionDialogue(),this.deliberationDialogue=this.simulateDeliberationDialogue()}return Object(c.a)(e,[{key:"simulatePersuasionDialogue",value:function(){var e="",t="",a="",n=!0,r=!1,s=void 0;try{for(var i,o=this.generalKnowledgeBase.split("\n").entries()[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value,l=Object(X.a)(c,2),m=l[0],u=l[1];[15,23,24,6,18,19,29].includes(m)&&(e+="".concat(u,"\n")),[8,9,16,22,25,6,7,20,21,28,36,30].includes(m)&&(t+="".concat(u,"\n")),[1,26,6,28,36,31].includes(m)&&(a+="".concat(u,"\n"))}}catch(h){r=!0,s=h}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}var d=new D([new j(this.agentNames[0],_(this.restaurantNames[0]),e),new j(this.agentNames[1],_(this.restaurantNames[1]),t),new j(this.agentNames[2],_(this.restaurantNames[2]),a)],1);if(d.claim(d.agents[1],"acceptableRestaurant(".concat(_(this.restaurantNames[1]),").")),d.claim(d.agents[1],"cuisine(".concat(_(this.restaurantNames[1]),",").concat(_(this.restaurantCuisines[1]),").")),d.counterclaim(d.agents[2],"distance(".concat(_(this.restaurantNames[1]),",10,_).")),d.claim(d.agents[1],"quality(".concat(_(this.restaurantNames[1]),",good).")),d.claim(d.agents[2],"recommended(".concat(_(this.restaurantNames[2]),",students).")),d.question(d.agents[2],"quality(".concat(_(this.restaurantNames[2]),",good).")),d.concede(d.agents[1],"recommended(".concat(_(this.restaurantNames[2]),",students).")),d.counterclaim(d.agents[1],"quality(".concat(_(this.restaurantNames[2]),",poor).")),d.claim(d.agents[0],"quality(".concat(_(this.restaurantNames[0]),",good).")),d.claim(d.agents[0],"healthy(".concat(_(this.restaurantNames[0]),").")),d.claim(d.agents[1],"healthy(".concat(_(this.restaurantNames[1]),").")),d.claim(d.agents[1],"price(".concat(_(this.restaurantNames[1]),",15).")),d.counterclaim(d.agents[1],"price(".concat(_(this.restaurantNames[0]),",25).")),d.counterclaim(d.agents[2],"distance(".concat(_(this.restaurantNames[1]),",_,10).")),d.concede(d.agents[1],"distance(".concat(_(this.restaurantNames[1]),",_,10).")),d.counterclaim(d.agents[1],"\\+(cheaper(".concat(_(this.restaurantNames[0]),",").concat(_(this.restaurantNames[1]),")).")),d.concede(d.agents[2],"acceptableRestaurant(".concat(_(this.restaurantNames[1]),").")),d.concede(d.agents[0],"acceptableRestaurant(".concat(_(this.restaurantNames[1]),").")),d.text=d.text.replace(new RegExp(Z(_(this.restaurantNames[0])),"gi"),this.restaurantNames[0]).replace(new RegExp(Z(_(this.restaurantNames[1])),"gi"),this.restaurantNames[1]).replace(new RegExp(Z(_(this.restaurantNames[2])),"gi"),this.restaurantNames[2]).replace(new RegExp(this.restaurantCuisines[0],"gi"),this.restaurantCuisines[0]).replace(new RegExp(this.restaurantCuisines[1],"gi"),this.restaurantCuisines[1]).replace(new RegExp(this.restaurantCuisines[2],"gi"),this.restaurantCuisines[2]),d.isOver())return d;throw new Error("Persuasion dialogue has not reached an end state!")}},{key:"simulateDeliberationDialogue",value:function(){var e="",t="",a="",n=!0,r=!1,s=void 0;try{for(var i,o=this.generalKnowledgeBase.split("\n").entries()[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value,l=Object(X.a)(c,2),m=l[0],u=l[1];[0,11,13,15,23,24,6,18,19,29,33].includes(m)&&(e+="".concat(u,"\n")),[12,13,14,15,16,22,25,6,18,19,20,21,30,34].includes(m)&&(t+="".concat(u,"\n")),[1,2,8,10,23,26,6,28,36,31,35].includes(m)&&(a+="".concat(u,"\n"))}}catch(h){r=!0,s=h}finally{try{n||null==o.return||o.return()}finally{if(r)throw s}}var d=new W([new j(this.agentNames[0],_(this.restaurantNames[0]),e),new j(this.agentNames[1],_(this.restaurantNames[1]),t),new j(this.agentNames[2],_(this.restaurantNames[2]),a)]);if(d.claim(d.agents[1],"cuisine(".concat(_(this.restaurantNames[1]),",").concat(_(this.restaurantCuisines[1]),").")),d.counterclaim(d.agents[2],"distance(".concat(_(this.restaurantNames[1]),",10,_).")),d.claim(d.agents[2],"distance(".concat(_(this.restaurantNames[2]),",1,0).")),d.claim(d.agents[0],"distance(".concat(_(this.restaurantNames[0]),",_,0).")),d.claim(d.agents[0],"quality(".concat(_(this.restaurantNames[0]),",good).")),d.counterclaim(d.agents[2],"price(".concat(_(this.restaurantNames[0]),",25).")),d.claim(d.agents[2],"price(".concat(_(this.restaurantNames[2]),",7).")),d.counterclaim(d.agents[1],"\\+(".concat(_(this.beverage),"(").concat(_(this.restaurantNames[2]),")).")),d.claim(d.agents[1],"".concat(_(this.beverage),"(").concat(_(this.restaurantNames[1]),").")),d.counterclaim(d.agents[0],"\\+(atmosphere(".concat(_(this.restaurantNames[2]),")).")),d.claim(d.agents[0],"atmosphere(".concat(_(this.restaurantNames[0]),").")),d.claim(d.agents[1],"atmosphere(".concat(_(this.restaurantNames[1]),").")),d.claim(d.agents[1],"quality(".concat(_(this.restaurantNames[1]),",good).")),d.counterclaim(d.agents[2],"distance(".concat(_(this.restaurantNames[1]),",_,10).")),d.claim(d.agents[1],"healthy(".concat(_(this.restaurantNames[1]),").")),d.claim(d.agents[0],"healthy(".concat(_(this.restaurantNames[0]),").")),d.concedeSince(d.agents[1],"acceptableRestaurant(".concat(_(this.restaurantNames[0]),")."),["quality(".concat(_(this.restaurantNames[0]),",good)."),"atmosphere(".concat(_(this.restaurantNames[0]),").")]),d.concedeSince(d.agents[2],"acceptableRestaurant(".concat(_(this.restaurantNames[1]),")."),["quality(".concat(_(this.restaurantNames[1]),",good)."),"atmosphere(".concat(_(this.restaurantNames[1]),").")]),d.concede(d.agents[0],"".concat(_(this.beverage),"(").concat(_(this.restaurantNames[1]),").")),d.claim(d.agents[0],"".concat(_(this.beverage),"(").concat(_(this.restaurantNames[0]),").")),d.concedeSince(d.agents[1],"acceptableRestaurant(".concat(_(this.restaurantNames[0]),")."),["distance(".concat(_(this.restaurantNames[0]),",_,0).")]),d.concede(d.agents[2],"acceptableRestaurant(".concat(_(this.restaurantNames[0]),").")),d.concede(d.agents[1],"acceptableRestaurant(".concat(_(this.restaurantNames[0]),").")),d.text=d.text.replace(new RegExp(Z(_(this.restaurantNames[0])),"gi"),this.restaurantNames[0]).replace(new RegExp(Z(_(this.restaurantNames[1])),"gi"),this.restaurantNames[1]).replace(new RegExp(Z(_(this.restaurantNames[2])),"gi"),this.restaurantNames[2]).replace(new RegExp(this.restaurantCuisines[0],"gi"),this.restaurantCuisines[0]).replace(new RegExp(this.restaurantCuisines[1],"gi"),this.restaurantCuisines[1]).replace(new RegExp(this.restaurantCuisines[2],"gi"),this.restaurantCuisines[2]),d.isOver())return d;throw new Error("Deliberation dialogue has not reached an end state!")}}]),e}(),F=(a(45),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={firstAgentsName:"",secondAgentsName:"",thirdAgentsName:"",isFirstAgentsNameInvalid:!1,isSecondAgentsNameInvalid:!1,isThirdAgentsNameInvalid:!1,firstRestaurantsName:"",secondRestaurantsName:"",thirdRestaurantsName:"",isFirstRestaurantsNameInvalid:!1,isSecondRestaurantsNameInvalid:!1,isThirdRestaurantsNameInvalid:!1,firstRestaurantsCuisine:"Italian",secondRestaurantsCuisine:"Thai",thirdRestaurantsCuisine:"American",beverage:"Wine",isErrorNotificationVisible:!1,simulation:null},e.onChange=e.onChange.bind(Object(d.a)(Object(d.a)(e))),e.checkInputValues=e.checkInputValues.bind(Object(d.a)(Object(d.a)(e))),e.generateDialogues=e.generateDialogues.bind(Object(d.a)(Object(d.a)(e))),e.resetState=e.resetState.bind(Object(d.a)(Object(d.a)(e))),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"onChange",value:function(e){this.setState(Object(w.a)({},e.target.id,e.target.value))}},{key:"checkInputValues",value:function(){return""===this.state.firstAgentsName?this.setState({isFirstAgentsNameInvalid:!0}):this.setState({isFirstAgentsNameInvalid:!1}),""===this.state.secondAgentsName?this.setState({isSecondAgentsNameInvalid:!0}):this.setState({isSecondAgentsNameInvalid:!1}),""===this.state.thirdAgentsName?this.setState({isThirdAgentsNameInvalid:!0}):this.setState({isThirdAgentsNameInvalid:!1}),""===this.state.firstRestaurantsName?this.setState({isFirstRestaurantsNameInvalid:!0}):this.setState({isFirstRestaurantsNameInvalid:!1}),""===this.state.secondRestaurantsName?this.setState({isSecondRestaurantsNameInvalid:!0}):this.setState({isSecondRestaurantsNameInvalid:!1}),""===this.state.thirdRestaurantsName?this.setState({isThirdRestaurantsNameInvalid:!0}):this.setState({isThirdRestaurantsNameInvalid:!1}),""!==this.state.firstAgentsName&&""!==this.state.secondAgentsName&&""!==this.state.thirdAgentsName&&""!==this.state.firstRestaurantsName&&""!==this.state.secondRestaurantsName&&""!==this.state.thirdRestaurantsName||(this.setState({isErrorNotificationVisible:!0}),!1)}},{key:"generateDialogues",value:function(){this.checkInputValues()&&this.setState({simulation:new Y([this.state.firstAgentsName,this.state.secondAgentsName,this.state.thirdAgentsName],[this.state.firstRestaurantsName,this.state.secondRestaurantsName,this.state.thirdRestaurantsName],[this.state.firstRestaurantsCuisine,this.state.secondRestaurantsCuisine,this.state.thirdRestaurantsCuisine],this.state.beverage)})}},{key:"resetState",value:function(){this.setState({firstAgentsName:"",secondAgentsName:"",thirdAgentsName:"",isFirstAgentsNameInvalid:!1,isSecondAgentsNameInvalid:!1,isThirdAgentsNameInvalid:!1,firstRestaurantsName:"",secondRestaurantsName:"",thirdRestaurantsName:"",isFirstRestaurantsNameInvalid:!1,isSecondRestaurantsNameInvalid:!1,isThirdRestaurantsNameInvalid:!1,firstRestaurantsCuisine:"Italian",secondRestaurantsCuisine:"Thai",thirdRestaurantsCuisine:"American",beverage:"Wine",isErrorNotificationVisible:!1,simulation:null})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,!this.state.simulation&&r.a.createElement("div",null,r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Customise"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",null,"Use the form below to generate your own custom persuasion and deliberation dialogues. None of the information you provide will be stored for future use by the system."))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Agents' names"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",{className:"description"},"Choose names for the agents that will be participating in the dialogues."))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"text-input"},r.a.createElement(E.a,{id:"firstAgentsName",labelText:"First agent's name",invalid:this.state.isFirstAgentsNameInvalid,invalidText:"Please provide a valid name",onChange:this.onChange})))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"text-input"},r.a.createElement(E.a,{id:"secondAgentsName",labelText:"Second agent's name",invalid:this.state.isSecondAgentsNameInvalid,invalidText:"Please provide a valid name",onChange:this.onChange})))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"text-input"},r.a.createElement(E.a,{id:"thirdAgentsName",labelText:"Third agent's name",invalid:this.state.isThirdAgentsNameInvalid,invalidText:"Please provide a valid name",onChange:this.onChange})))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Restaurants' names"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",{className:"description"},"Choose names for the restaurants around which the dialogues will revolve."))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"text-input"},r.a.createElement(E.a,{id:"firstRestaurantsName",labelText:"First restaurant's name",invalid:this.state.isFirstRestaurantsNameInvalid,invalidText:"Please provide a valid name",onChange:this.onChange})))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"text-input"},r.a.createElement(E.a,{id:"secondRestaurantsName",labelText:"Second restaurant's name",invalid:this.state.isSecondRestaurantsNameInvalid,invalidText:"Please provide a valid name",onChange:this.onChange})))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"text-input"},r.a.createElement(E.a,{id:"thirdRestaurantsName",labelText:"Third restaurant's name",invalid:this.state.isThirdRestaurantsNameInvalid,invalidText:"Please provide a valid name",onChange:this.onChange})))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Restaurants' cuisines"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",{className:"description"},"Pick the cuisines for each restaurant."))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement(N.a,{legendText:"First restaurant's cuisine"},r.a.createElement(S.a,{name:"first-restaurants-cuisine-radio-button-group",valueSelected:"Italian",onChange:function(t){return e.setState({firstRestaurantsCuisine:t})}},r.a.createElement(k.a,{value:"Italian",labelText:"Italian"}),r.a.createElement(k.a,{value:"Greek",labelText:"Greek"}),r.a.createElement(k.a,{value:"Spanish",labelText:"Spanish"}))))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement(N.a,{legendText:"Second restaurant's cuisine"},r.a.createElement(S.a,{name:"second-restaurants-cuisine-radio-button-group",valueSelected:"Thai",onChange:function(t){return e.setState({secondRestaurantsCuisine:t})}},r.a.createElement(k.a,{value:"Thai",labelText:"Thai"}),r.a.createElement(k.a,{value:"Indian",labelText:"Indian"}),r.a.createElement(k.a,{value:"Japanese",labelText:"Japanese"}))))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement(N.a,{legendText:"Third restaurant's cuisine"},r.a.createElement(S.a,{name:"third-restaurants-cuisine-radio-button-group",valueSelected:"American",onChange:function(t){return e.setState({thirdRestaurantsCuisine:t})}},r.a.createElement(k.a,{value:"American",labelText:"American"}),r.a.createElement(k.a,{value:"Bulgarian",labelText:"Bulgarian"}),r.a.createElement(k.a,{value:"Turkish",labelText:"Turkish"}))))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Beverage"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",{className:"description"},"Pick the beverage that will be preferred by the agents."))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement(N.a,{legendText:"Beverage"},r.a.createElement(S.a,{name:"beverage-radio-button-group",valueSelected:"Wine",onChange:function(t){return e.setState({beverage:t})}},r.a.createElement(k.a,{value:"Wine",labelText:"Wine"}),r.a.createElement(k.a,{value:"Champagne",labelText:"Champagne"}),r.a.createElement(k.a,{value:"Cocktails",labelText:"Cocktails"}))))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Generate"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",{className:"description"},"Click the button below to generate your custom dialogues.",this.state.isErrorNotificationVisible&&r.a.createElement(R.a,{hideCloseButton:!0,kind:"error",title:"Invalid names",subtitle:"Some of the names for the agents or restaurants are invalid."})))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement(h.a,{onClick:this.generateDialogues},"Generate")))),this.state.simulation&&r.a.createElement("div",null,r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Remarks"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",null,"Check out your custom dialogues below. You can observe the differences between the two types speech act by speech act, but you can also reveal their full lengths at any point."),r.a.createElement("p",{className:"not-first"},"While inspecting the persuasion dialogue, note how ",this.state.simulation.agentNames[1],"\xa0asserts ",this.state.simulation.restaurantNames[1]," as an acceptable choice at the very start. The agent then tries to prove that it is acceptable for the others as they make objections indicating points on which they wish to be convinced."),r.a.createElement("p",{className:"not-first"},"On the other hand, ",this.state.simulation.agentNames[1]," is not committed to their preferred option in the deliberation dialogue. The agents rather collectively introduce properties that are later either rejected or accepted as part of an agreed rule of what constitutes an acceptable restaurant."))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-5 bx--offset-xl-2 bx--col-xl-4"},r.a.createElement(P,{dialogue:this.state.simulation.persuasionDialogue,dialogueType:"Persuasion"})),r.a.createElement("div",{className:"bx--col-md-5 bx--col-xl-4"},r.a.createElement(P,{dialogue:this.state.simulation.deliberationDialogue,dialogueType:"Deliberation"}))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Reset"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",{className:"description"},"Click the button below to reset the dialogues and start over."))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement(h.a,{kind:"danger",onClick:this.resetState},"Reset")))))}}]),t}(n.Component)),G=a(64),K=(a(46),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(T.a,null,r.a.createElement(A.a,{title:r.a.createElement("div",null,r.a.createElement("strong",null,"Jane"),": I wonder if Thai Palace has property healthy.",r.a.createElement(G.a,{triggerText:"\xa0"},r.a.createElement("p",null,'Jane poses a question seeking information about Thai Palace and indicating that "quality" is a criterion she finds desirable.')))},r.a.createElement(C.a,null,r.a.createElement(x.a,{className:"list-item"},"Jane's commitment store:",r.a.createElement(C.a,{nested:!0,className:"unordered-nested-list"},r.a.createElement(x.a,{className:"nested-list-item"},"healthy(X):-cuisine(X,mediterranean).",r.a.createElement(G.a,{triggerText:"\xa0"},r.a.createElement("p",null,"Jane considers a healthy restaurant to be one that offers mediterranean cuisine."))))),r.a.createElement(x.a,{className:"list-item"},"Harry's commitment store:",r.a.createElement(C.a,{nested:!0,className:"unordered-nested-list"})))),r.a.createElement(A.a,{title:r.a.createElement("div",null,r.a.createElement("strong",null,"Harry"),": Thai Palace has property healthy.",r.a.createElement(G.a,{triggerText:"\xa0"},r.a.createElement("p",null,"Harry asserts the claim as true in order to persuade Jane towards Thai Palace.")))},r.a.createElement(C.a,null,r.a.createElement(x.a,{className:"list-item"},"Jane's commitment store:",r.a.createElement(C.a,{nested:!0,className:"unordered-nested-list"},r.a.createElement(x.a,{className:"nested-list-item"},"healthy(X):-cuisine(X,mediterranean)."))),r.a.createElement(x.a,{className:"list-item"},"Harry's commitment store:",r.a.createElement(C.a,{nested:!0,className:"unordered-nested-list"},r.a.createElement(x.a,{className:"nested-list-item"},"healthy(thaiPalace)."))))),r.a.createElement(A.a,{title:r.a.createElement("div",null,r.a.createElement("strong",null,"Jane"),": Why is it that Thai Palace has property healthy?",r.a.createElement(G.a,{triggerText:"\xa0"},r.a.createElement("p",null,"Jane seeks reasoning for Harry's claim as she cannot derive it on her own.")))},r.a.createElement(C.a,null,r.a.createElement(x.a,{className:"list-item"},"Jane's commitment store:",r.a.createElement(C.a,{nested:!0,className:"unordered-nested-list"},r.a.createElement(x.a,{className:"nested-list-item"},"healthy(X):-cuisine(X,mediterranean)."))),r.a.createElement(x.a,{className:"list-item"},"Harry's commitment store:",r.a.createElement(C.a,{nested:!0,className:"unordered-nested-list"},r.a.createElement(x.a,{className:"nested-list-item"},"healthy(thaiPalace)."))))),r.a.createElement(A.a,{title:r.a.createElement("div",null,r.a.createElement("strong",null,"Harry"),": Thai Palace has property healthy since Thai Palace has property vegetables.",r.a.createElement(G.a,{triggerText:"\xa0"},r.a.createElement("p",null,"Harry offers reasoning for his claim and contributes a new rule for what constitutes a healthy restaurant.")))},r.a.createElement(C.a,null,r.a.createElement(x.a,{className:"list-item"},"Jane's commitment store:",r.a.createElement(C.a,{nested:!0,className:"unordered-nested-list"},r.a.createElement(x.a,{className:"nested-list-item"},"healthy(X):-cuisine(X,mediterranean)."),r.a.createElement(x.a,{className:"nested-list-item"},"healthy(X):-vegetables(X)."),r.a.createElement(x.a,{className:"nested-list-item"},"vegetables(X):-cuisine(X,thai)."),r.a.createElement(x.a,{className:"nested-list-item"},"cuisine(thaiPalace,thai)."))),r.a.createElement(x.a,{className:"list-item"},"Harry's commitment store:",r.a.createElement(C.a,{nested:!0,className:"unordered-nested-list"},r.a.createElement(x.a,{className:"nested-list-item"},"healthy(thaiPalace)."),r.a.createElement(x.a,{className:"nested-list-item"},"healthy(X):-vegetables(X)."),r.a.createElement(x.a,{className:"nested-list-item"},"vegetables(X):-cuisine(X,thai)."),r.a.createElement(x.a,{className:"nested-list-item"},"cuisine(thaiPalace,thai)."))))),r.a.createElement(A.a,{title:r.a.createElement("div",null,r.a.createElement("strong",null,"Jane"),": I accept that Thai Palace has property healthy.",r.a.createElement(G.a,{triggerText:"\xa0"},r.a.createElement("p",null,"Jane concedes to the claim as she now has the knowledge to derive it.")))},r.a.createElement(C.a,null,r.a.createElement(x.a,{className:"list-item"},"Jane's commitment store:",r.a.createElement(C.a,{nested:!0,className:"unordered-nested-list"},r.a.createElement(x.a,{className:"nested-list-item"},"healthy(X):-cuisine(X,mediterranean)."),r.a.createElement(x.a,{className:"nested-list-item"},"healthy(X):-vegetables(X)."),r.a.createElement(x.a,{className:"nested-list-item"},"vegetables(X):-cuisine(X,thai)."),r.a.createElement(x.a,{className:"nested-list-item"},"cuisine(thaiPalace,thai)."),r.a.createElement(x.a,{className:"nested-list-item"},"healthy(thaiPalace)."))),r.a.createElement(x.a,{className:"list-item"},"Harry's commitment store:",r.a.createElement(C.a,{nested:!0,className:"unordered-nested-list"},r.a.createElement(x.a,{className:"nested-list-item"},"healthy(thaiPalace)."),r.a.createElement(x.a,{className:"nested-list-item"},"healthy(X):-vegetables(X)."),r.a.createElement(x.a,{className:"nested-list-item"},"vegetables(X):-cuisine(X,thai)."),r.a.createElement(x.a,{className:"nested-list-item"},"cuisine(thaiPalace,thai)."))))))}}]),t}(n.Component)),V=(a(48),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Welcome"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",null,"Diners' Discourse lets you customise and generate persuasion and deliberation dialogues that are set in a classic restaurant selection scenario. The application also allows you to observe the differences between the two types side-by-side and to peek into the commitment stores of the participating agents at any point."),r.a.createElement("p",{className:"not-first"},'To learn more about the creation of Diners\' Discourse and to gain more insight into dialogue protocols, go to "Background".'),r.a.createElement("p",{className:"not-first"},'To start generating your own dialogues, go to "Generate".'))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("div",{className:"heading"}),r.a.createElement("h2",{className:"heading"},"Demo Dialogue"))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("p",{className:"description"},"Check out a snippet of a persuasion dialogue below. You can see how the commitment stores of the agents evolve as they carry out various speech acts by expanding the accordion components. Hover over the tooltips for further explanations."))),r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement(K,null))))}}]),t}(n.Component)),U=(a(49),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(l.a)(this,Object(m.a)(t).call(this))).state={switchIndex:0},e.onChange=e.onChange.bind(Object(d.a)(Object(d.a)(e))),e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"onChange",value:function(e){this.setState({switchIndex:e.index})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"announcement"},r.a.createElement("p",{className:"announcement"},"Check out the source code of this website."),r.a.createElement(h.a,{small:!0,className:"announcement",kind:"tertiary",onClick:function(){return window.open("https://github.com/yankirchev/diners-discourse","_blank").focus()}},"Go to GitHub")),r.a.createElement("div",{className:"header"},r.a.createElement("div",{className:"bx--grid"},r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement("h1",{className:"header"},"Diners' Discourse"))))),r.a.createElement("div",{className:"bx--grid"},r.a.createElement("div",{className:"bx--row"},r.a.createElement("div",{className:"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8"},r.a.createElement(f.a,{className:"content-switcher",onChange:this.onChange},r.a.createElement(v.a,{name:"home",text:"Home"}),r.a.createElement(v.a,{name:"background",text:"Background"}),r.a.createElement(v.a,{name:"generate",text:"Generate"})))),r.a.createElement("div",{hidden:0!==this.state.switchIndex},r.a.createElement(V,null)),r.a.createElement("div",{hidden:1!==this.state.switchIndex},r.a.createElement(p,null)),r.a.createElement("div",{hidden:2!==this.state.switchIndex},r.a.createElement(F,null))),r.a.createElement("footer",{className:"bx--footer bx--footer--bottom-fixed footer"},r.a.createElement("div",{className:"bx--footer-info"},r.a.createElement("div",{className:"bx--footer-info__item"},r.a.createElement("p",{className:"bx--footer-label"},"Copyright \xa9 Yanko Kirchev 2019"),r.a.createElement(g.a,{href:"mailto:sgykirch@liverpool.ac.uk"},"Contact the author")),r.a.createElement("div",{className:"bx--footer-info__item"},r.a.createElement("p",{className:"bx--footer-label"},"Powered by Carbon Components (React)"),r.a.createElement(g.a,{href:"https://www.carbondesignsystem.com"},"Carbon Design System")),r.a.createElement("div",{className:"bx--footer-info__item"},r.a.createElement("p",{className:"bx--footer-label"},"Powered by Tau Prolog"),r.a.createElement(g.a,{href:"http://tau-prolog.org"},"Tau Prolog")))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(50);i.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[35,1,2]]]);
//# sourceMappingURL=main.c4550a3a.chunk.js.map