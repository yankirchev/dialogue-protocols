{"version":3,"sources":["Background.js","DialogueAccordion.js","protocols/Agent.js","protocols/utils/helper.js","protocols/Dialogue.js","protocols/PersuasionDialogue.js","protocols/DeliberationDialogue.js","protocols/utils/generalKnowledgeBase.js","protocols/Simulation.js","Generate.js","DemoDialogue.js","Home.js","App.js","serviceWorker.js","index.js"],"names":["Background","react_default","a","createElement","className","StructuredList","head","noWrap","UnorderedList","ListItem","Component","DialogueAccordion","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","accordionItems","currentSpeechActIndex","decrementSpeechActIndex","bind","assertThisInitialized","incrementSpeechActIndex","maximiseSpeechActIndex","setState","props","dialogue","commitmentStoreHistory","length","_this2","text","split","map","speechAct","speechActIndex","AccordionItem","key","title","agents","agent","agentIndex","name","nested","commitment","commitmentIndex","dialogueType","agreedPreferenceRuleHistory","Accordion","slice","Button","small","kind","disabled","onClick","Agent","initialPreference","knowledgeBase","commitmentStore","commitmentDependencies","restaurant","preferredRestaurants","prologSession","pl","create","consult","query","answers","x","push","format_answer","includes","camelise","string","replace","match","index","toLowerCase","toUpperCase","decamelise","format","justifications","formattedText","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","entries","Symbol","iterator","next","done","_ref3","value","_ref2","slicedToArray","justification","concat","translate","err","return","term","property","cost","translation","Dialogue","constructor","TypeError","newCommitmentStoresRecord","answer","Error","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","anyAgent","saveCommitmentStores","doesAppear","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","someAgent","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","substring","otherAgent","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","justificationsAsOneString","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","bodyOfRuleOfClaim","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_loop","_iterator9","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","PersuasionDialogue","proponentIndex","proponent","doesPrefer","isPreferableToAnotherAgent","termsToCheck","line","test","i","RegExp","termsToAdd","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_step11","_iterator11","_iteratorNormalCompletion12","_didIteratorError12","_iteratorError12","_step12","_iterator12","_iteratorNormalCompletion15","_didIteratorError15","_iteratorError15","_step15","_iterator15","_iteratorNormalCompletion13","_didIteratorError13","_iteratorError13","_step13","_iterator13","_iteratorNormalCompletion14","_didIteratorError14","_iteratorError14","_step14","_iterator14","_iteratorNormalCompletion16","_didIteratorError16","_iteratorError16","_step16","_iterator16","_iteratorNormalCompletion17","_didIteratorError17","_iteratorError17","_step17","_iterator17","_iteratorNormalCompletion18","_didIteratorError18","_iteratorError18","_step18","_iterator18","_iteratorNormalCompletion19","_didIteratorError19","_iteratorError19","_step19","_iterator19","_iteratorNormalCompletion20","_didIteratorError20","_iteratorError20","_step20","_iterator20","_iteratorNormalCompletion23","_didIteratorError23","_iteratorError23","_step23","_iterator23","_iteratorNormalCompletion21","_didIteratorError21","_iteratorError21","_step21","_iterator21","_iteratorNormalCompletion22","_didIteratorError22","_iteratorError22","_step22","_iterator22","_iteratorNormalCompletion24","_didIteratorError24","_iteratorError24","_step24","_iterator24","_iteratorNormalCompletion25","_didIteratorError25","_iteratorError25","_step25","_iterator25","_iteratorNormalCompletion26","_didIteratorError26","_iteratorError26","_step26","_iterator26","DeliberationDialogue","agreedPreferenceRule","get","prototype","collectiveCommitmentStore","agreedRestaurant","doesAppearGlobally","doesAppearLocally","addTermToAgreedPreferenceRule","uninstatitatedJustifications","_iteratorNormalCompletion27","_didIteratorError27","_iteratorError27","_step27","_iterator27","_iteratorNormalCompletion28","_didIteratorError28","_iteratorError28","_step28","_iterator28","_iteratorNormalCompletion29","_didIteratorError29","_iteratorError29","_step29","_iterator29","generalKnowledgeBase","Simulation","agentNames","restaurantNames","restaurantCuisines","beverage","persuasionDialogue","simulatePersuasionDialogue","deliberationDialogue","simulateDeliberationDialogue","knowledgeBaseOne","knowledgeBaseTwo","knowledgeBaseThree","claim","question","concede","isOver","_ref6","_ref5","since","Generate","firstAgentsName","secondAgentsName","thirdAgentsName","isFirstAgentsNameInvalid","isSecondAgentsNameInvalid","isThirdAgentsNameInvalid","firstRestaurantsName","secondRestaurantsName","thirdRestaurantsName","isFirstRestaurantsNameInvalid","isSecondRestaurantsNameInvalid","isThirdRestaurantsNameInvalid","firstRestaurantsCuisine","secondRestaurantsCuisine","thirdRestaurantsCuisine","isErrorNotificationVisible","simulation","onChange","checkInputValues","generateDialogues","resetState","event","defineProperty","target","id","TextInput","labelText","invalid","invalidText","FormGroup","legendText","RadioButtonGroup","valueSelected","RadioButton","Notification","hideCloseButton","subtitle","src_DialogueAccordion_0","DemoDialogue","Tooltip","triggerText","Home","src_DemoDialogue_0","App","switchIndex","window","open","focus","ContentSwitcher","Switch","hidden","src_Home_0","src_Background_0","src_Generate_0","Link","href","Boolean","location","hostname","ReactDOM","render","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.a14feb2e.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nimport { ListItem, UnorderedList, StructuredListBody, StructuredListCell, StructuredListHead, StructuredListRow, StructuredListWrapper } from 'carbon-components-react';\n\nimport './Background.css';\n\nclass Background extends Component {\n  render() {\n    return (\n      <div>\n        <div className=\"bx--row\">\n          <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n            <div className=\"heading\"></div>\n            <h2 className=\"heading\">Purpose</h2>\n          </div>\n        </div>\n        <div className=\"bx--row\">\n          <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n            <p>\n              Diners' Discourse is a web application developed by Yanko Kirchev in 2019\n              as part of his Honours Year Computer Science Project—<em>Implementing Dialogue Protocols</em>—to\n              earn the degree of B.Sc. (Hons) Computer Science with Year in Industry\n              at the Department of Computer Science at the University of Liverpool.\n            </p>\n            <p className=\"not-first\">\n              The application implements dialogue protocols for multi-agent systems\n              based on the characterisations of persuasion and deliberation dialogues\n              established in (Atkinson et al., 2013),\n              which draws out the essential differences between the two types.\n            </p>\n            <p className=\"not-first\">\n              Diners' Discourse uses the protocols to generate dialogues from the same set\n              of predefined synthetic data (with some degree of customisation by the user),\n              which are parallel to the dialogues set out in (Atkinson et al., 2013),\n              and verifies that the protocols exhibit the expected results when put to practice.\n            </p>\n          </div>\n        </div>\n        <div className=\"bx--row\">\n          <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n            <div className=\"heading\"></div>\n            <h2 className=\"heading\">Implementation</h2>\n          </div>\n        </div>\n        <div className=\"bx--row\">\n          <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n            <p>\n              The application is developed using the Node.js and React.js frameworks.\n              The protocols rely heavily on the Tau Prolog module—a Prolog interpreter written entirely in JavaScript—\n              which brings the needed functionality for knowledge representation to Diners' Discourse.\n            </p>\n            <p className=\"not-first\">\n              On the front-end's side, Carbon Design's React.js components are utilised\n              to enable an efficient construction of the website while delivering a responsive UI.\n            </p>\n          </div>\n        </div>\n        <div className=\"bx--row\">\n          <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n            <div className=\"heading\"></div>\n            <h2 className=\"heading\">Glossary</h2>\n          </div>\n        </div>\n        <div className=\"bx--row\">\n          <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n            <StructuredListWrapper className=\"structured-list\">\n              <StructuredListHead>\n                <StructuredListRow head>\n                  <StructuredListCell head>Term</StructuredListCell>\n                  <StructuredListCell head>Definition</StructuredListCell>\n                </StructuredListRow>\n              </StructuredListHead>\n              <StructuredListBody>\n                <StructuredListRow>\n                  <StructuredListCell noWrap>Agent</StructuredListCell>\n                  <StructuredListCell>\n                    An autonomous computer entity which learns and uses knowledge\n                    to execute independent actions towards achieving goals\n                    (Russel and Norvig, 2003).\n                  </StructuredListCell>\n                </StructuredListRow>\n                <StructuredListRow>\n                  <StructuredListCell>Commitment Store</StructuredListCell>\n                  <StructuredListCell>\n                    A set of statements to which an agent has become committed\n                    in the course of a dialogue (Atkinson et al., 2013).\n                  </StructuredListCell>\n                </StructuredListRow>\n                <StructuredListRow>\n                  <StructuredListCell>Deliberation dialogue</StructuredListCell>\n                  <StructuredListCell>\n                    A dialogue in which deliberation arises from a dilemma\n                    about what option is collectively acceptable\n                    where each party tries to find the best available course of action\n                    for the group as a whole (Walton and Krabbe, 1998).\n                  </StructuredListCell>\n                </StructuredListRow>\n                <StructuredListRow>\n                  <StructuredListCell>Persuasion dialogue</StructuredListCell>\n                  <StructuredListCell>\n                    A dialogue in which persuasion arises from a conflict of opinions\n                    on what the best available choice of action is\n                    where one party tries to persuade the other(s)\n                    towards their preferred option (Walton and Krabbe, 1998).\n                  </StructuredListCell>\n                </StructuredListRow>\n                <StructuredListRow>\n                  <StructuredListCell>Protocol</StructuredListCell>\n                  <StructuredListCell>\n                    Rules by which a dialogue pans out.\n                    These can specify the allowed speech acts at any point,\n                    the effects of utterances on the participants’ commitments,\n                    the outcome of the dialogue, the turn-taking function,\n                    and the termination criteria (Prakken, 2006).\n                  </StructuredListCell>\n                </StructuredListRow>\n                <StructuredListRow>\n                  <StructuredListCell noWrap>Speech acts</StructuredListCell>\n                  <StructuredListCell>\n                    A set of moves which participating agents in a dialogue can make in regards to statements.\n                    They comprise \"claim\", \"why\", \"concede\", \"retract\", \"since\", and \"question\" (Prakken, 2006).\n                  </StructuredListCell>\n                </StructuredListRow>\n              </StructuredListBody>\n            </StructuredListWrapper>\n          </div>\n        </div>\n        <div className=\"bx--row\">\n          <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n            <div className=\"heading\"></div>\n            <h2 className=\"heading\">References</h2>\n          </div>\n        </div>\n        <div className=\"bx--row\">\n          <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n            <UnorderedList>\n              <ListItem className=\"list-item reference\">\n                Atkinson, K., Bench-Capon, T., & Walton, D. (2013).\n                Distinctive features of persuasion and deliberation dialogues.\n                <em> Argument and Computation</em>, 4(2), 105-127.\n              </ListItem>\n              <ListItem className=\"list-item reference\">\n                Prakken, H. (2006). Formal Systems for Persuasion Dialogue.\n                <em> The Knowledge Engineering Review</em>, 21(2), 163–188.\n               </ListItem>\n              <ListItem className=\"list-item reference\">\n                Russell S., & Norvig, P. (2003). <em>Artificial Intelligence: A Modern Approach</em> (2nd ed.).\n                Upper Saddle River, New Jersey: Prentice Hall.\n              </ListItem>\n              <ListItem className=\"list-item reference\">\n                Walton, D., & Krabbe, E. (1995). <em>Commitment in Dialogue: Basic Concepts of Interpersonal Reasoning</em>.\n                Albany, New York: State University of New York Press.\n              </ListItem>\n            </UnorderedList>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Background;\n","import React, { Component } from \"react\";\nimport { Accordion, AccordionItem, Button, ListItem, UnorderedList } from 'carbon-components-react';\n\nimport './DialogueAccordion.css';\n\nclass DialogueAccordion extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      accordionItems: null,\n      currentSpeechActIndex: 1\n    };\n\n    this.decrementSpeechActIndex = this.decrementSpeechActIndex.bind(this);\n    this.incrementSpeechActIndex = this.incrementSpeechActIndex.bind(this);\n    this.maximiseSpeechActIndex = this.maximiseSpeechActIndex.bind(this);\n  }\n\n  decrementSpeechActIndex() {\n    this.setState({\n      currentSpeechActIndex: this.state.currentSpeechActIndex - 1\n    });\n  }\n\n  incrementSpeechActIndex() {\n    this.setState({\n      currentSpeechActIndex: this.state.currentSpeechActIndex + 1\n    });\n  }\n\n  maximiseSpeechActIndex() {\n    this.setState({\n      currentSpeechActIndex: this.props.dialogue.commitmentStoreHistory.length\n    });\n  }\n\n  componentDidMount() {\n    this.setState({\n      accordionItems: this.props.dialogue.text.split('\\n').map((speechAct, speechActIndex) => speechAct !== '' && (\n        <AccordionItem key={speechActIndex} title={<div><strong>{speechAct.split(':')[0]}</strong>:{speechAct.split(':')[1]}</div>}>\n          <UnorderedList>\n            {this.props.dialogue.agents.map((agent, agentIndex) =>\n              <ListItem className=\"list-item\" key={agentIndex}>\n                {agent.name}'s commitment store:\n                <UnorderedList nested className=\"unordered-nested-list\">\n                  {this.props.dialogue.commitmentStoreHistory[speechActIndex][agentIndex].split('\\n').map((commitment, commitmentIndex) => commitment !== '' &&\n                    <ListItem className=\"nested-list-item\" key={commitmentIndex}>\n                      {commitment}\n                    </ListItem>\n                  )}\n                </UnorderedList>\n              </ListItem>\n            )}\n            {this.props.dialogueType === 'Deliberation' && (\n              <ListItem className=\"list-item\">\n                Agreed preference rule:\n                <UnorderedList nested className=\"unordered-nested-list\">\n                  <ListItem className=\"nested-list-item\">\n                    {this.props.dialogue.agreedPreferenceRuleHistory[speechActIndex]}\n                  </ListItem>\n                </UnorderedList>\n              </ListItem>\n            )}\n          </UnorderedList>\n        </AccordionItem>\n      ))\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"heading\"></div>\n        <h2 className=\"heading\">{this.props.dialogueType} Dialogue</h2>\n        <Accordion className=\"dialogue-accordion\">\n          {this.state.accordionItems && this.state.accordionItems.slice(0, this.state.currentSpeechActIndex)}\n        </Accordion>\n        <div className=\"buttons-wrapper\">\n          <Button small kind='secondary' disabled={this.state.currentSpeechActIndex === 1} onClick={this.decrementSpeechActIndex}>\n            Previous\n          </Button>\n          <Button small kind='primary' disabled={this.state.currentSpeechActIndex === this.props.dialogue.commitmentStoreHistory.length} onClick={this.incrementSpeechActIndex}>\n            Next\n          </Button>\n          <Button small className=\"tertiary\" kind='tertiary' disabled={this.state.currentSpeechActIndex === this.props.dialogue.commitmentStoreHistory.length} onClick={this.maximiseSpeechActIndex}>\n            Reveal all\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default DialogueAccordion;\n","import pl from 'tau-prolog';\n\nclass Agent {\n  constructor(name, initialPreference, knowledgeBase) {\n    this.name = name;\n    this.initialPreference = initialPreference;\n    this.knowledgeBase = knowledgeBase;\n    this.commitmentStore = '';\n    this.commitmentDependencies = '';\n  }\n\n  doesPrefer(restaurant) {\n    const preferredRestaurants = [this.initialPreference];\n\n    const prologSession = pl.create();\n    prologSession.consult(this.knowledgeBase + this.commitmentStore);\n    prologSession.query('acceptableRestaurant(X).');\n    prologSession.answers(x => {\n      preferredRestaurants.push(pl.format_answer(x).split(\" \")[2]);\n    });\n\n    return preferredRestaurants.includes(restaurant);\n  }\n}\n\nexport default Agent;\n","function camelise(string) {\n  return string.replace(/[']/g, '').replace(/(?:^\\w|[A-Z]|\\b\\w|\\s+)/g, (match, index) => {\n    if (+match === 0) {\n      return '';\n    }\n\n    return index === 0 ? match.toLowerCase() : match.toUpperCase();\n  });\n}\n\nfunction decamelise(string) {\n  return string\n    .replace(/([a-z\\d])([A-Z])/g, '$1 $2')\n    .replace(/([A-Z]+)([A-Z][a-z\\d]+)/g, '$1 $2')\n    .toLowerCase();\n}\n\nfunction format(justifications) {\n  let formattedText = '';\n\n  for (const [index, justification] of justifications.entries()) {\n    if (justifications.length === 1) {\n      formattedText += `${translate(justification)}`;\n    } else if (index === justifications.length - 1) {\n      formattedText += `${translate(justification)}`;\n    } else if (index !== justifications.length - 2) {\n      formattedText += `${translate(justification)}, `;\n    } else if (justifications.length >= 3 && index === justifications.length - 2) {\n      formattedText += `${translate(justification)}, and `;\n    } else if (justifications.length < 3 && index === justifications.length - 2) {\n      formattedText += `${translate(justification)} and `;\n    }\n  }\n\n  return formattedText;\n}\n\nfunction translate(term) {\n  const restaurant = term.match(/([A-Za-z0-9_])+/g)[1];\n  const property = term.match(/([A-Za-z0-9])+/g)[0];\n  const value = term.match(/([A-Za-z0-9_])+/g)[2];\n  const cost = term.match(/([A-Za-z0-9_])+/g)[3];\n\n  let translation = '';\n\n  if (restaurant !== '_') {\n    if (term.includes('\\\\+(')) {\n      translation = `${decamelise(restaurant)} lacks property ${decamelise(property)}`;\n    } else {\n      translation = `${decamelise(restaurant)} has property ${decamelise(property)}`;\n    }\n  } else {\n    translation = `property ${decamelise(property)}`;\n  }\n\n  if (value && value !== '_') {\n    translation += ` of value ${decamelise(value)}`;\n\n    if (cost && cost !== '_') {\n      translation += ` and cost ${decamelise(cost)}`;\n    }\n  } else if (cost && cost !== '_') {\n    translation += ` of cost ${decamelise(cost)}`;\n  }\n\n  return translation;\n}\n\nexport {\n  camelise,\n  decamelise,\n  format,\n  translate\n};\n","import pl from 'tau-prolog';\n\nimport { format, translate } from './utils/helper';\n\nclass Dialogue {\n  constructor(agents) {\n    if (new.target === Dialogue) {\n      throw new TypeError('Cannot construct Dialogue instances directly!');\n    }\n\n    this.agents = agents;\n    this.text = `${agents[0].name}: Where shall we eat?\\n`;\n    this.commitmentStoreHistory = [['', '', '']];\n  }\n\n  saveCommitmentStores() {\n    const newCommitmentStoresRecord = [];\n\n    for (const agent of this.agents) {\n      newCommitmentStoresRecord.push(agent.commitmentStore);\n    }\n\n    this.commitmentStoreHistory.push(newCommitmentStoresRecord);\n  }\n\n  // Claim(ag_i, l)\n  claim(agent, term) {\n    /*  PRE-CONDITIONS */\n\n    // demo(∏_ag_i ∪ Com_ag_i, l)\n    const prologSession = pl.create();\n    prologSession.consult(agent.knowledgeBase + agent.commitmentStore);\n    prologSession.query(term);\n    prologSession.answer(x => {\n      if (pl.format_answer(x) !== 'true ;') {\n        throw new Error(`Pre-conditions of ${agent.name} claiming \"${translate(term)}\" are not satisfied because ` +\n          `the agent cannot demonstrate the claim through their knowledge base and commitment store!`);\n      }\n    });\n\n    // ¬l ∈ Com_ag_j for any ag_j ∈ Ag\n    for (const anyAgent of this.agents) {\n      if (anyAgent.commitmentStore.includes(term)) {\n        throw new Error(`Pre-conditions of ${agent.name} claiming \"${translate(term)}\" are not satisfied because ` +\n          `${anyAgent.name}'s commitment store contains the claim!`);\n      }\n    }\n\n    /* POST-CONDITIONS */\n\n    // Com_ag_i ⇒ Com_ag_i ∪ l\n    agent.commitmentStore += `${term}\\n`;\n\n    /* UPDATE DIALOGUE TEXT AND UPDATE COMMITMENT STORE HISTORY */\n\n    this.text += `${agent.name}: ${translate(term)}.\\n`;\n    this.saveCommitmentStores();\n  }\n\n  // Why(ag_i, l)\n  why(agent, term) {\n    /*  PRE-CONDITIONS */\n\n    // not demo(∏_ag_i ∪ Com_ag_i, l)\n    const prologSession = pl.create();\n    prologSession.consult(agent.knowledgeBase + agent.commitmentStore);\n    prologSession.query(term);\n    prologSession.answer(x => {\n      if (pl.format_answer(x) === 'true ;') {\n        throw new Error(`Pre-conditions of ${agent.name} asking why \"${translate(term)}\" are not satisfied because ` +\n          `the agent can demonstrate the claim through their knowledge base and commitment store!`);\n      }\n    });\n\n    // for some agent ag_j ≠ ag_i, l ∈ Com_ag_j\n    let doesAppear = false;\n\n    for (const someAgent of this.agents) {\n      if (someAgent !== agent && someAgent.commitmentStore.includes(term)) {\n        doesAppear = true;\n      }\n    }\n\n    if (doesAppear === false) {\n      throw new Error(`Pre-conditions of ${agent.name} asking why \"${translate(term)}\" are not satisfied because ` +\n        `no other agent's commitment store contains the claim!`);\n    }\n\n    /* UPDATE DIALOGUE TEXT AND UPDATE COMMITMENT STORE HISTORY */\n\n    this.text += `${agent.name}: Why is it that ${translate(term)}?\\n`;\n    this.saveCommitmentStores();\n  }\n\n  // Concede(ag_i, l)\n  concede(agent, term) {\n    /* PRE-CONDITIONS */\n\n    // for some agent ag_j ≠ ag_i, l ∈ Com_ag_j\n    let doesAppear = false;\n\n    for (const someAgent of this.agents) {\n      if (someAgent !== agent && someAgent.commitmentStore.includes(term)) {\n        doesAppear = true;\n      }\n    }\n\n    if (doesAppear === false) {\n      throw new Error(`Pre-conditions of ${agent.name} conceding to \"${translate(term)}\" are not satisfied because ` +\n        `no other agent's commitment store contains the claim!`);\n    }\n\n    // not(¬l ∈ Com_ag_i)\n    if ((term.includes('\\\\+(') && (agent.commitmentStore.includes(`${term.substring(3, term.length - 2)}.`)))\n      || (!term.includes('\\\\+(') && agent.commitmentStore.includes(`\\\\+(${term.substring(0, term.length - 1)}).`))) {\n      throw new Error(`Pre-conditions of ${agent.name} conceding to \"${translate(term)}\" are not satisfied because ` +\n        `the agent's commitment store contains the negation of the claim!`);\n    }\n\n    /* POST-CONDITIONS */\n\n    // Com_ag_i ⇒ Com_ag_i ∪ l\n    if (!agent.commitmentStore.includes(term)) {\n      agent.commitmentStore += `${term}\\n`;\n    }\n\n    /* UPDATE DIALOGUE TEXT AND UPDATE COMMITMENT STORE HISTORY */\n\n    this.text += `${agent.name}: I accept that ${translate(term)}.\\n`;\n    this.saveCommitmentStores();\n  }\n\n  // Retract(ag_i, l)\n  retract(agent, term) {\n    /* PRE-CONDITIONS */\n\n    // not demo(∏_ag_i ∪ Com_ag_i \\ l, l)\n    const prologSession = pl.create();\n    prologSession.consult(agent.knowledgeBase + agent.commitmentStore.replace(term, ''));\n    prologSession.query(term);\n    prologSession.answer(x => {\n      if (pl.format_answer(x) === 'true ;') {\n        throw new Error(`Pre-conditions of ${agent.name} retracting \"${translate(term)}\" are not satisfied because ` +\n          `the agent can demonstrate the claim through their knowledge base and remaining commitment store!`);\n      }\n    });\n\n    // l ∈ Com_ag_i\n    if (!agent.commitmentStore.includes(term)) {\n      throw new Error(`Pre-conditions of ${agent.name} retracting \"${translate(term)}\" are not satisfied because ` +\n        `the agent's commitment store does not contain the claim!`);\n    }\n\n    /* POST-CONDITIONS */\n\n    // Com_ag_i ⇒ Com_ag_i \\ l\n    agent.commitmentStore = agent.commitmentStore.replace(`${term}\\n`, '');\n\n    /* UPDATE DIALOGUE TEXT AND UPDATE COMMITMENT STORE HISTORY */\n\n    this.text += `${agent.name}: I take back that ${translate(term)}.\\n`;\n    this.saveCommitmentStores();\n  }\n\n  // Since(ag_i, l, ∏)\n  since(agent, otherAgent, term, justifications) {\n    /* PRE-CONDITIONS */\n\n    // l ∈ Com_ag_i\n    if (!agent.commitmentStore.includes(term)) {\n      throw new Error(`Pre-conditions of ${agent.name} offering reasoning for \"${translate(term)}\" are not satisfied because ` +\n        `the agent's commitment store does not contain the claim!`);\n    }\n\n    // demo(∏ ∪ Com_ag_j, l) for some ∏ ⊆ ∏_ag_i\n    for (const justification of justifications) {\n      if (!agent.knowledgeBase.includes(justification)) {\n        throw new Error(`Pre-conditions of ${agent.name} offering reasoning for \"${translate(term)}\" are not satisfied because ` +\n          `the agent's knowledge base does not contain all justifications!`);\n      }\n    }\n\n    let justificationsAsOneString = '';\n\n    for (const justification of justifications) {\n      justificationsAsOneString += `${justification}\\n`;\n    }\n\n    const prologSession = pl.create();\n    prologSession.consult(justificationsAsOneString + otherAgent.commitmentStore + otherAgent.commitmentDependencies);\n    prologSession.query(term);\n    prologSession.answer(x => {\n      if (pl.format_answer(x) !== 'true ;') {\n        throw new Error(`Pre-conditions of ${agent.name} offering reasoning for \"${translate(term)}\" are not satisfied because ` +\n          `${otherAgent.name} cannot demonstrate the claim through the justifications and their commitment store!`);\n      }\n    });\n\n    /* POST-CONDITIONS */\n\n    // Com_ag_i ⇒ Com_ag_i ∪ ∏\n    for (const justification of justifications) {\n      if (!agent.commitmentStore.includes(justification)) {\n        agent.commitmentStore += `${justification}\\n`;\n      }\n    }\n\n    // Com_ag_j ⇒ Com_ag_j ∪ ∏\n    for (const justification of justifications) {\n      if (!otherAgent.commitmentStore.includes(justification)) {\n        otherAgent.commitmentStore += `${justification}\\n`;\n      }\n    }\n\n    /* UPDATE DIALOGUE TEXT AND UPDATE COMMITMENT STORE HISTORY */\n\n    let bodyOfRuleOfClaim = justifications[0].split('-')[1].split(', ')[0].replace(/X/g, term.match(/([A-Za-z0-9])+/g)[1]);\n\n    for (const match of bodyOfRuleOfClaim.match(/([A-Za-z0-9])+/g)) {\n      if (match[0] !== match[0].toLowerCase()) {\n        const prologSession = pl.create();\n        prologSession.consult(justificationsAsOneString + otherAgent.commitmentStore + otherAgent.commitmentDependencies);\n\n        if (bodyOfRuleOfClaim[bodyOfRuleOfClaim.length - 1] !== '.' && bodyOfRuleOfClaim[bodyOfRuleOfClaim.length - 2] !== '.') {\n          bodyOfRuleOfClaim = bodyOfRuleOfClaim + '.'\n        }\n\n        prologSession.query(bodyOfRuleOfClaim);\n        prologSession.answer(x => bodyOfRuleOfClaim = bodyOfRuleOfClaim.replace(match, pl.format_answer(x).split(\" \")[2].replace(/,|\\./g, ''))); // eslint-disable-line no-loop-func\n      }\n    }\n\n    this.text += `${agent.name}: ${translate(term)} since ${format(bodyOfRuleOfClaim.split('),'))}.\\n`;\n    this.saveCommitmentStores();\n  }\n\n  // Question(ag_i, l)\n  question(agent, term) {\n    /* PRE-CONDITIONS */\n\n    // ∀(ag_j) ∈ Ag, l ∉ Com_ag_j\n    for (const anyAgent of this.agents) {\n      if (anyAgent.commitmentStore.includes(term)) {\n        throw new Error(`Pre-conditions of ${agent.name} questioning if \"${translate(term)}\" are not satisfied because ` +\n          `${anyAgent.name}'s commitment store contains the claim!`);\n      }\n    }\n\n    // not demo(∏_ag_i ∪ Com_ag_i, l)\n    const prologSession = pl.create();\n    prologSession.consult(agent.knowledgeBase + agent.commitmentStore);\n    prologSession.query(term);\n    prologSession.answer(x => {\n      if (pl.format_answer(x) === 'true ;') {\n        throw new Error(`Pre-conditions of ${agent.name} questioning if \"${translate(term)}\" are not satisfied because ` +\n          `the agent can demonstrate the claim through their knowledge base and commitment store!`);\n      }\n    });\n\n    /* UPDATE DIALOGUE TEXT AND UPDATE COMMITMENT STORE HISTORY */\n\n    this.text += `${agent.name}: I wonder if ${translate(term)}.\\n`;\n    this.saveCommitmentStores();\n  }\n}\n\nexport default Dialogue;\n","import pl from 'tau-prolog';\n\nimport Dialogue from './Dialogue';\n\nimport { translate } from './utils/helper';\n\nclass PersuasionDialogue extends Dialogue {\n  constructor(agents, proponentIndex) {\n    super(agents);\n\n    this.proponent = agents[proponentIndex];\n  }\n\n  isOver() {\n    for (const agent of this.agents) {\n      if (!agent.commitmentStore.includes(`acceptableRestaurant(${this.proponent.initialPreference}).`)) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  // (Counter)Claim(ag_i, l) | (Counter)Claim(O, p(a))\n  claim(agent, term) {\n    const restaurant = term.match(/([A-Za-z0-9])+/g)[1];\n    const property = term.match(/([A-Za-z0-9])+/g)[0];\n\n    /* GENERAL PRE-CONDITIONS */\n\n    // demo(∏_ag_i ∪ Com_ag_i, l)\n    const prologSession = pl.create();\n    prologSession.consult(agent.knowledgeBase + agent.commitmentStore);\n    prologSession.query(term);\n    prologSession.answer(x => {\n      if (pl.format_answer(x) !== 'true ;') {\n        throw new Error(`Pre-conditions of ${agent.name} claiming \"${translate(term)}\" are not satisfied because ` +\n          `the agent cannot demonstrate the claim through their knowledge base and commitment store!`);\n      }\n    });\n\n    // ¬l ∈ Com_ag_j for any ag_j ∈ Ag\n    for (const anyAgent of this.agents) {\n      if (anyAgent.commitmentStore.includes(term)) {\n        throw new Error(`Pre-conditions of ${agent.name} claiming \"${translate(term)}\" are not satisfied because ` +\n          `${anyAgent.name}'s commitment store contains the claim!`);\n      }\n    }\n\n    /*  TYPE-SPECIFIC PRE-CONDITIONS */\n\n    if (agent !== this.proponent) {\n      if (!agent.doesPrefer(restaurant)) {\n        // for some agent ag_j ≠ ag_i, preferable(ag_j, a)\n        let isPreferableToAnotherAgent = false;\n\n        for (const otherAgent of this.agents) {\n          if (otherAgent !== agent && otherAgent.doesPrefer(restaurant)) {\n            isPreferableToAnotherAgent = true;\n          }\n        }\n\n        if (!isPreferableToAnotherAgent) {\n          throw new Error(`Pre-conditions of ${agent.name} claiming \"${translate(term)}\" are not satisfied because ` +\n            `the restaurant is not preferable to any other agent!`);\n        }\n      }\n\n      // p(X) ∈ B, where B is the set of terms in the body of the preference rule of O\n      let termsToCheck = [];\n\n      for (const line of agent.knowledgeBase.split('\\n')) {\n        if (/^acceptableRestaurant\\(X/.test(line)) {\n          for (const match of line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g)) {\n            if (!termsToCheck.includes(match)) {\n              termsToCheck.push(match);\n            }\n          }\n        }\n      }\n\n      for (let i = 0; i < termsToCheck.length; i++) {\n        for (const line of agent.knowledgeBase.split('\\n')) {\n          if (new RegExp('^' + termsToCheck[i] + '\\\\(X').test(line)) {\n            for (const match of line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g)) {\n              if (!termsToCheck.includes(match)) {\n                termsToCheck.push(match);\n              }\n            }\n          }\n        }\n      }\n\n      if (!termsToCheck.includes(property)) {\n        throw new Error(`Pre-conditions of ${agent.name} claiming \"${translate(term)}\" are not satisfied because ` +\n          `the claim does not correspond to a feature in the body of the agent's preference rule!`);\n      }\n    }\n\n    /* GENERAL POST-CONDITIONS */\n\n    // Com_ag_i ⇒ Com_ag_i ∪ l\n    agent.commitmentStore += `${term}\\n`;\n\n    /* TYPE-SPECIFIC POST-CONDITIONS */\n\n    if (agent !== this.proponent) {\n      if (agent.doesPrefer(restaurant)) {\n        // Com_O ⇒ Com_O ∪ acceptableRestaurant(a) iff demo(∏_O ∪ Com_O, acceptableRestaurant(a))\n        prologSession.query(`acceptableRestaurant(${restaurant}).`);\n        prologSession.answer(x => {\n          if (pl.format_answer(x) === 'true ;' && !agent.commitmentStore.includes(`acceptableRestaurant(${restaurant}).`)) {\n            agent.commitmentStore += `acceptableRestaurant(${restaurant}).\\n`;\n          }\n        });\n      }\n\n      // Com_O ⇒ Com_O ∪ (p(X) ∈ B), where B is the set of terms in the body of the preference rule of O\n      let termsToAdd = [];\n\n      for (const line of (agent.knowledgeBase + agent.commitmentStore).split('\\n')) {\n        if (new RegExp('^' + property + '\\\\(X(?=\\\\)|,[A-Z]|,' + term.match(/([A-Za-z0-9_])+/g)[2] + ')').test(line)) {\n          if (!agent.commitmentStore.includes(line)) {\n            agent.commitmentStore += `${line}\\n`;\n          }\n\n          termsToAdd = termsToAdd.concat(line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g));\n        }\n      }\n\n      for (let i = 0; i < termsToAdd.length; i++) {\n        for (const line of agent.knowledgeBase.split('\\n')) {\n          if (new RegExp('^' + termsToAdd[i] + '\\\\(').test(line)) {\n            if (line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g)) {\n              for (const match of line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g)) {\n                if (!termsToAdd.includes(match)) {\n                  termsToAdd.push(match);\n                }\n              }\n            }\n\n            if (!agent.commitmentStore.includes(line) && !agent.commitmentDependencies.includes(line)) {\n              agent.commitmentDependencies += `${line}\\n`;\n            }\n          }\n        }\n      }\n    }\n\n    /* UPDATE DIALOGUE TEXT AND UPDATE COMMITMENT STORE HISTORY */\n\n    if (agent.doesPrefer(restaurant)) {\n      this.text += `${agent.name}: ${translate(term)}.\\n`;\n    } else {\n      this.text += `${agent.name}: But ${translate(term)}.\\n`;\n    }\n\n    this.saveCommitmentStores();\n  }\n\n  // Concede(ag_i, l) | Concede(O, p(a))\n  concede(agent, term) {\n    const property = term.match(/([A-Za-z0-9])+/g)[0];\n\n    /* GENERAL PRE-CONDITIONS */\n\n    // for some agent ag_j ≠ ag_i, l ∈ Com_ag_j\n    let doesAppear = false;\n\n    for (const someAgent of this.agents) {\n      if (someAgent !== agent && someAgent.commitmentStore.includes(term)) {\n        doesAppear = true;\n      }\n    }\n\n    if (doesAppear === false) {\n      throw new Error(`Pre-conditions of ${agent.name} conceding to \"${translate(term)}\" are not satisfied because ` +\n        `no other agent's commitment store contains the claim!`);\n    }\n\n    // not(¬l ∈ Com_ag_i)\n    if ((term.includes('\\\\+(') && (agent.commitmentStore.includes(`${term.substring(3, term.length - 2)}.`)))\n      || (!term.includes('\\\\+(') && agent.commitmentStore.includes(`\\\\+(${term.substring(0, term.length - 1)}).`))) {\n      throw new Error(`Pre-conditions of ${agent.name} conceding to \"${translate(term)}\" are not satisfied because ` +\n        `the agent's commitment store contains the negation of the claim!`);\n    }\n\n    /* TYPE-SPECIFIC PRE-CONDITIONS */\n\n    if (agent !== this.proponent) {\n      // p(X) ∈ B, where B is the set of terms in the body of the preference rule of O\n      let termsToCheck = ['acceptableRestaurant'];\n\n      for (const line of agent.knowledgeBase.split('\\n')) {\n        if (/^acceptableRestaurant\\(X/.test(line)) {\n          for (const match of line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g)) {\n            if (!termsToCheck.includes(match)) {\n              termsToCheck.push(match);\n            }\n          }\n        }\n      }\n\n      for (let i = 0; i < termsToCheck.length; i++) {\n        for (const line of agent.knowledgeBase.split('\\n')) {\n          if (new RegExp('^' + termsToCheck[i] + '\\\\(X').test(line)) {\n            for (const match of line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g)) {\n              if (!termsToCheck.includes(match)) {\n                termsToCheck.push(match);\n              }\n            }\n          }\n        }\n      }\n\n      if (!termsToCheck.includes(property)) {\n        throw new Error(`Pre-conditions of ${agent.name} conceding to \"${translate(term)}\" are not satisfied because ` +\n          `the claim does not correspond to a feature in the body of the agent's preference rule!`);\n      }\n    }\n\n    /* GENERAL POST-CONDITIONS */\n\n    // Com_ag_i ⇒ Com_ag_i ∪ l\n    if (!agent.commitmentStore.includes(term)) {\n      agent.commitmentStore += `${term}\\n`;\n    }\n\n    /* TYPE-SPECIFIC POST-CONDITIONS */\n\n    if (agent !== this.proponent) {\n      // Com_O ⇒ Com_O ∪ (p(X) ∈ B), where B is the set of terms in the body of the preference rule of O\n      let termsToAdd = [];\n\n      for (const line of (agent.knowledgeBase + agent.commitmentStore).split('\\n')) {\n        if (new RegExp('^' + property + '\\\\(X(?=\\\\)|,[A-Z]|,' + term.match(/([A-Za-z0-9_])+/g)[2] + ')').test(line)) {\n          if (!agent.commitmentStore.includes(line)) {\n            agent.commitmentStore += `${line}\\n`;\n          }\n\n          termsToAdd = termsToAdd.concat(line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g));\n        }\n      }\n\n      for (let i = 0; i < termsToAdd.length; i++) {\n        for (const line of agent.knowledgeBase.split('\\n')) {\n          if (new RegExp('^' + termsToAdd[i] + '\\\\(').test(line)) {\n            if (line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g)) {\n              for (const match of line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g)) {\n                if (!termsToAdd.includes(match)) {\n                  termsToAdd.push(match);\n                }\n              }\n            }\n\n            if (!agent.commitmentStore.includes(line) && !agent.commitmentDependencies.includes(line)) {\n              agent.commitmentDependencies += `${line}\\n`;\n            }\n          }\n        }\n      }\n    }\n\n    /* UPDATE DIALOGUE TEXT AND UPDATE COMMITMENT STORE HISTORY */\n\n    this.text += `${agent.name}: I accept that ${translate(term)}.\\n`;\n    this.saveCommitmentStores();\n  }\n\n  // Question(ag_i, l) | Question(O,p(a))\n  question(agent, term) {\n    const property = term.match(/([A-Za-z0-9])+/g)[0];\n\n    /* GENERAL PRE-CONDITIONS */\n\n    // ∀(ag_j) ∈ Ag, l ∉ Com_ag_j\n    for (const anyAgent of this.agents) {\n      if (anyAgent.commitmentStore.includes(term)) {\n        throw new Error(`Pre-conditions of ${agent.name} questioning if \"${translate(term)}\" are not satisfied because ` +\n          `${anyAgent.name}'s commitment store contains the claim!`);\n      }\n    }\n\n    // not demo(∏_ag_i ∪ Com_ag_i, l)\n    const prologSession = pl.create();\n    prologSession.consult(agent.knowledgeBase + agent.commitmentStore);\n    prologSession.query(term);\n    prologSession.answer(x => {\n      if (pl.format_answer(x) === 'true ;') {\n        throw new Error(`Pre-conditions of ${agent.name} questioning if \"${translate(term)}\" are not satisfied because ` +\n          `the agent can demonstrate the claim through their knowledge base and commitment store!`);\n      }\n    });\n\n    /* TYPE-SPECIFIC PRE-CONDITIONS */\n\n    if (agent !== this.proponent) {\n      // p(X) ∈ B, where B is the set of terms in the body of the preference rule of O\n      let termsToCheck = [];\n\n      for (const line of agent.knowledgeBase.split('\\n')) {\n        if (/^acceptableRestaurant\\(X/.test(line)) {\n          for (const match of line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g)) {\n            if (!termsToCheck.includes(match)) {\n              termsToCheck.push(match);\n            }\n          }\n        }\n      }\n\n      for (let i = 0; i < termsToCheck.length; i++) {\n        for (const line of agent.knowledgeBase.split('\\n')) {\n          if (new RegExp('^' + termsToCheck[i] + '\\\\(X').test(line)) {\n            for (const match of line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g)) {\n              if (!termsToCheck.includes(match)) {\n                termsToCheck.push(match);\n              }\n            }\n          }\n        }\n      }\n\n      if (!termsToCheck.includes(property)) {\n        throw new Error(`Pre-conditions of ${agent.name} questioning if \"${translate(term)}\" are not satisfied because ` +\n          `the claim does not correspond to a feature in the body of the agent's preference rule!`);\n      }\n    }\n\n    /* TYPE-SPECIFIC POST-CONDITIONS */\n\n    if (agent !== this.proponent) {\n      // Com_O ⇒ Com_O ∪ (p(X) ∈ B), where B is the set of terms in the body of the preference rule of O\n      let termsToAdd = [];\n\n      for (const line of (agent.knowledgeBase + agent.commitmentStore).split('\\n')) {\n        if (new RegExp('^' + property + '\\\\(X(?=\\\\)|,[A-Z]|,' + term.match(/([A-Za-z0-9_])+/g)[2] + ')').test(line)) {\n          if (!agent.commitmentStore.includes(line)) {\n            agent.commitmentStore += `${line}\\n`;\n          }\n\n          termsToAdd = termsToAdd.concat(line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g));\n        }\n      }\n\n      for (let i = 0; i < termsToAdd.length; i++) {\n        for (const line of agent.knowledgeBase.split('\\n')) {\n          if (new RegExp('^' + termsToAdd[i] + '\\\\(').test(line)) {\n            if (line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g)) {\n              for (const match of line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g)) {\n                if (!termsToAdd.includes(match)) {\n                  termsToAdd.push(match);\n                }\n              }\n            }\n\n            if (!agent.commitmentStore.includes(line) && !agent.commitmentDependencies.includes(line)) {\n              agent.commitmentDependencies += `${line}\\n`;\n            }\n          }\n        }\n      }\n    }\n\n    /* UPDATE DIALOGUE TEXT AND UPDATE COMMITMENT STORE HISTORY */\n\n    this.text += `${agent.name}: I wonder if ${translate(term)}.\\n`;\n    this.saveCommitmentStores();\n  }\n}\n\nexport default PersuasionDialogue;\n","import pl from 'tau-prolog';\n\nimport Dialogue from './Dialogue';\n\nimport { decamelise, format, translate } from './utils/helper';\n\nclass DeliberationDialogue extends Dialogue {\n  constructor(agents) {\n    super(agents);\n\n    this.agreedPreferenceRule = 'acceptableRestaurant(X):-';\n    this.agreedPreferenceRuleHistory = [this.agreedPreferenceRule];\n  }\n\n  saveCommitmentStores() {\n    super.saveCommitmentStores();\n\n    this.agreedPreferenceRuleHistory.push(this.agreedPreferenceRule);\n  }\n\n  isOver() {\n    let collectiveCommitmentStore = '';\n\n    for (const agent of this.agents) {\n      for (const line of agent.commitmentStore.split('\\n')) {\n        if (!/^acceptableRestaurant\\(/.test(line)) {\n          collectiveCommitmentStore += `${line}\\n`;\n        }\n      }\n    }\n\n    collectiveCommitmentStore += this.agreedPreferenceRule;\n\n    let agreedRestaurant = '';\n\n    const prologSession = pl.create();\n    prologSession.consult(collectiveCommitmentStore);\n    prologSession.query('acceptableRestaurant(X).');\n    prologSession.answer(x => {\n      agreedRestaurant = pl.format_answer(x).split(\" \")[2];\n    });\n\n    for (const agent of this.agents) {\n      if (!agent.commitmentStore.includes(`acceptableRestaurant(${agreedRestaurant})`))\n        return false;\n    }\n\n    return true;\n  }\n\n  addTermToAgreedPreferenceRule(term) {\n    const restaurant = term.match(/([A-Za-z0-9_])+/g)[1];\n\n    if (!this.agreedPreferenceRule.includes(term.substring(0, term.length - 1).replace(restaurant, 'X'))) {\n      if (this.agreedPreferenceRule[this.agreedPreferenceRule.length - 1] === '-') {\n        this.agreedPreferenceRule += term.replace(restaurant, 'X');\n      } else {\n        this.agreedPreferenceRule = `${this.agreedPreferenceRule.substring(0, this.agreedPreferenceRule.length - 1)},${term.replace(restaurant, 'X')}`;\n      }\n    }\n  }\n\n  // (Counter)Claim(ag_i, l) | (Counter)Claim(O, p(a))\n  claim(agent, term) {\n    const restaurant = term.match(/([A-Za-z0-9])+/g)[1];\n    const property = term.match(/([A-Za-z0-9])+/g)[0];\n\n    /* GENERAL PRE-CONDITIONS */\n\n    // demo(∏_ag_i ∪ Com_ag_i, l)\n    const prologSession = pl.create();\n    prologSession.consult(agent.knowledgeBase + agent.commitmentStore);\n    prologSession.query(term);\n    prologSession.answer(x => {\n      if (pl.format_answer(x) !== 'true ;') {\n        throw new Error(`Pre-conditions of ${agent.name} claiming \"${translate(term)}\" are not satisfied because ` +\n          `the agent cannot demonstrate the claim through their knowledge base and commitment store!`);\n      }\n    });\n\n    // ¬l ∈ Com_ag_j for any ag_j ∈ Ag\n    for (const anyAgent of this.agents) {\n      if (anyAgent.commitmentStore.includes(term)) {\n        throw new Error(`Pre-conditions of ${agent.name} claiming \"${translate(term)}\" are not satisfied because ` +\n          `${anyAgent.name}'s commitment store contains the claim!`);\n      }\n    }\n\n    /*  TYPE-SPECIFIC PRE-CONDITIONS */\n\n    if (!agent.doesPrefer(restaurant)) {\n      // for some agent ag_j ≠ O, preferable(ag_j, a)\n      let isPreferableToAnotherAgent = false;\n\n      for (const otherAgent of this.agents) {\n        if (otherAgent !== agent && otherAgent.doesPrefer(restaurant)) {\n          isPreferableToAnotherAgent = true;\n        }\n      }\n\n      if (!isPreferableToAnotherAgent) {\n        throw new Error(`Pre-conditions of ${agent.name} claiming \"${translate(term)}\" are not satisfied because ` +\n          `the restaurant is not preferable to any other agent!`);\n      }\n    }\n\n    // p(X) ∈ B, where B is the set of terms in the body of the preference rule of O\n    let termsToCheck = [];\n\n    for (const line of agent.knowledgeBase.split('\\n')) {\n      if (/^acceptableRestaurant\\(X/.test(line)) {\n        for (const match of line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g)) {\n          if (!termsToCheck.includes(match)) {\n            termsToCheck.push(match);\n          }\n        }\n      }\n    }\n\n    for (let i = 0; i < termsToCheck.length; i++) {\n      for (const line of agent.knowledgeBase.split('\\n')) {\n        if (new RegExp('^' + termsToCheck[i] + '\\\\(X').test(line)) {\n          for (const match of line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g)) {\n            if (!termsToCheck.includes(match)) {\n              termsToCheck.push(match);\n            }\n          }\n        }\n      }\n    }\n\n    if (!termsToCheck.includes(property)) {\n      throw new Error(`Pre-conditions of ${agent.name} claiming \"${translate(term)}\" are not satisfied because ` +\n        `the claim does not correspond to a feature in the body of the agent's preference rule!`);\n    }\n\n    /* GENERAL POST-CONDITIONS */\n\n    // Com_ag_i ⇒ Com_ag_i ∪ l\n    agent.commitmentStore += `${term}\\n`;\n\n    /* TYPE-SPECIFIC POST-CONDITIONS */\n\n    if (agent.doesPrefer(restaurant)) {\n      // Com_O ⇒ Com_O ∪ acceptableRestaurant(a) iff demo(∏_O ∪ Com_O, acceptableRestaurant(a))\n      prologSession.query(`acceptableRestaurant(${restaurant}).`);\n      prologSession.answer(x => {\n        if (pl.format_answer(x) === 'true ;' && !agent.commitmentStore.includes(`acceptableRestaurant(${restaurant}).`)) {\n          agent.commitmentStore += `acceptableRestaurant(${restaurant}).\\n`;\n        }\n      });\n    }\n\n    // Com_O ⇒ Com_O ∪ (p(X) ∈ B), where B is the set of terms in the body of the preference rule of O\n    let termsToAdd = [];\n\n    for (const line of (agent.knowledgeBase + agent.commitmentStore).split('\\n')) {\n      if (new RegExp('^' + property + '\\\\(X(?=\\\\)|,[A-Z]|,' + term.match(/([A-Za-z0-9_])+/g)[2] + ')').test(line)) {\n        if (!agent.commitmentStore.includes(line)) {\n          agent.commitmentStore += `${line}\\n`;\n        }\n\n        termsToAdd = termsToAdd.concat(line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g));\n      }\n    }\n\n    for (let i = 0; i < termsToAdd.length; i++) {\n      for (const line of agent.knowledgeBase.split('\\n')) {\n        if (new RegExp('^' + termsToAdd[i] + '\\\\(').test(line)) {\n          if (line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g)) {\n            for (const match of line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g)) {\n              if (!termsToAdd.includes(match)) {\n                termsToAdd.push(match);\n              }\n            }\n          }\n\n          if (!agent.commitmentStore.includes(line) && !agent.commitmentDependencies.includes(line)) {\n            agent.commitmentDependencies += `${line}\\n`;\n          }\n        }\n      }\n    }\n\n    /* UPDATE DIALOGUE TEXT AND UPDATE COMMITMENT STORE HISTORY */\n\n    if (agent.doesPrefer(restaurant)) {\n      this.text += `${agent.name}: ${translate(term)}.\\n`;\n    } else {\n      this.text += `${agent.name}: But ${translate(term)}.\\n`;\n    }\n\n    this.saveCommitmentStores();\n  }\n\n  // Since(ag_i, l, ∏) | Concede-Since(ag_i, g(a), p(a))\n  since(agent, otherAgent, term, justifications) {\n    const restaurant = term.match(/([A-Za-z0-9])+/g)[1];\n    const prologSession = pl.create();\n\n    let justificationsAsOneString = '';\n\n    for (const justification of justifications) {\n      justificationsAsOneString += `${justification}\\n`;\n    }\n\n    if (!/^acceptableRestaurant\\(/.test(term)) {\n      // Since(ag_i, l, ∏)\n\n      /* GENERAL PRE-CONDITIONS */\n\n      // l ∈ Com_ag_i\n      if (!agent.commitmentStore.includes(term)) {\n        throw new Error(`Pre-conditions of ${agent.name} offering reasoning for \"${translate(term)}\" are not satisfied because ` +\n          `the agent's commitment store does not contain the claim!`);\n      }\n\n      // demo(∏ ∪ Com_ag_j, l) for some ∏ ⊆ ∏_ag_i\n      for (const justification of justifications) {\n        if (!agent.knowledgeBase.includes(justification)) {\n          throw new Error(`Pre-conditions of ${agent.name} offering reasoning for \"${translate(term)}\" are not satisfied because ` +\n            `the agent's knowledge base does not contain all justifications!`);\n        }\n      }\n\n      prologSession.consult(justificationsAsOneString + otherAgent.commitmentStore + otherAgent.commitmentDependencies);\n      prologSession.query(term);\n      prologSession.answer(x => {\n        if (pl.format_answer(x) !== 'true ;') {\n          throw new Error(`Pre-conditions of ${agent.name} offering reasoning for \"${translate(term)}\" are not satisfied because ` +\n            `${otherAgent.name} cannot demonstrate the claim through the justifications and their commitment store!`);\n        }\n      });\n\n      /* GENERAL POST-CONDITIONS */\n\n      // Com_ag_i ⇒ Com_ag_i ∪ ∏\n      for (const justification of justifications) {\n        if (!agent.commitmentStore.includes(justification)) {\n          agent.commitmentStore += `${justification}\\n`;\n        }\n      }\n\n      // Com_ag_j ⇒ Com_ag_j ∪ ∏\n      for (const justification of justifications) {\n        if (!otherAgent.commitmentStore.includes(justification)) {\n          otherAgent.commitmentStore += `${justification}\\n`;\n        }\n      }\n\n      /* UPDATE DIALOGUE TEXT AND UPDATE COMMITMENT STORE HISTORY */\n\n      let bodyOfRuleOfClaim = justifications[0].split('-')[1].split(', ')[0].replace(/X/g, restaurant);\n\n      for (const match of bodyOfRuleOfClaim.match(/([A-Za-z0-9])+/g)) {\n        if (match[0] !== match[0].toLowerCase()) {\n          const prologSession = pl.create();\n          prologSession.consult(justificationsAsOneString + otherAgent.commitmentStore + otherAgent.commitmentDependencies);\n\n          if (bodyOfRuleOfClaim[bodyOfRuleOfClaim.length - 1] !== '.' && bodyOfRuleOfClaim[bodyOfRuleOfClaim.length - 2] !== '.') {\n            bodyOfRuleOfClaim = bodyOfRuleOfClaim + '.'\n          }\n\n          prologSession.query(bodyOfRuleOfClaim);\n          prologSession.answer(x => bodyOfRuleOfClaim = bodyOfRuleOfClaim.replace(match, pl.format_answer(x).split(\" \")[2].replace(/,|\\./g, ''))); // eslint-disable-line no-loop-func\n        }\n      }\n\n      this.text += `${agent.name}: ${translate(term)} since ${format(bodyOfRuleOfClaim.split('),'))}.\\n`;\n    } else {\n      // Concede-Since(ag_i, g(a), p(a))\n\n      /* TYPE-SPECIFIC PRE-CONDITIONS */\n\n      // demo(∏_ag_i ∪ Com_ag_i ∪ p(a), g(a))\n      prologSession.consult(agent.knowledgeBase + agent.commitmentStore + justificationsAsOneString);\n      prologSession.query(term);\n      prologSession.answer(x => {\n        if (pl.format_answer(x) !== 'true ;') {\n          throw new Error(`Pre-conditions of ${agent.name} offering reasoning for \"${translate(term)}\" are not satisfied because ` +\n            `the agent cannot demonstrate the claim through their knowledge base, commitment store, and the justifications!`);\n        }\n      });\n\n      // p(a) ∈ Com_ag_j for some ag_j ≠ ag_i\n      let doesAppearGlobally = false;\n\n      for (const someAgent of this.agents) {\n        let doesAppearLocally = true;\n\n        for (const justification of justifications) {\n          if (someAgent !== agent && !someAgent.commitmentStore.includes(justification)) {\n            doesAppearLocally = false;\n          }\n        }\n\n        if (someAgent !== agent && doesAppearLocally === true) {\n          doesAppearGlobally = true;\n        }\n      }\n\n      if (doesAppearGlobally === false) {\n        throw new Error(`Pre-conditions of ${agent.name} offering reasoning for \"${translate(term)}\" are not satisfied because ` +\n          `no other agent's commitment store contains the justifications!`);\n      }\n\n      /* ADD JUSTIFICATIONS TO BODY OF AGREED PREFERENCE RULE */\n\n      for (const justification of justifications) {\n        this.addTermToAgreedPreferenceRule(justification);\n      }\n\n      /* GENERAL POST-CONDITIONS */\n\n      // Com_ag_i ⇒ Com_ag_i ∪ ∏\n      for (const justification of justifications) {\n        if (!agent.commitmentStore.includes(justification)) {\n          agent.commitmentStore += `${justification}\\n`;\n        }\n      }\n\n      /* TYPE-SPECIFIC POST-CONDITIONS */\n\n      // Com_O ⇒ Com_O ∪ p(X) ∈ B, where B is the set of terms in the body of the agreed preference rule\n      for (const justification of justifications) {\n        let termsToAdd = [];\n\n        for (const line of (agent.knowledgeBase + agent.commitmentStore).split('\\n')) {\n          if (new RegExp('^' + justification.match(/([A-Za-z0-9_])+/g)[0] + '\\\\(X(?=\\\\)|,[A-Z]|,' + justification.match(/([A-Za-z0-9_])+/g)[2] + ')').test(line)) {\n            if (!agent.commitmentStore.includes(line)) {\n              agent.commitmentStore += `${line}\\n`;\n            }\n\n            termsToAdd = termsToAdd.concat(line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g));\n          }\n        }\n\n        for (let i = 0; i < termsToAdd.length; i++) {\n          for (const line of agent.knowledgeBase.split('\\n')) {\n            if (new RegExp('^' + termsToAdd[i] + '\\\\(').test(line)) {\n              if (line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g)) {\n                for (const match of line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g)) {\n                  if (!termsToAdd.includes(match)) {\n                    termsToAdd.push(match);\n                  }\n                }\n              }\n\n              if (!agent.commitmentStore.includes(line) && !agent.commitmentDependencies.includes(line)) {\n                agent.commitmentDependencies += `${line}\\n`;\n              }\n            }\n          }\n        }\n      }\n\n      this.text += `${agent.name}: Since ${format(justifications)}, that makes ${decamelise(restaurant)} an acceptable restaurant. `;\n\n      const uninstatitatedJustifications = [];\n\n      for (let i = 0; i < justifications.length; i++) {\n        uninstatitatedJustifications.push(justifications[i].replace(justifications[i].match(/([A-Za-z0-9])+/g)[1], '_'));\n      }\n\n      this.text += `We want to go to a restaurant with ${format(uninstatitatedJustifications)}.\\n`;\n    }\n\n    this.saveCommitmentStores();\n  }\n\n  // Concede(ag_i, l) | Concede(O, p(a))\n  concede(agent, term) {\n    const restaurant = term.match(/([A-Za-z0-9_])+/g)[1];\n    const property = term.match(/([A-Za-z0-9])+/g)[0];\n\n    /* GENERAL PRE-CONDITIONS */\n\n    // for some agent ag_j ≠ ag_i, l ∈ Com_ag_j\n    let doesAppear = false;\n\n    for (const someAgent of this.agents) {\n      if (someAgent !== agent && someAgent.commitmentStore.includes(term)) {\n        doesAppear = true;\n      }\n    }\n\n    if (doesAppear === false) {\n      throw new Error(`Pre-conditions of ${agent.name} conceding to \"${translate(term)}\" are not satisfied because ` +\n        `no other agent's commitment store contains the claim!`);\n    }\n\n    // not(¬l ∈ Com_ag_i)\n    if ((term.includes('\\\\+(') && (agent.commitmentStore.includes(`${term.substring(3, term.length - 2)}.`)))\n      || (!term.includes('\\\\+(') && agent.commitmentStore.includes(`\\\\+(${term.substring(0, term.length - 1)}).`))) {\n      throw new Error(`Pre-conditions of ${agent.name} conceding to \"${translate(term)}\" are not satisfied because ` +\n        `the agent's commitment store contains the negation of the claim!`);\n    }\n\n    /* ADD TERM TO BODY OF AGREED PREFERENCE RULE */\n    this.addTermToAgreedPreferenceRule(term);\n\n    /* GENERAL POST-CONDITIONS */\n\n    // Com_ag_i ⇒ Com_ag_i ∪ l\n    if (!agent.commitmentStore.includes(term)) {\n      agent.commitmentStore += `${term}\\n`;\n    }\n\n    /* TYPE-SPECIFIC POST-CONDITIONS */\n\n    // Com_O ⇒ Com_O ∪ p(X) ∈ B, where B is the set of terms in the body of the agreed preference rule\n    let termsToAdd = [];\n\n    for (const line of (agent.knowledgeBase + agent.commitmentStore).split('\\n')) {\n      if (new RegExp('^' + property + '\\\\(X(?=\\\\)|,[A-Z]|,' + term.match(/([A-Za-z0-9_])+/g)[2] + ')').test(line)) {\n        if (!agent.commitmentStore.includes(line)) {\n          agent.commitmentStore += `${line}\\n`;\n        }\n\n        termsToAdd = termsToAdd.concat(line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g));\n      }\n    }\n\n    for (let i = 0; i < termsToAdd.length; i++) {\n      for (const line of agent.knowledgeBase.split('\\n')) {\n        if (new RegExp('^' + termsToAdd[i] + '\\\\(').test(line)) {\n          if (line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g)) {\n            for (const match of line.match(/(?<=,|-|, \\()([A-Za-z0-9])+(?=\\()/g)) {\n              if (!termsToAdd.includes(match)) {\n                termsToAdd.push(match);\n              }\n            }\n          }\n\n          if (!agent.commitmentStore.includes(line) && !agent.commitmentDependencies.includes(line)) {\n            agent.commitmentDependencies += `${line}\\n`;\n          }\n        }\n      }\n    }\n\n    /* UPDATE DIALOGUE TEXT AND UPDATE COMMITMENT STORE HISTORY */\n\n    if (property !== 'acceptableRestaurant') {\n      this.text += `${agent.name}: I accept that ${translate(term)}. We want to to a restaurant with ${translate(term.replace(restaurant, '_'))}.\\n`;\n    } else {\n      this.text += `${agent.name}: I accept that ${translate(term)}.\\n`;\n    }\n\n    this.saveCommitmentStores();\n  }\n}\n\nexport default DeliberationDialogue;\n","const generalKnowledgeBase = `distance(restaurantOne,5,0).\ndistance(restaurantTwo,10,10).\ndistance(restaurantThree,1,0).\nmealTime(restaurantOne,90).\nmealTime(restaurantTwo,60).\nmealTime(restaurantThree,15).\nquality(X,good):-recommended(X,Y),trustworthy(Y).\nquality(X,poor):-recommended(X,students).\nprice(restaurantOne,25).\nprice(restaurantTwo,15).\nprice(restaurantThree,7).\natmosphere(restaurantOne).\natmosphere(restaurantTwo).\nbeverage(restaurantOne).\nbeverage(restaurantTwo).\ncuisine(restaurantOne,cuisineOne).\ncuisine(restaurantTwo,cuisineTwo).\ncuisine(restaurantThree,cuisineThree).\ncuisine(X,mediterranean):-cuisine(X,cuisineOne).\nhealthy(X):-cuisine(X,mediterranean).\nhealthy(X):-vegetables(X).\nvegetables(X):-cuisine(X,cuisineTwo).\ntrustworthy(colleague).\ntrustworthy(husband).\nrecommended(restaurantOne,husband).\nrecommended(restaurantTwo,colleague).\nrecommended(restaurantThree,students).\ntotalTime(X,T):-distance(X,Td,_),mealTime(X,Tm), T is Td+Tm.\ntotalCost(X,C):-distance(X,_,Cd),price(X,Cm), C is Cd+Cm.\nacceptableRestaurant(X):-quality(X,good),healthy(X).\nacceptableRestaurant(X):-cuisine(X,cuisineTwo).\nacceptableRestaurant(X):-quality(X,good), (quality(Y,good),cheaper(Y,X)->false;true).\nacceptableRestaurant(X):-quality(X,good),atmosphere(X),beverage(X),distance(X,_,0), (quality(Y,good),atmosphere(Y),beverage(Y),quicker(Y,X)->false;true).\nacceptableRestaurant(X):-healthy(X),atmosphere(X),beverage(X),distance(X,_,0).\nacceptableRestaurant(X):-quality(X,good),healthy(X),atmosphere(X),beverage(X).\nacceptableRestaurant(X):-quality(X,good),atmosphere(X).\ncheaper(X,Y):-totalCost(X,Cx),totalCost(Y,Cy), Cx < Cy.\nquicker(X,Y):-totalTime(X,Tx),totalTime(Y,Ty), Tx < Ty.`\n\nexport default generalKnowledgeBase;\n","import Agent from './Agent';\nimport PersuasionDialogue from './PersuasionDialogue';\nimport DeliberationDialogue from './DeliberationDialogue';\n\nimport generalKnowledgeBase from './utils/generalKnowledgeBase';\nimport { camelise, decamelise } from './utils/helper';\n\nclass Simulation {\n  constructor(agentNames, restaurantNames, restaurantCuisines, beverage) {\n    this.agentNames = agentNames;\n    this.restaurantNames = restaurantNames;\n    this.restaurantCuisines = restaurantCuisines;\n    this.beverage = beverage;\n    this.generalKnowledgeBase = generalKnowledgeBase\n      .replace(/restaurantOne/g, camelise(restaurantNames[0]))\n      .replace(/restaurantTwo/g, camelise(restaurantNames[1]))\n      .replace(/restaurantThree/g, camelise(restaurantNames[2]))\n      .replace(/cuisineOne/g, camelise(restaurantCuisines[0]))\n      .replace(/cuisineTwo/g, camelise(restaurantCuisines[1]))\n      .replace(/cuisineThree/g, camelise(restaurantCuisines[2]))\n      .replace(/beverage/g, camelise(beverage));\n\n    this.persuasionDialogue = this.simulatePersuasionDialogue();\n    this.deliberationDialogue = this.simulateDeliberationDialogue();\n  }\n\n  simulatePersuasionDialogue() {\n    let knowledgeBaseOne = '', knowledgeBaseTwo = '', knowledgeBaseThree = '';\n\n    for (const [index, line] of this.generalKnowledgeBase.split('\\n').entries()) {\n      if ([15, 23, 24, 6, 18, 19, 29].includes(index)) {\n        knowledgeBaseOne += `${line}\\n`;\n      }\n\n      if ([8, 9, 16, 22, 25, 6, 7, 20, 21, 28, 36, 30].includes(index)) {\n        knowledgeBaseTwo += `${line}\\n`;\n      }\n\n      if ([1, 26, 6, 28, 36, 31].includes(index)) {\n        knowledgeBaseThree += `${line}\\n`;\n      }\n    }\n\n    const persuasionDialogue = new PersuasionDialogue([\n      new Agent(this.agentNames[0], camelise(this.restaurantNames[0]), knowledgeBaseOne),\n      new Agent(this.agentNames[1], camelise(this.restaurantNames[1]), knowledgeBaseTwo),\n      new Agent(this.agentNames[2], camelise(this.restaurantNames[2]), knowledgeBaseThree)\n    ], 1);\n\n    persuasionDialogue.claim(persuasionDialogue.agents[1], `acceptableRestaurant(${camelise(this.restaurantNames[1])}).`);\n    persuasionDialogue.claim(persuasionDialogue.agents[1], `cuisine(${camelise(this.restaurantNames[1])},${camelise(this.restaurantCuisines[1])}).`);\n    persuasionDialogue.claim(persuasionDialogue.agents[2], `distance(${camelise(this.restaurantNames[1])},10,_).`);\n    persuasionDialogue.claim(persuasionDialogue.agents[1], `quality(${camelise(this.restaurantNames[1])},good).`);\n    persuasionDialogue.claim(persuasionDialogue.agents[2], `recommended(${camelise(this.restaurantNames[2])},students).`);\n    persuasionDialogue.question(persuasionDialogue.agents[2], `quality(${camelise(this.restaurantNames[2])},good).`);\n    persuasionDialogue.concede(persuasionDialogue.agents[1], `recommended(${camelise(this.restaurantNames[2])},students).`);\n    persuasionDialogue.claim(persuasionDialogue.agents[1], `quality(${camelise(this.restaurantNames[2])},poor).`);\n    persuasionDialogue.claim(persuasionDialogue.agents[0], `quality(${camelise(this.restaurantNames[0])},good).`);\n    persuasionDialogue.claim(persuasionDialogue.agents[0], `healthy(${camelise(this.restaurantNames[0])}).`);\n    persuasionDialogue.claim(persuasionDialogue.agents[1], `healthy(${camelise(this.restaurantNames[1])}).`);\n    persuasionDialogue.claim(persuasionDialogue.agents[1], `price(${camelise(this.restaurantNames[1])},15).`);\n    persuasionDialogue.claim(persuasionDialogue.agents[1], `price(${camelise(this.restaurantNames[0])},25).`);\n    persuasionDialogue.claim(persuasionDialogue.agents[2], `distance(${camelise(this.restaurantNames[1])},_,10).`);\n    persuasionDialogue.concede(persuasionDialogue.agents[1], `distance(${camelise(this.restaurantNames[1])},_,10).`);\n    persuasionDialogue.claim(persuasionDialogue.agents[1], `\\\\+(cheaper(${camelise(this.restaurantNames[0])},${camelise(this.restaurantNames[1])})).`);\n    persuasionDialogue.concede(persuasionDialogue.agents[2], `acceptableRestaurant(${camelise(this.restaurantNames[1])}).`);\n    persuasionDialogue.concede(persuasionDialogue.agents[0], `acceptableRestaurant(${camelise(this.restaurantNames[1])}).`);\n\n    persuasionDialogue.text = persuasionDialogue.text\n      .replace(new RegExp(decamelise(camelise(this.restaurantNames[0])), 'gi'), this.restaurantNames[0])\n      .replace(new RegExp(decamelise(camelise(this.restaurantNames[1])), 'gi'), this.restaurantNames[1])\n      .replace(new RegExp(decamelise(camelise(this.restaurantNames[2])), 'gi'), this.restaurantNames[2])\n      .replace(new RegExp(this.restaurantCuisines[0], 'gi'), this.restaurantCuisines[0])\n      .replace(new RegExp(this.restaurantCuisines[1], 'gi'), this.restaurantCuisines[1])\n      .replace(new RegExp(this.restaurantCuisines[2], 'gi'), this.restaurantCuisines[2]);\n\n    if (persuasionDialogue.isOver()) {\n      return persuasionDialogue;\n    } else {\n      throw new Error('Persuasion dialogue has not reached an end state!');\n    }\n  }\n\n  simulateDeliberationDialogue() {\n    let knowledgeBaseOne = '', knowledgeBaseTwo = '', knowledgeBaseThree = '';\n\n    for (const [index, line] of this.generalKnowledgeBase.split('\\n').entries()) {\n      if ([0, 11, 13, 15, 23, 24, 6, 18, 19, 29, 33].includes(index)) {\n        knowledgeBaseOne += `${line}\\n`;\n      }\n\n      if ([12, 13, 14, 15, 16, 22, 25, 6, 18, 19, 20, 21, 30, 34].includes(index)) {\n        knowledgeBaseTwo += `${line}\\n`;\n      }\n\n      if ([1, 2, 8, 10, 23, 26, 6, 28, 36, 31, 35].includes(index)) {\n        knowledgeBaseThree += `${line}\\n`;\n      }\n    }\n\n    const deliberationDialogue = new DeliberationDialogue([\n      new Agent(this.agentNames[0], camelise(this.restaurantNames[0]), knowledgeBaseOne),\n      new Agent(this.agentNames[1], camelise(this.restaurantNames[1]), knowledgeBaseTwo),\n      new Agent(this.agentNames[2], camelise(this.restaurantNames[2]), knowledgeBaseThree)\n    ]);\n\n    deliberationDialogue.claim(deliberationDialogue.agents[1], `cuisine(${camelise(this.restaurantNames[1])},${camelise(this.restaurantCuisines[1])}).`);\n    deliberationDialogue.claim(deliberationDialogue.agents[2], `distance(${camelise(this.restaurantNames[1])},10,_).`);\n    deliberationDialogue.claim(deliberationDialogue.agents[2], `distance(${camelise(this.restaurantNames[2])},1,0).`);\n    deliberationDialogue.claim(deliberationDialogue.agents[0], `distance(${camelise(this.restaurantNames[0])},_,0).`);\n    deliberationDialogue.claim(deliberationDialogue.agents[0], `quality(${camelise(this.restaurantNames[0])},good).`);\n    deliberationDialogue.claim(deliberationDialogue.agents[2], `price(${camelise(this.restaurantNames[0])},25).`);\n    deliberationDialogue.claim(deliberationDialogue.agents[2], `price(${camelise(this.restaurantNames[2])},7).`);\n    deliberationDialogue.claim(deliberationDialogue.agents[1], `\\\\+(${camelise(this.beverage)}(${camelise(this.restaurantNames[2])})).`);\n    deliberationDialogue.claim(deliberationDialogue.agents[1], `${camelise(this.beverage)}(${camelise(this.restaurantNames[1])}).`);\n    deliberationDialogue.claim(deliberationDialogue.agents[0], `\\\\+(atmosphere(${camelise(this.restaurantNames[2])})).`);\n    deliberationDialogue.claim(deliberationDialogue.agents[0], `atmosphere(${camelise(this.restaurantNames[0])}).`);\n    deliberationDialogue.claim(deliberationDialogue.agents[1], `atmosphere(${camelise(this.restaurantNames[1])}).`);\n    deliberationDialogue.claim(deliberationDialogue.agents[1], `quality(${camelise(this.restaurantNames[1])},good).`);\n    deliberationDialogue.claim(deliberationDialogue.agents[2], `distance(${camelise(this.restaurantNames[1])},_,10).`);\n    deliberationDialogue.claim(deliberationDialogue.agents[1], `healthy(${camelise(this.restaurantNames[1])}).`);\n    deliberationDialogue.claim(deliberationDialogue.agents[0], `healthy(${camelise(this.restaurantNames[0])}).`);\n    deliberationDialogue.since(deliberationDialogue.agents[1], null, `acceptableRestaurant(${camelise(this.restaurantNames[0])}).`, [`quality(${camelise(this.restaurantNames[0])},good).`, `atmosphere(${camelise(this.restaurantNames[0])}).`]);\n    deliberationDialogue.since(deliberationDialogue.agents[2], null, `acceptableRestaurant(${camelise(this.restaurantNames[1])}).`, [`quality(${camelise(this.restaurantNames[1])},good).`, `atmosphere(${camelise(this.restaurantNames[1])}).`]);\n    deliberationDialogue.concede(deliberationDialogue.agents[0], `${camelise(this.beverage)}(${camelise(this.restaurantNames[1])}).`);\n    deliberationDialogue.claim(deliberationDialogue.agents[0], `${camelise(this.beverage)}(${camelise(this.restaurantNames[0])}).`);\n    deliberationDialogue.since(deliberationDialogue.agents[1], null, `acceptableRestaurant(${camelise(this.restaurantNames[0])}).`, [`distance(${camelise(this.restaurantNames[0])},_,0).`]);\n    deliberationDialogue.concede(deliberationDialogue.agents[2], `acceptableRestaurant(${camelise(this.restaurantNames[0])}).`);\n    deliberationDialogue.concede(deliberationDialogue.agents[1], `acceptableRestaurant(${camelise(this.restaurantNames[0])}).`);\n\n    deliberationDialogue.text = deliberationDialogue.text\n      .replace(new RegExp(decamelise(camelise(this.restaurantNames[0])), 'gi'), this.restaurantNames[0])\n      .replace(new RegExp(decamelise(camelise(this.restaurantNames[1])), 'gi'), this.restaurantNames[1])\n      .replace(new RegExp(decamelise(camelise(this.restaurantNames[2])), 'gi'), this.restaurantNames[2])\n      .replace(new RegExp(this.restaurantCuisines[0], 'gi'), this.restaurantCuisines[0])\n      .replace(new RegExp(this.restaurantCuisines[1], 'gi'), this.restaurantCuisines[1])\n      .replace(new RegExp(this.restaurantCuisines[2], 'gi'), this.restaurantCuisines[2]);\n\n    if (deliberationDialogue.isOver()) {\n      return deliberationDialogue;\n    } else {\n      throw new Error('Deliberation dialogue has not reached an end state!');\n    }\n  }\n}\n\nexport default Simulation;\n","import React, { Component } from \"react\";\nimport { Button, FormGroup, InlineNotification, RadioButton, RadioButtonGroup, TextInput } from 'carbon-components-react';\n\nimport DialogueAccordion from './DialogueAccordion';\nimport Simulation from './protocols/Simulation';\n\nimport './Generate.css';\n\nclass Generate extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      firstAgentsName: '',\n      secondAgentsName: '',\n      thirdAgentsName: '',\n      isFirstAgentsNameInvalid: false,\n      isSecondAgentsNameInvalid: false,\n      isThirdAgentsNameInvalid: false,\n      firstRestaurantsName: '',\n      secondRestaurantsName: '',\n      thirdRestaurantsName: '',\n      isFirstRestaurantsNameInvalid: false,\n      isSecondRestaurantsNameInvalid: false,\n      isThirdRestaurantsNameInvalid: false,\n      firstRestaurantsCuisine: 'Italian',\n      secondRestaurantsCuisine: 'Thai',\n      thirdRestaurantsCuisine: 'American',\n      beverage: 'Wine',\n      isErrorNotificationVisible: false,\n      simulation: null\n    };\n\n    this.onChange = this.onChange.bind(this);\n    this.checkInputValues = this.checkInputValues.bind(this);\n    this.generateDialogues = this.generateDialogues.bind(this);\n    this.resetState = this.resetState.bind(this);\n  }\n\n  onChange(event) {\n    this.setState({\n      [event.target.id]: event.target.value\n    });\n  }\n\n  checkInputValues() {\n    this.state.firstAgentsName === '' ? this.setState({ isFirstAgentsNameInvalid: true }) : this.setState({ isFirstAgentsNameInvalid: false });\n    this.state.secondAgentsName === '' ? this.setState({ isSecondAgentsNameInvalid: true }) : this.setState({ isSecondAgentsNameInvalid: false });\n    this.state.thirdAgentsName === '' ? this.setState({ isThirdAgentsNameInvalid: true }) : this.setState({ isThirdAgentsNameInvalid: false });\n    this.state.firstRestaurantsName === '' ? this.setState({ isFirstRestaurantsNameInvalid: true }) : this.setState({ isFirstRestaurantsNameInvalid: false });\n    this.state.secondRestaurantsName === '' ? this.setState({ isSecondRestaurantsNameInvalid: true }) : this.setState({ isSecondRestaurantsNameInvalid: false });\n    this.state.thirdRestaurantsName === '' ? this.setState({ isThirdRestaurantsNameInvalid: true }) : this.setState({ isThirdRestaurantsNameInvalid: false });\n\n    if (this.state.firstAgentsName === '' || this.state.secondAgentsName === '' || this.state.thirdAgentsName === ''\n      || this.state.firstRestaurantsName === '' || this.state.secondRestaurantsName === '' || this.state.thirdRestaurantsName === '') {\n\n      this.setState({\n        isErrorNotificationVisible: true\n      });\n\n      return false;\n    }\n\n    return true;\n  }\n\n  generateDialogues() {\n    if (this.checkInputValues()) {\n      this.setState({\n        simulation: new Simulation(\n          [this.state.firstAgentsName, this.state.secondAgentsName, this.state.thirdAgentsName],\n          [this.state.firstRestaurantsName, this.state.secondRestaurantsName, this.state.thirdRestaurantsName],\n          [this.state.firstRestaurantsCuisine, this.state.secondRestaurantsCuisine, this.state.thirdRestaurantsCuisine],\n          this.state.beverage\n        )\n      });\n    }\n  }\n\n  resetState() {\n    this.setState({\n      firstAgentsName: '',\n      secondAgentsName: '',\n      thirdAgentsName: '',\n      isFirstAgentsNameInvalid: false,\n      isSecondAgentsNameInvalid: false,\n      isThirdAgentsNameInvalid: false,\n      firstRestaurantsName: '',\n      secondRestaurantsName: '',\n      thirdRestaurantsName: '',\n      isFirstRestaurantsNameInvalid: false,\n      isSecondRestaurantsNameInvalid: false,\n      isThirdRestaurantsNameInvalid: false,\n      firstRestaurantsCuisine: 'Italian',\n      secondRestaurantsCuisine: 'Thai',\n      thirdRestaurantsCuisine: 'American',\n      beverage: 'Wine',\n      isErrorNotificationVisible: false,\n      simulation: null\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        {!this.state.simulation && (\n          <div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <div className=\"heading\"></div>\n                <h2 className=\"heading\">Customise</h2>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <p>\n                  Use the form below to generate your own custom persuasion and deliberation dialogues.\n                  None of the information you provide will be stored.\n                </p>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <div className=\"heading\"></div>\n                <h2 className=\"heading\">Agents' names</h2>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <p className=\"description\">\n                  Choose names for the agents that will be participating in the dialogue.\n                </p>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <div className=\"text-input\">\n                  <TextInput\n                    id=\"firstAgentsName\"\n                    labelText=\"First agent's name\"\n                    invalid={this.state.isFirstAgentsNameInvalid}\n                    invalidText=\"Please provide a valid name\"\n                    onChange={this.onChange}\n                  />\n                </div>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <div className=\"text-input\">\n                  <TextInput\n                    id=\"secondAgentsName\"\n                    labelText=\"Second agent's name\"\n                    invalid={this.state.isSecondAgentsNameInvalid}\n                    invalidText=\"Please provide a valid name\"\n                    onChange={this.onChange}\n                  />\n                </div>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <div className=\"text-input\">\n                  <TextInput\n                    id=\"thirdAgentsName\"\n                    labelText=\"Third agent's name\"\n                    invalid={this.state.isThirdAgentsNameInvalid}\n                    invalidText=\"Please provide a valid name\"\n                    onChange={this.onChange}\n                  />\n                </div>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <div className=\"heading\"></div>\n                <h2 className=\"heading\">Restaurants' names</h2>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <p className=\"description\">\n                  Choose names for the restaurants around which the dialogue will revolve.\n                </p>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <div className=\"text-input\">\n                  <TextInput\n                    id=\"firstRestaurantsName\"\n                    labelText=\"First restaurant's name\"\n                    invalid={this.state.isFirstRestaurantsNameInvalid}\n                    invalidText=\"Please provide a valid name\"\n                    onChange={this.onChange}\n                  />\n                </div>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <div className=\"text-input\">\n                  <TextInput\n                    id=\"secondRestaurantsName\"\n                    labelText=\"Second restaurant's name\"\n                    invalid={this.state.isSecondRestaurantsNameInvalid}\n                    invalidText=\"Please provide a valid name\"\n                    onChange={this.onChange}\n                  />\n                </div>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <div className=\"text-input\">\n                  <TextInput\n                    id=\"thirdRestaurantsName\"\n                    labelText=\"Third restaurant's name\"\n                    invalid={this.state.isThirdRestaurantsNameInvalid}\n                    invalidText=\"Please provide a valid name\"\n                    onChange={this.onChange}\n                  />\n                </div>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <div className=\"heading\"></div>\n                <h2 className=\"heading\">Restaurants' cuisines</h2>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <p className=\"description\">\n                  Pick the cuisines for each restaurant.\n                </p>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <FormGroup legendText=\"First restaurant's cuisine\">\n                  <RadioButtonGroup\n                    name=\"first-restaurants-cuisine-radio-button-group\"\n                    valueSelected=\"Italian\"\n                    onChange={(event) => this.setState({ firstRestaurantsCuisine: event })}\n                  >\n                    <RadioButton value=\"Italian\" labelText=\"Italian\" />\n                    <RadioButton value=\"Greek\" labelText=\"Greek\" />\n                    <RadioButton value=\"Spanish\" labelText=\"Spanish\" />\n                  </RadioButtonGroup>\n                </FormGroup>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <FormGroup legendText=\"Second restaurant's cuisine\">\n                  <RadioButtonGroup\n                    name=\"second-restaurants-cuisine-radio-button-group\"\n                    valueSelected=\"Thai\"\n                    onChange={(event) => this.setState({ secondRestaurantsCuisine: event })}\n                  >\n                    <RadioButton value=\"Thai\" labelText=\"Thai\" />\n                    <RadioButton value=\"Indian\" labelText=\"Indian\" />\n                    <RadioButton value=\"Japanese\" labelText=\"Japanese\" />\n                  </RadioButtonGroup>\n                </FormGroup>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <FormGroup legendText=\"Third restaurant's cuisine\">\n                  <RadioButtonGroup\n                    name=\"third-restaurants-cuisine-radio-button-group\"\n                    valueSelected=\"American\"\n                    onChange={(event) => this.setState({ thirdRestaurantsCuisine: event })}\n                  >\n                    <RadioButton value=\"American\" labelText=\"American\" />\n                    <RadioButton value=\"Bulgarian\" labelText=\"Bulgarian\" />\n                    <RadioButton value=\"Turkish\" labelText=\"Turkish\" />\n                  </RadioButtonGroup>\n                </FormGroup>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <div className=\"heading\"></div>\n                <h2 className=\"heading\">Beverage</h2>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <p className=\"description\">\n                  Pick the beverage which will be preferred by the agents.\n                </p>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <FormGroup legendText=\"Beverage\">\n                  <RadioButtonGroup\n                    name=\"beverage-radio-button-group\"\n                    valueSelected=\"Wine\"\n                    onChange={(event) => this.setState({ beverage: event })}\n                  >\n                    <RadioButton value=\"Wine\" labelText=\"Wine\" />\n                    <RadioButton value=\"Champagne\" labelText=\"Champagne\" />\n                    <RadioButton value=\"Cocktails\" labelText=\"Cocktails\" />\n                  </RadioButtonGroup>\n                </FormGroup>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <div className=\"heading\"></div>\n                <h2 className=\"heading\">Generate</h2>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <p className=\"description\">\n                  Click the button below to generate your customised dialogues.\n                  {this.state.isErrorNotificationVisible && (\n                    <InlineNotification\n                      hideCloseButton={true}\n                      kind=\"error\"\n                      title=\"Invalid names\"\n                      subtitle=\"Some of the names for the agents or restaurants are invalid.\"\n                    />\n                  )}\n                </p>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <Button onClick={this.generateDialogues}>\n                  Generate\n                </Button>\n              </div>\n            </div>\n          </div>\n        )}\n        {this.state.simulation && (\n          <div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <div className=\"heading\"></div>\n                <h2 className=\"heading\">Remarks</h2>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <p>\n                  Check out your custom dialogues below.\n                  You can observe the differences between the two types speech act by speech act,\n                  but you can also reveal their full lengths at any point.\n                </p>\n                <p className=\"not-first\">\n                  While inspecting the persuasion dialogue, note how {this.state.simulation.agentNames[1]}\n                  &nbsp;asserts {this.state.simulation.restaurantNames[1]} as an acceptable choice at the very start.\n                  The agent then tries to prove that it is acceptable for the others\n                  as they make objections indicating points on which they wish to be convinced.\n                </p>\n                <p className=\"not-first\">\n                  In the deliberation dialogue, on the other hand,&nbsp;\n                  {this.state.simulation.agentNames[1]} is not committed to his preferred option.\n                  Together with the others, the agent rather introduces properties\n                  which will later either be rejected or accepted\n                  as part of the collective rule of what constitutes an acceptable restaurant.\n                </p>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-5 bx--offset-xl-2 bx--col-xl-4\">\n                <DialogueAccordion dialogue={this.state.simulation.persuasionDialogue} dialogueType=\"Persuasion\" />\n              </div>\n              <div className=\"bx--col-md-5 bx--col-xl-4\">\n                <DialogueAccordion dialogue={this.state.simulation.deliberationDialogue} dialogueType=\"Deliberation\" />\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <div className=\"heading\"></div>\n                <h2 className=\"heading\">Reset</h2>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <p className=\"description\">\n                  Click the button below to reset the dialogues and start over.\n                </p>\n              </div>\n            </div>\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <Button kind=\"danger\" onClick={this.resetState}>\n                  Reset\n                </Button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default Generate;\n","import React, { Component } from \"react\";\nimport { Accordion, AccordionItem, ListItem, Tooltip, UnorderedList } from 'carbon-components-react';\n\nimport './DemoDialogue.css';\n\nclass DemoDialogue extends Component {\n  render() {\n    return (\n      <Accordion>\n        <AccordionItem\n          title={<div><strong>Jane</strong>: I wonder if Thai Palace has property healthy.\n            <Tooltip triggerText=\"&nbsp;\">\n              <p>Jane poses a question seeking information about Thai Palace and indicating that \"quality\" is a criterion she finds desirable.</p>\n            </Tooltip>\n          </div>}\n        >\n          <UnorderedList>\n            <ListItem className=\"list-item\">\n              Jane's commitment store:\n              <UnorderedList nested className=\"unordered-nested-list\">\n                <ListItem className=\"nested-list-item\">\n                  healthy(X):-cuisine(X,mediterranean).\n                  <Tooltip triggerText=\"&nbsp;\">\n                    <p>Jane considers a healthy restaurant to be one that offers mediterranean cuisine.</p>\n                  </Tooltip>\n                </ListItem>\n              </UnorderedList>\n            </ListItem>\n            <ListItem className=\"list-item\">\n              Harry's commitment store:\n              <UnorderedList nested className=\"unordered-nested-list\">\n              </UnorderedList>\n            </ListItem>\n          </UnorderedList>\n        </AccordionItem>\n        <AccordionItem\n          title={<div><strong>Harry</strong>: Thai Palace has property healthy.\n            <Tooltip triggerText=\"&nbsp;\">\n              <p>Harry asserts the claim as true in order to persuade Jane towards Thai Palace.</p>\n            </Tooltip>\n          </div>}\n        >\n          <UnorderedList>\n            <ListItem className=\"list-item\">\n              Jane's commitment store:\n              <UnorderedList nested className=\"unordered-nested-list\">\n                <ListItem className=\"nested-list-item\">\n                  healthy(X):-cuisine(X,mediterranean).\n                </ListItem>\n              </UnorderedList>\n            </ListItem>\n            <ListItem className=\"list-item\">\n              Harry's commitment store:\n              <UnorderedList nested className=\"unordered-nested-list\">\n                <ListItem className=\"nested-list-item\">\n                  healthy(thaiPalace).\n                </ListItem>\n              </UnorderedList>\n            </ListItem>\n          </UnorderedList>\n        </AccordionItem>\n        <AccordionItem\n          title={<div><strong>Jane</strong>: Why is it that Thai Palace has property healthy?\n            <Tooltip triggerText=\"&nbsp;\">\n              <p>Jane seeks reasoning for Harry's claim as she cannot derive it on her own.</p>\n            </Tooltip>\n          </div>}\n        >\n          <UnorderedList>\n            <ListItem className=\"list-item\">\n              Jane's commitment store:\n              <UnorderedList nested className=\"unordered-nested-list\">\n                <ListItem className=\"nested-list-item\">\n                  healthy(X):-cuisine(X,mediterranean).\n                </ListItem>\n              </UnorderedList>\n            </ListItem>\n            <ListItem className=\"list-item\">\n              Harry's commitment store:\n              <UnorderedList nested className=\"unordered-nested-list\">\n                <ListItem className=\"nested-list-item\">\n                  healthy(thaiPalace).\n                </ListItem>\n              </UnorderedList>\n            </ListItem>\n          </UnorderedList>\n        </AccordionItem>\n        <AccordionItem\n          title={<div><strong>Harry</strong>: Thai Palace has property healthy since Thai Palace has property vegetables.\n            <Tooltip triggerText=\"&nbsp;\">\n              <p>Harry offers reasoning for his claim and contributes a new rule for what constitutes a healthy restaurant.</p>\n            </Tooltip>\n          </div>}\n        >\n          <UnorderedList>\n            <ListItem className=\"list-item\">\n              Jane's commitment store:\n              <UnorderedList nested className=\"unordered-nested-list\">\n                <ListItem className=\"nested-list-item\">\n                  healthy(X):-cuisine(X,mediterranean).\n                </ListItem>\n                <ListItem className=\"nested-list-item\">\n                  healthy(X):-vegetables(X).\n                </ListItem>\n                <ListItem className=\"nested-list-item\">\n                  vegetables(X):-cuisine(X,thai).\n                </ListItem>\n                <ListItem className=\"nested-list-item\">\n                  cuisine(thaiPalace,thai).\n                </ListItem>\n              </UnorderedList>\n            </ListItem>\n            <ListItem className=\"list-item\">\n              Harry's commitment store:\n              <UnorderedList nested className=\"unordered-nested-list\">\n                <ListItem className=\"nested-list-item\">\n                  healthy(thaiPalace).\n                </ListItem>\n                <ListItem className=\"nested-list-item\">\n                  healthy(X):-vegetables(X).\n                </ListItem>\n                <ListItem className=\"nested-list-item\">\n                  vegetables(X):-cuisine(X,thai).\n                </ListItem>\n                <ListItem className=\"nested-list-item\">\n                  cuisine(thaiPalace,thai).\n                </ListItem>\n              </UnorderedList>\n            </ListItem>\n          </UnorderedList>\n        </AccordionItem>\n        <AccordionItem\n          title={<div><strong>Jane</strong>: I accept that Thai Palace has property healthy.\n            <Tooltip triggerText=\"&nbsp;\">\n              <p>Jane concedes to the claim as she now has the knowledge to derive it.</p>\n            </Tooltip>\n          </div>}\n        >\n          <UnorderedList>\n            <ListItem className=\"list-item\">\n              Jane's commitment store:\n              <UnorderedList nested className=\"unordered-nested-list\">\n                <ListItem className=\"nested-list-item\">\n                  healthy(X):-cuisine(X,mediterranean).\n                </ListItem>\n                <ListItem className=\"nested-list-item\">\n                  healthy(X):-vegetables(X).\n                </ListItem>\n                <ListItem className=\"nested-list-item\">\n                  vegetables(X):-cuisine(X,thai).\n                </ListItem>\n                <ListItem className=\"nested-list-item\">\n                  cuisine(thaiPalace,thai).\n                </ListItem>\n                <ListItem className=\"nested-list-item\">\n                  healthy(thaiPalace).\n                </ListItem>\n              </UnorderedList>\n            </ListItem>\n            <ListItem className=\"list-item\">\n              Harry's commitment store:\n              <UnorderedList nested className=\"unordered-nested-list\">\n                <ListItem className=\"nested-list-item\">\n                  healthy(thaiPalace).\n                </ListItem>\n                <ListItem className=\"nested-list-item\">\n                  healthy(X):-vegetables(X).\n                </ListItem>\n                <ListItem className=\"nested-list-item\">\n                  vegetables(X):-cuisine(X,thai).\n                </ListItem>\n                <ListItem className=\"nested-list-item\">\n                  cuisine(thaiPalace,thai).\n                </ListItem>\n              </UnorderedList>\n            </ListItem>\n          </UnorderedList>\n        </AccordionItem>\n      </Accordion>\n    );\n  }\n}\n\nexport default DemoDialogue;\n","import React, { Component } from 'react';\n\nimport DemoDialogue from './DemoDialogue';\n\nimport './Home.css'\n\nclass Home extends Component {\n  render() {\n    return (\n      <div>\n        <div className=\"bx--row\">\n          <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n            <div className=\"heading\"></div>\n            <h2 className=\"heading\">About</h2>\n          </div>\n        </div>\n        <div className=\"bx--row\">\n          <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n            <p>\n              Diners' Discourse lets you customise and generate persuasion and deliberation dialogues\n              which are set in a familiar restaurant selection scenario.\n              The application allows you to observe the differences between the two types side-by-side\n              and to peek into the commitment stores of the participating agents at any point.\n            </p>\n            <p className=\"not-first\">\n              To learn more about the creation of Diners' Discourse\n              and gain more insight into the used terminology, go to \"Background\".\n            </p>\n            <p className=\"not-first\">\n              To start generating your own dialogues, go to \"Generate\".\n            </p>\n          </div>\n        </div>\n        <div className=\"bx--row\">\n          <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n            <div className=\"heading\"></div>\n            <h2 className=\"heading\">Demo Dialogue</h2>\n          </div>\n        </div>\n        <div className=\"bx--row\">\n          <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n            <p className=\"description\">\n              Check out a snippet of a persuasion dialogue below.\n              Note how the commitment stores of the agents evolve\n              as they carry out various speech acts by expanding the accordion components.\n              Hover over the tooltips for further explanations.\n            </p>\n          </div>\n        </div>\n        <div className=\"bx--row\">\n          <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n            <DemoDialogue />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from 'react';\nimport { Button, ContentSwitcher, Link, Switch } from 'carbon-components-react';\n\nimport Background from './Background';\nimport Generate from './Generate';\nimport Home from './Home';\n\nimport './App.css';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      switchIndex: 0\n    };\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(event) {\n    this.setState({\n      switchIndex: event.index\n    });\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"announcement\">\n          <p className=\"announcement\">Check out the source code of this website.</p>\n          <Button small className=\"announcement\" kind=\"tertiary\" onClick={() => window.open('https://github.com/yankirchev/diners-discourse', '_blank').focus()}>\n            Go to GitHub\n          </Button>\n        </div>\n        <div className=\"header\">\n          <div className=\"bx--grid\">\n            <div className=\"bx--row\">\n              <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n                <h1 className=\"header\">Diners' Discourse</h1>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"bx--grid\">\n          <div className=\"bx--row\">\n            <div className=\"bx--offset-md-1 bx--col-md-10 bx--offset-xl-2 bx--col-xl-8\">\n              <ContentSwitcher className=\"content-switcher\" onChange={this.onChange}>\n                <Switch name=\"home\" text=\"Home\" />\n                <Switch name=\"background\" text=\"Background\" />\n                <Switch name=\"generate\" text=\"Generate\" />\n              </ContentSwitcher>\n            </div>\n          </div>\n          <div hidden={this.state.switchIndex !== 0}>\n            <Home />\n          </div>\n          <div hidden={this.state.switchIndex !== 1}>\n            <Background />\n          </div>\n          <div hidden={this.state.switchIndex !== 2}>\n            <Generate />\n          </div>\n        </div>\n        <footer className=\"bx--footer bx--footer--bottom-fixed footer\">\n          <div className=\"bx--footer-info\">\n            <div className=\"bx--footer-info__item\">\n              <p className=\"bx--footer-label\">Copyright &copy; Yanko Kirchev 2019</p>\n              <Link href=\"mailto:sgykirch@liverpool.ac.uk\">Contact the author</Link>\n            </div>\n            <div className=\"bx--footer-info__item\">\n              <p className=\"bx--footer-label\">Powered by Carbon Components (React)</p>\n              <Link href=\"https://www.carbondesignsystem.com\">Carbon Design System</Link>\n            </div>\n            <div className=\"bx--footer-info__item\">\n              <p className=\"bx--footer-label\">Powered by Tau Prolog</p>\n              <Link href=\"http://tau-prolog.org\">Tau Prolog</Link>\n            </div>\n          </div>\n        </footer>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\nserviceWorker.unregister();\n"],"sourceRoot":""}